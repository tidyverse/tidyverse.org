<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>roundup | Tidyverse</title><link>https://www.tidyverse.org/categories/roundup/</link><atom:link href="https://www.tidyverse.org/categories/roundup/index.xml" rel="self" type="application/rss+xml"/><description>roundup</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 27 Feb 2025 00:00:00 +0000</lastBuildDate><item><title>Q1 2025 tidymodels digest</title><link>https://www.tidyverse.org/blog/2025/02/tidymodels-2025-q1/</link><pubDate>Thu, 27 Feb 2025 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2025/02/tidymodels-2025-q1/</guid><description>&lt;!--
TODO:
* [ ] Look over / edit the post's title in the yaml
* [ ] Edit (or delete) the description; note this appears in the Twitter card
* [ ] Pick category and tags (see existing with `hugodown::tidy_show_meta()`)
* [ ] Find photo &amp; update yaml metadata
* [ ] Create `thumbnail-sq.jpg`; height and width should be equal
* [ ] Create `thumbnail-wd.jpg`; width should be >5x height
* [ ] `hugodown::use_tidy_thumbnails()`
* [ ] Add intro sentence, e.g. the standard tagline for the package
* [ ] `usethis::use_tidy_thanks()`
-->
&lt;p>The tidymodels framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;p>Since the beginning of 2021, we have been publishing quarterly updates here on the tidyverse blog summarizing what’s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the tidymodels tag to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused.&lt;/p>
&lt;p>We&amp;rsquo;ve sent a steady stream of tidymodels packages to CRAN recently. We usually release them in batches since many of our packages are tightly coupled with one another. Internally, this process is referred to as the &amp;ldquo;cascade&amp;rdquo; of CRAN submissions.&lt;/p>
&lt;p>The post will update you on which packages have changed and the major improvements you should know about.&lt;/p>
&lt;p>Here&amp;rsquo;s a list of the packages and their News sections:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://baguette.tidymodels.org/news/index.html" target="_blank" rel="noopener">baguette&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://brulee.tidymodels.org/news/index.html" target="_blank" rel="noopener">brulee&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://censored.tidymodels.org/news/index.html" target="_blank" rel="noopener">censored&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://dials.tidymodels.org/news/index.html" target="_blank" rel="noopener">dials&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://hardhat.tidymodels.org/news/index.html" target="_blank" rel="noopener">hardhat&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://parsnip.tidymodels.org/news/index.html" target="_blank" rel="noopener">parsnip&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">recipes&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tidymodels.tidymodels.org/news/index.html" target="_blank" rel="noopener">tidymodels&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tune.tidymodels.org/news/index.html" target="_blank" rel="noopener">tune&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://workflows.tidymodels.org/news/index.html" target="_blank" rel="noopener">workflows&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Let&amp;rsquo;s look at a few specific updates.&lt;/p>
&lt;h2 id="improvements-in-errors-and-warnings">Improvements in errors and warnings
&lt;a href="#improvements-in-errors-and-warnings">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>A group effort was made to improve our error and warning messages across many packages. This started with an internal &amp;ldquo;upkeep week&amp;rdquo; (which ended up being 3-4 weeks) and concluded at the
&lt;a href="https://www.tidyverse.org/blog/2024/04/tdd-2024/" target="_blank" rel="noopener">Tidy Dev Day in Seattle&lt;/a> after posit::conf(2024).&lt;/p>
&lt;p>The goal was to use new tools in the cli and rlang packages to make messages more informative than they used to be. For example, using:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">tidy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pca_extract_trained&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;variances&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>used to result in the error message:&lt;/p>
&lt;pre>&lt;code>Error in `match.arg()`:
! 'arg' should be one of &amp;quot;coef&amp;quot;, &amp;quot;variance&amp;quot;
&lt;/code>&lt;/pre>&lt;p>The new system references the function that you called and not the underlying base R function that actually errored. It also suggests a solution:&lt;/p>
&lt;pre>&lt;code>Error in `tidy()`:
! `type` must be one of &amp;quot;coef&amp;quot; or &amp;quot;variance&amp;quot;, not &amp;quot;variances&amp;quot;.
i Did you mean &amp;quot;variance&amp;quot;?
&lt;/code>&lt;/pre>&lt;p>The rlang package created a set of
&lt;a href="https://usethis.r-lib.org/reference/use_standalone.html" target="_blank" rel="noopener">standalone files&lt;/a> that contain high-quality type checkers and related functions. This also improves the information that users get from an error. For example, using an inappropriate formula value in &lt;code>fit(linear_reg(), &amp;quot;boop&amp;quot;, mtcars)&lt;/code>, the old message was:&lt;/p>
&lt;pre>&lt;code>Error in `fit()`:
! The `formula` argument must be a formula, but it is a &amp;lt;character&amp;gt;.
&lt;/code>&lt;/pre>&lt;p>and now you see:&lt;/p>
&lt;pre>&lt;code>Error in `fit()`:
! `formula` must be a formula, not the string &amp;quot;boop&amp;quot;.
&lt;/code>&lt;/pre>&lt;p>This was &lt;em>a lot&lt;/em> of work and we&amp;rsquo;re still aren’t finished. Two events helped us get as far as we did.&lt;/p>
&lt;p>First, Simon Couch made the
&lt;a href="https://simonpcouch.github.io/chores/" target="_blank" rel="noopener">chores&lt;/a> package (its previous name was &amp;ldquo;pal&amp;rdquo;), which enabled us to use AI tools to solve small-scope problems, such as converting old rlang error code to use the new
&lt;a href="https://rlang.r-lib.org/reference/topic-condition-formatting.html" target="_blank" rel="noopener">cli syntax&lt;/a>. I can’t overstate how much of a speed-up this was for us.&lt;/p>
&lt;p>Second, at developer day, many external folks pitched in to make pull requests from a list of issues:&lt;/p>
&lt;div class="figure" style="text-align: center">
&lt;img src="IMG_4743.jpeg" alt="Organizing Tidy Dev Day issues." />
&lt;p class="caption">Organizing Tidy Dev Day issues.&lt;/p>
&lt;/div>
&lt;p>I love these sessions for many reasons, but mostly because we meet users and contributors to our packages in person and work with them on specific tasks.&lt;/p>
&lt;p>There is a lot more to do here; we have a lot of secondary packages that would benefit from these improvements too.&lt;/p>
&lt;h2 id="quantile-regression-in-parsnip">Quantile regression in parsnip
&lt;a href="#quantile-regression-in-parsnip">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>One big update in parsnip was a new modeling mode of &lt;code>&amp;quot;quantile regression&amp;quot;&lt;/code>. Daniel McDonald and Ryan Tibshirani largely provided some inertia for this work based on their
&lt;a href="https://delphi.cmu.edu/" target="_blank" rel="noopener">disease modeling framework&lt;/a>.&lt;/p>
&lt;p>You can generate quantile predictions by first creating a model specification, which includes the quantiles that you want to predict:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tidymodels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">tidymodels_prefer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">ames&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="n">modeldata&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">ames&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">mutate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Sale_Price&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">log10&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Sale_Price&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Sale_Price&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Latitude&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">quant_spec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">linear_reg&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">set_engine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;quantreg&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">set_mode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;quantile regression&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">quantile_levels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">0.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="m">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="m">0.9&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">quant_spec&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## Linear Regression Model Specification (quantile regression)
##
## Computational engine: quantreg
&lt;/code>&lt;/pre>&lt;pre>&lt;code>## Quantile levels: 0.1, 0.5, and 0.9.
&lt;/code>&lt;/pre>&lt;p>We&amp;rsquo;ll add some spline terms via a recipe and fit the model:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">spline_rec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Sale_Price&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">.,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ames&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">step_spline_natural&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Latitude&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">deg_free&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">quant_fit&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">workflow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">spline_rec&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">quant_spec&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">fit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ames&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">quant_fit&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## ══ Workflow [trained] ═════════════════════════════════════════════════
## Preprocessor: Recipe
## Model: linear_reg()
##
## ── Preprocessor ───────────────────────────────────────────────────────
## 1 Recipe Step
##
## • step_spline_natural()
##
## ── Model ──────────────────────────────────────────────────────────────
## Call:
## quantreg::rq(formula = ..y ~ ., tau = quantile_levels, data = data)
##
## Coefficients:
## tau= 0.1 tau= 0.5 tau= 0.9
## (Intercept) 4.71981123 5.07728741 5.25221335
## Latitude_01 1.22409173 0.70928577 0.79000849
## Latitude_02 0.19561816 0.04937750 0.02832633
## Latitude_03 0.16616065 0.02045910 0.14730573
## Latitude_04 0.30583648 0.08489487 0.15595080
## Latitude_05 0.21663212 0.02016258 -0.01110625
## Latitude_06 0.33541228 0.12005254 0.03006777
## Latitude_07 0.47732205 0.09146728 0.17394021
## Latitude_08 0.24028784 0.30450058 0.26144584
## Latitude_09 0.05840312 -0.14733781 -0.11911843
## Latitude_10 1.52800673 0.95994216 1.21750501
##
## Degrees of freedom: 2930 total; 2919 residual
&lt;/code>&lt;/pre>&lt;p>For prediction, tidymodels always returns a data frame with as many rows as the input data set (here: &lt;code>ames&lt;/code>). The result for quantile predictions is a special vctrs class:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">quant_pred&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">predict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">quant_fit&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ames&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">quant_pred&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span> &lt;span class="nf">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="m">4&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## # A tibble: 4 × 1
## .pred_quantile
## &amp;lt;qtls(3)&amp;gt;
## 1 [5.33]
## 2 [5.33]
## 3 [5.33]
## 4 [5.31]
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">class&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">quant_pred&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">.pred_quantile&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## [1] &amp;quot;quantile_pred&amp;quot; &amp;quot;vctrs_vctr&amp;quot; &amp;quot;list&amp;quot;
&lt;/code>&lt;/pre>&lt;p>where the output &lt;code>[5.31]&lt;/code> shows the middle quantile.&lt;/p>
&lt;p>We can expand the set of quantile predictions so that there are three rows for each source row in &lt;code>ames&lt;/code>. There’s also an integer column called &lt;code>.row&lt;/code> so that we can merge the data with the source data:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">quant_pred&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">.pred_quantile[1]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## &amp;lt;quantiles[1]&amp;gt;
## [1] [5.33]
## # Quantile levels: 0.1 0.5 0.9
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">as_tibble&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">quant_pred&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">.pred_quantile[1]&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## # A tibble: 3 × 3
## .pred_quantile .quantile_levels .row
## &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;
## 1 5.08 0.1 1
## 2 5.33 0.5 1
## 3 5.52 0.9 1
&lt;/code>&lt;/pre>&lt;p>Here are the predicted quantile values:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">quant_pred&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">.pred_quantile&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">as_tibble&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">full_join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ames&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span> &lt;span class="nf">add_rowindex&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">by&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;.row&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">arrange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Latitude&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">ggplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">aes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Latitude&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">geom_point&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ames&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nf">aes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Sale_Price&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">alpha&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="m">5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">geom_line&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">aes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">.pred_quantile&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">col&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">.quantile_levels&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;span class="n">show.legend&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">FALSE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">linewidth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1.5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="figure" style="text-align: center">
&lt;img src="figure/quant-plot-1.svg" alt="10%, 50%, and 90% quantile predictions." width="80%" />
&lt;p class="caption">10%, 50%, and 90% quantile predictions.&lt;/p>
&lt;/div>
&lt;p>For now, the new mode does not have many engines. We need to implement some performance statistics in the yardstick package before integrating these models into the whole tidymodels ecosystem.&lt;/p>
&lt;p>In other news, we’ve added some additional neural network models based on some improvements in the brulee package. Namely, two-layer networks can be tuned for feed-forward networks on tabular data (using torch).&lt;/p>
&lt;p>One other improvement has been simmering for a long time: the ability to exploit sparse data structures better. We’ve improved our &lt;code>fit()&lt;/code> interfaces for the few model engines that can use sparsely encoded data. There is much more to come on this in a few months, especially around recipes, so stay tuned.&lt;/p>
&lt;p>Finally, we’ve created a set of
&lt;a href="https://parsnip.tidymodels.org/articles/checklists.html" target="_blank" rel="noopener">checklists&lt;/a> that can be used when creating new models or engines. These are very helpful, even for us, since there is a lot of minutiae to remember.&lt;/p>
&lt;h2 id="parallelism-in-tune">Parallelism in tune
&lt;a href="#parallelism-in-tune">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>This was a small maintenance release mostly related to parallel processing. Up to now, tune facilitated parallelism using the
&lt;a href="https://cran.r-project.org/package=foreach" target="_blank" rel="noopener">foreach&lt;/a> package. That package is mature but not actively developed, so we have been slowly moving toward using the
&lt;a href="https://www.futureverse.org/packages-overview.html" target="_blank" rel="noopener">future&lt;/a> package(s).&lt;/p>
&lt;p>The
&lt;a href="https://www.tidyverse.org/blog/2024/04/tune-1-2-0/#modernized-support-for-parallel-processing" target="_blank" rel="noopener">first step in this journey&lt;/a> was to keep using foreach internally (but lean toward future) but to encourage users to move from directly invoking the foreach package and, instead, load and use the future package.&lt;/p>
&lt;p>We’re now moving folks into the second stage. tune will now raise a warning when:&lt;/p>
&lt;ul>
&lt;li>A parallel backend has been registered with foreach, and&lt;/li>
&lt;li>No
&lt;a href="https://future.futureverse.org/reference/plan.html" target="_blank" rel="noopener">&lt;code>plan()&lt;/code>&lt;/a> has been specified with future.&lt;/li>
&lt;/ul>
&lt;p>This will allow users to transition their existing code to only future and allow us to update existing documentation and training materials.&lt;/p>
&lt;p>We anticipate that the third stage, &lt;strong>removing foreach entirely&lt;/strong>, will occur sometime before posit::conf(2025) in September.&lt;/p>
&lt;h2 id="things-to-look-forward-to">Things to look forward to
&lt;a href="#things-to-look-forward-to">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We are working hard on a few major initiatives that we plan on showing off at
&lt;a href="https://posit.co/conference/" target="_blank" rel="noopener">posit::conf(2025)&lt;/a>.&lt;/p>
&lt;p>First is integrated support for sparse &lt;strong>data&lt;/strong>. The emphasis is on &amp;ldquo;data&amp;rdquo; because users can use a data frame of sparse vectors &lt;em>or&lt;/em> the usual sparse matrix format. This is a big deal because it does not force you to convert non-numeric data into a numeric matrix format. Again, we’ll discuss this more in the future, but you should be able to use sparse data frames in parsnip, recipes, tune, etc.&lt;/p>
&lt;p>The second initiative is the longstanding goal of adding &lt;strong>postprocessing&lt;/strong> to tidymodels. Just as you can add a preprocessor to a model workflow, you will be able to add a set of postprocessing adjustments to the predictions your model generates. See our
&lt;a href="https://www.tidyverse.org/blog/2024/10/postprocessing-preview/" target="_blank" rel="noopener">previous post&lt;/a> for a sneak peek.&lt;/p>
&lt;p>Finally, this year&amp;rsquo;s
&lt;a href="https://www.tidyverse.org/blog/2025/01/tidymodels-2025-internship/" target="_blank" rel="noopener">summer internship&lt;/a> focuses on supervised feature selection methods. We’ll also have releases (and probably another package) for these tools.&lt;/p>
&lt;p>These should come to fruition (and CRAN) before or around August 2025.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We want to sincerely thank everyone who contributed to these packages since their previous versions:&lt;/p>
&lt;p>
&lt;a href="https://github.com/AlbertoImg" target="_blank" rel="noopener">@AlbertoImg&lt;/a>,
&lt;a href="https://github.com/asb2111" target="_blank" rel="noopener">@asb2111&lt;/a>,
&lt;a href="https://github.com/balraadjsings" target="_blank" rel="noopener">@balraadjsings&lt;/a>,
&lt;a href="https://github.com/bcjaeger" target="_blank" rel="noopener">@bcjaeger&lt;/a>,
&lt;a href="https://github.com/beansrowning" target="_blank" rel="noopener">@beansrowning&lt;/a>,
&lt;a href="https://github.com/BrennanAntone" target="_blank" rel="noopener">@BrennanAntone&lt;/a>,
&lt;a href="https://github.com/cheryldietrich" target="_blank" rel="noopener">@cheryldietrich&lt;/a>,
&lt;a href="https://github.com/chillerb" target="_blank" rel="noopener">@chillerb&lt;/a>,
&lt;a href="https://github.com/conarr5" target="_blank" rel="noopener">@conarr5&lt;/a>,
&lt;a href="https://github.com/corybrunson" target="_blank" rel="noopener">@corybrunson&lt;/a>,
&lt;a href="https://github.com/dajmcdon" target="_blank" rel="noopener">@dajmcdon&lt;/a>,
&lt;a href="https://github.com/davidrsch" target="_blank" rel="noopener">@davidrsch&lt;/a>,
&lt;a href="https://github.com/Edgar-Zamora" target="_blank" rel="noopener">@Edgar-Zamora&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/gaborcsardi" target="_blank" rel="noopener">@gaborcsardi&lt;/a>,
&lt;a href="https://github.com/gimholte" target="_blank" rel="noopener">@gimholte&lt;/a>,
&lt;a href="https://github.com/grantmcdermott" target="_blank" rel="noopener">@grantmcdermott&lt;/a>,
&lt;a href="https://github.com/grouptheory" target="_blank" rel="noopener">@grouptheory&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/ilaria-kode" target="_blank" rel="noopener">@ilaria-kode&lt;/a>,
&lt;a href="https://github.com/JamesHWade" target="_blank" rel="noopener">@JamesHWade&lt;/a>,
&lt;a href="https://github.com/jesusherranz" target="_blank" rel="noopener">@jesusherranz&lt;/a>,
&lt;a href="https://github.com/jkylearmstrong" target="_blank" rel="noopener">@jkylearmstrong&lt;/a>,
&lt;a href="https://github.com/joranE" target="_blank" rel="noopener">@joranE&lt;/a>,
&lt;a href="https://github.com/joscani" target="_blank" rel="noopener">@joscani&lt;/a>,
&lt;a href="https://github.com/Joscelinrocha" target="_blank" rel="noopener">@Joscelinrocha&lt;/a>,
&lt;a href="https://github.com/josho88" target="_blank" rel="noopener">@josho88&lt;/a>,
&lt;a href="https://github.com/joshuagi" target="_blank" rel="noopener">@joshuagi&lt;/a>,
&lt;a href="https://github.com/JosiahParry" target="_blank" rel="noopener">@JosiahParry&lt;/a>,
&lt;a href="https://github.com/jrosell" target="_blank" rel="noopener">@jrosell&lt;/a>,
&lt;a href="https://github.com/jrwinget" target="_blank" rel="noopener">@jrwinget&lt;/a>,
&lt;a href="https://github.com/KarlKoe" target="_blank" rel="noopener">@KarlKoe&lt;/a>,
&lt;a href="https://github.com/kscott-1" target="_blank" rel="noopener">@kscott-1&lt;/a>,
&lt;a href="https://github.com/lilykoff" target="_blank" rel="noopener">@lilykoff&lt;/a>,
&lt;a href="https://github.com/lionel-" target="_blank" rel="noopener">@lionel-&lt;/a>,
&lt;a href="https://github.com/LouisMPenrod" target="_blank" rel="noopener">@LouisMPenrod&lt;/a>,
&lt;a href="https://github.com/luisDVA" target="_blank" rel="noopener">@luisDVA&lt;/a>,
&lt;a href="https://github.com/marcelglueck" target="_blank" rel="noopener">@marcelglueck&lt;/a>,
&lt;a href="https://github.com/marcozanotti" target="_blank" rel="noopener">@marcozanotti&lt;/a>,
&lt;a href="https://github.com/martaalcalde" target="_blank" rel="noopener">@martaalcalde&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/mihem" target="_blank" rel="noopener">@mihem&lt;/a>,
&lt;a href="https://github.com/mitchellmanware" target="_blank" rel="noopener">@mitchellmanware&lt;/a>,
&lt;a href="https://github.com/naokiohno" target="_blank" rel="noopener">@naokiohno&lt;/a>,
&lt;a href="https://github.com/nhward" target="_blank" rel="noopener">@nhward&lt;/a>,
&lt;a href="https://github.com/npelikan" target="_blank" rel="noopener">@npelikan&lt;/a>,
&lt;a href="https://github.com/obgeneralao" target="_blank" rel="noopener">@obgeneralao&lt;/a>,
&lt;a href="https://github.com/owenjonesuob" target="_blank" rel="noopener">@owenjonesuob&lt;/a>,
&lt;a href="https://github.com/pbhogale" target="_blank" rel="noopener">@pbhogale&lt;/a>,
&lt;a href="https://github.com/Peter4801" target="_blank" rel="noopener">@Peter4801&lt;/a>,
&lt;a href="https://github.com/pgg1309" target="_blank" rel="noopener">@pgg1309&lt;/a>,
&lt;a href="https://github.com/reisner" target="_blank" rel="noopener">@reisner&lt;/a>,
&lt;a href="https://github.com/rfsaldanha" target="_blank" rel="noopener">@rfsaldanha&lt;/a>,
&lt;a href="https://github.com/rkb965" target="_blank" rel="noopener">@rkb965&lt;/a>,
&lt;a href="https://github.com/RobLBaker" target="_blank" rel="noopener">@RobLBaker&lt;/a>,
&lt;a href="https://github.com/RodDalBen" target="_blank" rel="noopener">@RodDalBen&lt;/a>,
&lt;a href="https://github.com/SantiagoD999" target="_blank" rel="noopener">@SantiagoD999&lt;/a>,
&lt;a href="https://github.com/shum461" target="_blank" rel="noopener">@shum461&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/szimmer" target="_blank" rel="noopener">@szimmer&lt;/a>,
&lt;a href="https://github.com/talegari" target="_blank" rel="noopener">@talegari&lt;/a>,
&lt;a href="https://github.com/therealjpetereit" target="_blank" rel="noopener">@therealjpetereit&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/walkerjameschris" target="_blank" rel="noopener">@walkerjameschris&lt;/a>, and
&lt;a href="https://github.com/ZWael" target="_blank" rel="noopener">@ZWael&lt;/a>&lt;/p></description></item><item><title>Three experiments in LLM code assist with RStudio and Positron</title><link>https://www.tidyverse.org/blog/2025/01/experiments-llm/</link><pubDate>Wed, 29 Jan 2025 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2025/01/experiments-llm/</guid><description>&lt;p>The last few months, I&amp;rsquo;ve been exploring how AI/LLMs might make my time developing R packages and doing data science more productive. This post will describe three experimental R packages&amp;mdash;
&lt;a href="https://simonpcouch.github.io/pal/" target="_blank" rel="noopener">pal&lt;/a>,
&lt;a href="https://simonpcouch.github.io/ensure/" target="_blank" rel="noopener">ensure&lt;/a>, and
&lt;a href="https://simonpcouch.github.io/gander/" target="_blank" rel="noopener">gander&lt;/a>&amp;mdash;that came out of that exploration, and the core tools underlying them. Taken together, I&amp;rsquo;ve found that these packages allow me to automate many of the less interesting parts of my work, turning all sorts of 45-second tasks into 5-second ones. Excitement from folks in the community has been very encouraging so far, and I&amp;rsquo;m looking forward to getting each of these packages buttoned up and sent off to CRAN in the coming weeks!&lt;/p>
&lt;h2 id="background">Background
&lt;a href="#background">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Twice a year, the tidyverse team sets a week aside for &amp;ldquo;spring cleaning,&amp;rdquo; bringing all of our R packages up to snuff with the most current tooling and standardizing various bits of our development process. Some of these updates can happen by calling a single function, while others are much more involved. One of those more involved updates is updating erroring code, transitioning away from base R (e.g. 
&lt;a href="https://rdrr.io/r/base/stop.html" target="_blank" rel="noopener">&lt;code>stop()&lt;/code>&lt;/a>), rlang (e.g. 
&lt;a href="https://rlang.r-lib.org/reference/abort.html" target="_blank" rel="noopener">&lt;code>rlang::abort()&lt;/code>&lt;/a>),
&lt;a href="https://glue.tidyverse.org/" target="_blank" rel="noopener">glue&lt;/a>, and homegrown combinations of them. cli&amp;rsquo;s new syntax is easier to work with as a developer and more visually pleasing as a user.&lt;/p>
&lt;p>In some cases, transitioning is almost as simple as Finding + Replacing
&lt;a href="https://rlang.r-lib.org/reference/abort.html" target="_blank" rel="noopener">&lt;code>rlang::abort()&lt;/code>&lt;/a> to
&lt;a href="https://cli.r-lib.org/reference/cli_abort.html" target="_blank" rel="noopener">&lt;code>cli::cli_abort()&lt;/code>&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># before:&lt;/span>
&lt;span class="n">rlang&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">abort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;`save_pred` can only be used if the initial results saved predictions.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># after: &lt;/span>
&lt;span class="n">cli&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">cli_abort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;{.arg save_pred} can only be used if the initial results saved predictions.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>In others, there&amp;rsquo;s a mess of ad-hoc pluralization,
&lt;a href="https://rdrr.io/r/base/paste.html" target="_blank" rel="noopener">&lt;code>paste0()&lt;/code>&lt;/a>s, glue interpolations, and other assorted nonsense to sort through:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># before:&lt;/span>
&lt;span class="n">extra_grid_params&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="n">glue&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">single_quote&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">extra_grid_params&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">extra_grid_params&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="n">glue&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">glue_collapse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">extra_grid_params&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sep&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;, &amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">msg&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="n">glue&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">glue&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="s">&amp;#34;The provided `grid` has the following parameter columns that have &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;not been marked for tuning by `tune()`: {extra_grid_params}.&amp;#34;&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="n">rlang&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">abort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># after:&lt;/span>
&lt;span class="n">cli&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">cli_abort&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="s">&amp;#34;The provided {.arg grid} has parameter columns that have not been
&lt;/span>&lt;span class="s"> marked for tuning by {.fn tune}: {.val {extra_grid_params}}.&amp;#34;&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Total pain, especially with thousands upon thousands of error messages thrown across the tidyverse, r-lib, and tidymodels organizations.&lt;/p>
&lt;p>The week before our most recent spring cleaning, I participated in an internal Posit LLM hackathon, where a small group of employees would familiarize with interfacing with LLMs via APIs and then set aside a day or two to build something to make their work easier. Heading into our spring cleaning and dreading the task of updating thousands of these calls, I decided to look into how effectively LLMs could help me convert this code. Thus was born
&lt;a href="https://github.com/simonpcouch/clipal" target="_blank" rel="noopener">clipal&lt;/a>&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>, a (now-superseded) R package that allows users to select erroring code, press a keyboard shortcut, wait a moment, and watch the updated code be inlined in to the selection.&lt;/p>
&lt;div class="highlight">
&lt;p>&lt;img src="figs/clipal.gif" alt="A screencast of an RStudio session with an R file open in the source editor. 9 lines of ad-hoc erroring code are selected and, after a brief pause, replace with one call to [`cli::cli_abort()`](https://cli.r-lib.org/reference/cli_abort.html)." width="700px" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>clipal was a &lt;em>huge&lt;/em> boost for us in the most recent spring cleaning. Depending on the code being updated, these erroring calls used to take 30 seconds to a few minutes. With clipal, though, the model could usually get the updated code 80% or 90% of the way there in a couple seconds. Up to this point, irritated by autocomplete and frustrated by the friction of copying and pasting code and typing out the same bits of context into chats again and again, I had been relatively skeptical that LLMs could make me more productive. After using clipal for a week, though, I began to understand how seamlessly LLMs could automate the cumbersome and uninteresting parts of my work.&lt;/p>
&lt;p>clipal itself is now superseded by pal, a more general solution to the problem that clipal solved. I&amp;rsquo;ve also written two additional packages like pal that solve two other classes of pal-like problems using similar tools, ensure and gander. In this post, I&amp;rsquo;ll write a bit about how I&amp;rsquo;ve used a pair of tools in three experiments that have made me much more productive as an R developer.&lt;/p>
&lt;h2 id="prerequisites-ellmer-and-the-rstudio-api">Prerequisites: ellmer and the RStudio API
&lt;a href="#prerequisites-ellmer-and-the-rstudio-api">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>While clipal is now superseded, the package that supersedes it and its other two descendants makes use of the same two tools:
&lt;a href="https://github.com/tidyverse/ellmer" target="_blank" rel="noopener">ellmer&lt;/a> and the
&lt;a href="https://rstudio.github.io/rstudioapi/" target="_blank" rel="noopener">RStudio API&lt;/a>.&lt;/p>
&lt;p>Last year, Hadley Wickham and Joe Cheng began work on ellmer, a package that aims to make it easy to use large language models in R. For folks that have tried to use LLM APIs through HTTP requests, or interfaced with existing tools that wrap them like langchain, ellmer is pretty incredible. R users can initialize a Chat object using a predictably named function:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ellmer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># to use a model like GPT-4o or GPT-4o-mini from OpenAI:&lt;/span>
&lt;span class="n">ch&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">chat_openai&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1"># ...or a locally hosted ollama model:&lt;/span>
&lt;span class="n">ch&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">chat_ollama&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1"># ...or Claude&amp;#39;s Sonnet model:&lt;/span>
&lt;span class="n">ch&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">chat_claude&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Then calling the output&amp;rsquo;s &lt;code>$chat()&lt;/code> method returns a character response:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">ch&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="nf">chat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;When was R created? Be brief.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; R was created in 1993 by Ross Ihaka and Robert Gentleman at &lt;/span>
&lt;span class="c1">#&amp;gt; the University of Auckland, New Zealand.&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>There&amp;rsquo;s a whole lot more to ellmer, but this functionality alone was enough to make clipal happen. I could allow users to choose a Chat from whatever provider they prefer to power the addin and ellmer would take care of all of the details underneath the hood.&lt;/p>
&lt;p>The other puzzle piece here was how to get that character vector directly into the file so that the user didn&amp;rsquo;t have to copy and paste code from a chat interface into their document. The RStudio IDE supplies an API to interface with various bits of the RStudio UI through R code via the rstudioapi package. Notably, through R code, the package can read what&amp;rsquo;s inside of the user&amp;rsquo;s active selection and also write character vectors into that range. clipal could thus:&lt;/p>
&lt;ul>
&lt;li>When triggered, read what&amp;rsquo;s inside of the selection using rstudioapi.&lt;/li>
&lt;li>Pass that selection contents to an LLM along with a system prompt describing how to convert R erroring code to use cli using ellmer. (If you&amp;rsquo;re curious, the current draft of that prompt is
&lt;a href="https://github.com/simonpcouch/pal/blob/1cd81736ee11cfaea1fd2466025dffcbdb845c3c/inst/prompts/cli-replace.md" target="_blank" rel="noopener">here&lt;/a>.)&lt;/li>
&lt;li>When the response is returned, replace the contents of the selection with the response using cli.&lt;/li>
&lt;/ul>
&lt;p>This approach of using ellmer and the rstudioapi has its ups and downs. As for the advantages:&lt;/p>
&lt;ul>
&lt;li>Our
&lt;a href="https://positron.posit.co/" target="_blank" rel="noopener">Positron IDE&lt;/a> has &amp;ldquo;shims&amp;rdquo; of the RStudio API, so whatever works in RStudio will also work in Positron. This means that the same shortcuts can be mapped to the same tool in either IDE and it will just work without me, as the developer, having to do anything.&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/li>
&lt;li>Since these packages are written in R, they have access to your R environment. This is quite the differentiator compared to the more language-agnostic tools out there&amp;mdash;these packages can see the data frames you have loaded, the columns and column types in them, etc. When working with other tools for LLM code-assist that don&amp;rsquo;t have this information, the friction of printing out variable information from my R environment and pasting it into whatever interface is so high that I don&amp;rsquo;t even ask LLMs for help with tasks they&amp;rsquo;re otherwise totally capable of.&lt;/li>
&lt;li>Using ellmer under the hood means that, once R users have set up model connections with ellmer, they can use the same configuration with any of these packages with minimal additional effort. So, clipal and the packages that followed it support whatever model providers their users want to use&amp;mdash;OpenAI, Claude, local ollama models, and so on. If you can use it with ellmer, you can use it with these packages.&lt;/li>
&lt;/ul>
&lt;p>As for the disadvantages, there are all sorts of UI bummers about this approach. Above all, these packages write directly to your files. This is great in that it removes the need to copy and paste, and when the model&amp;rsquo;s response is spot on, it&amp;rsquo;s awesome. At the same time, if the model starts rambling in an &lt;code>.R&lt;/code> file or you want to confirm some difference between your previous code and the new code, the fact that these packages just write right into your files can be a bit annoying. Many other inline LLM code-assist tools out there are based on diffs&amp;mdash;they show you proposed changes and some UI element that allows you to accept them, reject them, or ask for revisions. This requires one more step between asking for an LLM to do something and the thing actually being done, but saves the pain of lots of undoing or manually retrieving what code used to look like to verify the model&amp;rsquo;s work.&lt;/p>
&lt;h2 id="pal">pal
&lt;a href="#pal">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;img src="https://github.com/simonpcouch/pal/blob/main/inst/figs/logo.png?raw=true" align="right" height="240" alt="The package hex, a yellow blob happily holding a checklist amid a purple background."/>
&lt;p>After using clipal during our spring cleaning, I approached another spring cleaning task for the week: updating testing code. testthat 3.0.0 was released in 2020, bringing with it numerous changes that were both huge quality of life improvements for package developers and also highly breaking changes. While some of the task of converting legacy unit testing code to testthat 3e is relatively straightforward, other components can be quite tedious. Could I do the same thing for updating to testthat 3e that I did for transitioning to cli? I sloppily threw together a sister package to clipal that would convert tests for errors to snapshot tests, disentangle nested expectations, and transition from deprecated functions like &lt;code>⁠expect_known_*()&lt;/code>. ⁠(If you&amp;rsquo;re interested, the current prompt for that functionality is
&lt;a href="https://github.com/simonpcouch/pal/blob/1cd81736ee11cfaea1fd2466025dffcbdb845c3c/inst/prompts/testthat-replace.md" target="_blank" rel="noopener">here&lt;/a>.) That sister package was also a huge boost for me, but the package reused as-is almost every piece of code from clipal other than the prompt. Thus, I realized that the proper solution would provide all of this scaffolding to attach a prompt to a keyboard shortcut, but allow for an arbitrary set of prompts to help automate these wonky, cumbersome tasks.&lt;/p>
&lt;p>The next week,
&lt;a href="https://simonpcouch.github.io/pal/" target="_blank" rel="noopener">pal&lt;/a> was born. The pal package ships with three prompts centered on package development: the cli pal and testthat pal mentioned previously, as well as the roxygen pal, which drafts minimal roxygen documentation based on a function definition. Here&amp;rsquo;s what pal&amp;rsquo;s interface looks like now:&lt;/p>
&lt;div class="highlight">
&lt;p>&lt;img src="figs/pal.gif" alt="Another RStudio screencast. This time, a 12-line function definition is iteratively revised as the user selects lines of code and selects an entry in a dropdown menu, after which a model streams new code in place. In addition to converting erroring code, the model also drafts roxygen documentation for a function." width="100%" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>Users can add custom prompts for whatever tasks they please and they&amp;rsquo;ll be included in the searchable dropdown shown above.&lt;/p>
&lt;p>I&amp;rsquo;ve been super appreciative of all of the love the package has received already, and I&amp;rsquo;ll be sending the package out to CRAN in the coming weeks.&lt;/p>
&lt;h2 id="ensure">ensure
&lt;a href="#ensure">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>While deciding on the initial set of prompts that pal would include, I really wanted to include some sort of &amp;ldquo;write unit tests for this function&amp;rdquo; pal. To really address this problem, though, requires violating two of pal&amp;rsquo;s core assumptions:&lt;/p>
&lt;ul>
&lt;li>&lt;em>All of the context that you need is in the selection and the prompt.&lt;/em> In the case of writing unit tests, it&amp;rsquo;s actually pretty important to have other pieces of context. If a package provides some object type &lt;code>potato&lt;/code>, in order to write tests for some function that takes &lt;code>potato&lt;/code> as input, it&amp;rsquo;s likely very important to know how potatoes are created and the kinds of properties they have. pal&amp;rsquo;s sister package for writing unit tests, ensure, can thus &amp;ldquo;see&amp;rdquo; the rest of the file that you&amp;rsquo;re working on, as well as context from neighboring files like other &lt;code>.R&lt;/code> source files, the corresponding test file, and package vignettes, to learn about how to interface with the function arguments being tested.&lt;/li>
&lt;li>&lt;em>The LLM&amp;rsquo;s response can prefix, replace, or suffix the active selection in the same file.&lt;/em> In the case of writing unit tests for R, the place that tests actually ought to go is in a corresponding test file in &lt;code>tests/testthat/&lt;/code>. Via the RStudio API, ensure can open up the corresponding test file and write to it rather than the source file where it was triggered from.&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/li>
&lt;/ul>
&lt;div class="highlight">
&lt;p>&lt;img src="figs/ensure.gif" alt="Another RStudio screencast. This time, the user selects around 20 lines of code situated in an R package and, after pressing a key command, the addin opens a corresponding test file and begins streaming unit testing code into the file. After the model completes streaming, the user runs the testing code and all tests pass." width="100%" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>So far, I haven&amp;rsquo;t spent as much time with ensure as I have with pal or gander, but I&amp;rsquo;ll be revisiting the package and sending it off to CRAN in the coming weeks.&lt;/p>
&lt;h2 id="gander">gander
&lt;a href="#gander">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>&lt;a href="https://simonpcouch.github.io/gander/">&lt;img src="https://github.com/simonpcouch/gander/blob/main/inst/figs/gander.png?raw=true" align="right" height="240" alt="The package hex, a goose hanging out amid a green background." />&lt;/a>&lt;/p>
&lt;p>pal really excels at things you do all the time. Providing custom prompts with lots of details about code syntax and your taste means that models will often provide code that&amp;rsquo;s almost exactly what you&amp;rsquo;d write yourself. On its own, though, pal is incomplete as a toolkit for LLM code-assist. What about one-off requests that are specific to the environment that I&amp;rsquo;m working in or things I only do every once in a long while? It&amp;rsquo;s nice to have a much more general tool that functions much more like a chat interface.&lt;/p>
&lt;p>At the same time, working with usual chat interfaces is quite high-friction, so much so that you&amp;rsquo;ll likely spend more time pasting in context from your files and R environmet than you would if you had just written the code yourself. There are all sorts of language-agnostic interfaces (or language-specific but not for R or RStudio) tools out there implementing this. You type some request with your cursor near some code, and then, in the backend, the tool assembles a bunch of context that will help the model respond more effectively. This is super helpful for many software engineering contexts, where most all of the context you need can be found in the contents of files. Data science differs a bit from software engineering here, though, in that the state of your R environment is just as important (or more so) than the contents of your files. For example, the lines of your files may show that you reference some data frame called &lt;code>stackoverflow&lt;/code>, but what will &lt;em>really&lt;/em> help a model write R code to interface with that data frame is &amp;ldquo;seeing&amp;rdquo; it: what columns are in it, and what are their types and distributions? gander is a chat interface that allows models to see the data you&amp;rsquo;re working with.&lt;/p>
&lt;div class="highlight">
&lt;p>&lt;img src="figs/gander.gif" alt="Another RStudio screencast. A script called example.R is open in the editor with lines library(ggplot2), data(stackoverflow), and stackoverflow. After highlighting the last line, the user triggers the addin and ask to plot the data in plain language, at which point code to plot the data using ggplot2 is streamed into the source file that uses the correct column names and a minimal style. The user iteratively calls the addin to refine the output." width="100%" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>Behind the scenes, gander combines your selection (or lack thereof), inputted request, file type and contents, and R environment to dynamically assemble prompts to best enable models to tailor their responses to your R session. I use gander several times every day to turn 45-second tasks into 5-second ones and have been super stoked with how well-received it&amp;rsquo;s been among R folks so far. Compared to pal and ensure, this package feels like a much more substantial lift for data scientists specifically (rather than package developers). In the coming weeks, I&amp;rsquo;ll sand down some of its rough edges and send it off to CRAN.&lt;/p>
&lt;h2 id="whats-next">What&amp;rsquo;s next?
&lt;a href="#whats-next">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>For now, all of these packages only live on my GitHub profile. In the coming weeks, I plan to revisit each of them, squash a bunch of bugs, and send them off to CRAN.&lt;/p>
&lt;p>That said, these packages are very much experimental. The user interface of writing directly to users&amp;rsquo; files very much limits how useful these tools can be, and I think that the kinds of improvements to interface I&amp;rsquo;m hoping for may only be possible via some backend other than the RStudio API. I&amp;rsquo;m looking forward to seeing what that could look like.&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>Pronounced &amp;ldquo;c-l-i pal.&amp;rdquo; &lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>In reality, there are bugs and differences here and there, but the development effort to get these packages working in Positron was relatively minimal. &lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3" role="doc-endnote">
&lt;p>This is one gap between the RStudio API and Positron&amp;rsquo;s shims for it. The Positron shims currently don&amp;rsquo;t allow for toggling between files, so ensure isn&amp;rsquo;t available in Positron. &lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>Updates to Text Rendering in R Graphics</title><link>https://www.tidyverse.org/blog/2025/01/text-rendering-updates/</link><pubDate>Fri, 17 Jan 2025 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2025/01/text-rendering-updates/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with `hugodown::tidy_show_meta()`)
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] `hugodown::use_tidy_thumbnails()`
* [ ] Add intro sentence, e.g. the standard tagline for the package
* [ ] `usethis::use_tidy_thanks()`
-->
&lt;blockquote class="bluesky-embed" data-bluesky-uri="at://did:plc:6cf4jj62ofgoswlxcqdvtcg5/app.bsky.feed.post/3lfevs4qe5k2l" data-bluesky-cid="bafyreigvpe72rfvuw47nr6qrec2je2lntsowdnzer5vz2imjbejree6ebm">&lt;p lang="en">text rendering is one of those disciplines where, if you think you finally got it right, you can be 100% certain that you didn&amp;#x27;t&lt;/p>&amp;mdash; Thomas Lin Pedersen (&lt;a href="https://bsky.app/profile/did:plc:6cf4jj62ofgoswlxcqdvtcg5?ref_src=embed">@thomasp85.com&lt;/a>) &lt;a href="https://bsky.app/profile/did:plc:6cf4jj62ofgoswlxcqdvtcg5/post/3lfevs4qe5k2l?ref_src=embed">January 10, 2025 at 10:44 AM&lt;/a>&lt;/blockquote>&lt;script async src="https://embed.bsky.app/static/embed.js" charset="utf-8">&lt;/script>
&lt;p>No reason to hide the fact: Text rendering is complicated! When I set out to improve the support for modern text rendering features in R all those years ago, I don&amp;rsquo;t think I truly appreciated that fact. And probably for the better, since I&amp;rsquo;m not sure I would have taken on the task had I known.&lt;/p>
&lt;p>Taking the quote above as a universal truth (it comes from a reputable source after all), I&amp;rsquo;m sure I&amp;rsquo;ll never be fully done, but recent work on the whole stack at least makes me worry less about the correctness. This post will go through the changes that span the
&lt;a href="https://github.com/r-lib/systemfonts" target="_blank" rel="noopener">systemfonts&lt;/a>,
&lt;a href="https://github.com/r-lib/textshaping" target="_blank" rel="noopener">textshaping&lt;/a>, and
&lt;a href="https://marquee.r-lib.org" target="_blank" rel="noopener">marquee&lt;/a> packages and let you now how you, as a user or developer, should take advantage of them.&lt;/p>
&lt;h2 id="working-with-non-installed-fonts">Working with non-installed fonts
&lt;a href="#working-with-non-installed-fonts">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The genesis of the systemfonts package was a need to be able to tap into the operating systems font library, so that whatever was installed on the system, would be available to graphics devices (assuming those devices used systemfonts). The scope of the package has gradually increased, and one of the needs that has become obvious over time, is a way to work with fonts, that aren&amp;rsquo;t installed on the system (E.g. if you want to bundle a font with a package, or if you are deploying a Shiny app that uses a specific font for the graphics).&lt;/p>
&lt;p>Until now, the &lt;code>register_font()&lt;/code> and &lt;code>register_variant()&lt;/code> functions have been the only option for letting systemfonts know about fonts other than those installed on the system. However, both of these functions were designed to circumvent limitations in the R graphics system when it comes to font selection (e.g. no way to use a &amp;ldquo;thin&amp;rdquo; font variant as the only weight option in the graphics system is bold yes/no), and as such were clunky to use for introducing new fonts.&lt;/p>
&lt;p>With the new version of systemfonts we get a dedicated way to tell systemfonts &amp;ldquo;please consider these font files as equals to the installed ones&amp;rdquo;. The function is called &lt;code>add_fonts()&lt;/code> and all you need to do is to pass in a vector of paths to font files and these will then be reachable by systemfonts.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># Add fonts from specific files&lt;/span>
&lt;span class="n">systemfonts&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">add_fonts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;path/to/font1.ttf&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;path/to/font2.ttf&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>In addition to this function, systemfonts also comes with &lt;code>scan_local_fonts()&lt;/code> that looks in &lt;code>./fonts&lt;/code> and &lt;code>~/fonts&lt;/code> and adds any fonts located there. The function is called when systemfonts is loaded meaning that you can immediately uses fonts saved in these directories. This is great for deploying projects because all you need to do is to include a &lt;code>fonts&lt;/code> folder at the root of you project and these fonts will then always be available wherever you deploy your code.&lt;/p>
&lt;p>While it is nice to have good access to the font files on your computer, the files has to come from somewhere. Nowadays that &lt;em>somewhere&lt;/em> is usually
&lt;a href="https://fonts.google.com" target="_blank" rel="noopener">Google Fonts&lt;/a> or some other online font repository. systemfonts is now aware of a few of these repositories (Google Fonts and
&lt;a href="https://www.fontsquirrel.com" target="_blank" rel="noopener">Font Squirrel&lt;/a> for now), and can search and download from these (using &lt;code>search_web_fonts()&lt;/code>, &lt;code>get_from_google_fonts()&lt;/code>, and &lt;code>get_from_font_squirrel()&lt;/code>). The downloaded fonts are automatically added using &lt;code>add_fonts()&lt;/code> so they are immediately available, and by default they are placed in &lt;code>~/fonts&lt;/code> so that they persist across R sessions and projects.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># Search and download fonts&lt;/span>
&lt;span class="n">systemfonts&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">get_from_font_squirrel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Quicksand&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">systemfonts&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">get_from_google_fonts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Rubik Moonrocks&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>But what if you don&amp;rsquo;t want to think too much about all these details and just want to ensure that some specific font is available when a piece of code is running? In that case &lt;code>require_font()&lt;/code> got you covered. This function allows you to state a dependency on a font in a script. The function scans the available fonts on the system and, if it doesn&amp;rsquo;t find anything, proceeds to look for the font in the online repositories, downloading it if it finds it. If that also fails the function will either throw an error, or map the required font to a fallback of your choosing:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">systemfonts&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">require_font&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Rubik Moonrocks&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">plot.new&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="nf">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="m">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Fancy Font&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">family&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Rubik Moonrocks&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">6&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="figure/unnamed-chunk-3-1.png" alt="plot of chunk unnamed-chunk-3">&lt;/p>
&lt;p>Remember that all of these niceties only goes into effect if you use a graphics device that uses systemfonts. For now, that more or less means that you should use ragg (you should use ragg anyway so that is not a terrible requirement).&lt;/p>
&lt;h2 id="getting-to-the-glyphs">Getting to the Glyphs
&lt;a href="#getting-to-the-glyphs">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Most fonts these days are based on a vector outline. That means that they can be scaled smoothly to any size and doesn&amp;rsquo;t take up a lot of storage space. It also means that there are polygons inside the font files and that these can be extracted! This is now possible with systemfonts and the new &lt;code>glyph_outline()&lt;/code> and &lt;code>glyph_raster()&lt;/code> functions.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># Get the location of the glyph inside the font&lt;/span>
&lt;span class="n">moonrocks&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">font_info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Rubik Moonrocks&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">G&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">glyph_info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;G&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">moonrocks&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">moonrocks&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># Extract the outline of the glyph and plot it&lt;/span>
&lt;span class="n">outline&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">glyph_outline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">G&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">moonrocks&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">moonrocks&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">400&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">grid&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">grid.path&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">outline&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">outline&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="m">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># To raise the baseline a bit&lt;/span>
&lt;span class="n">id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">outline&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">contour&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">default.units&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;bigpts&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">gp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">grid&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">gpar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fill&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;grey&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">col&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;black&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lwd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">4&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="figure/unnamed-chunk-4-1.png" alt="plot of chunk unnamed-chunk-4">&lt;/p>
&lt;p>Extracting them as polygons means that we can do all sorts of weird stuff with them if we so pleases:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># Skew the glyph making it italic&lt;/span>
&lt;span class="n">grid&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">grid.path&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">outline&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">outline&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="m">0.4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">outline&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="m">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># To raise the baseline a bit&lt;/span>
&lt;span class="n">id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">outline&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">contour&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">default.units&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;bigpts&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">gp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">grid&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">gpar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fill&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;grey&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">col&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;black&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lwd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">4&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="figure/unnamed-chunk-5-1.png" alt="plot of chunk unnamed-chunk-5">&lt;/p>
&lt;p>(real italic glyphs are designed to look good skewed, not just skewed versions of the regular glyphs)&lt;/p>
&lt;p>Remember how I said &amp;ldquo;most fonts&amp;rdquo; in the beginning of this section. There are still fonts that do not provide an outline, the prime example being most emoji fonts. The glyphs in such fonts are encoded as multiple bitmaps at fixed sizes (Microsofts emoji font going a different way by encoding them as SVGs). Since we can&amp;rsquo;t get to the data as outlines we can instead extract it as a raster:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">emoji&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">font_info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;emoji&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">dancer&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">glyph_info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;💃&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">emoji&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">emoji&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">raster&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">glyph_raster&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dancer&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">emoji&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">emoji&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">400&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">grid&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">grid.draw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">glyph_raster_grob&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">raster[[1]]&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="m">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="m">50&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="figure/unnamed-chunk-6-1.png" alt="plot of chunk unnamed-chunk-6">&lt;/p>
&lt;p>In the above we used the &lt;code>glyph_raster_grob()&lt;/code> helper function to create a raster grob with the correct scaling of the resulting raster.&lt;/p>
&lt;p>Raster extraction is not only for bitmap encoded fonts since it is easy to go from an outline to a raster (but not the other way around). Freetype (which systemfonts uses) includes a very efficient scanline rasterizer (the same as used in ragg) and we can thus get a raster version of any font:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">raster2&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">glyph_raster&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">G&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">moonrocks&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">moonrocks&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">400&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">grid&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">grid.draw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">glyph_raster_grob&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">raster2[[1]]&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="m">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="m">20&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="figure/unnamed-chunk-7-1.png" alt="plot of chunk unnamed-chunk-7">&lt;/p>
&lt;h2 id="the-way-the-text-flows">The Way the Text Flows
&lt;a href="#the-way-the-text-flows">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The thing that provoked me to writing the quote in the beginning of this blog post, was my work on the textshaping package. This package is largely invisible to the user but together with systemfonts it is responsible for laying out strings of text correctly. It figures out the location of every glyph and finds alternative fonts if the selected one doesn&amp;rsquo;t contain the needed glyph. textshaping powers ragg as well as marquee, doing the heavy lifting of translating a string of text into glyphs and locations.&lt;/p>
&lt;p>Part of converting a string into glyphs and coordinates (a process known as text shaping) is to figure out which way the text flows and act accordingly. For many people left-to-right flow is the natural text direction, but this is merely a cultural bias and many scripts with a different flow exists (arabic and hebrew being the two most dominant right-to-left flowing scripts). So, part of shaping requires figuring out what script a specific character belongs to and what direction it flows. This is all fairly simple when a string internally agrees on the direction of flow, but can get much more complicated when scripts are embedded within other scripts that doesn&amp;rsquo;t have the same flow (not to mention scripts embedded even deeper). Combine all of this with soft wrapping of text inside an embedded script and you got the recipe for a headache. textshaping (through me) already made the claim that it fully supported bi-directional text but it turned out that I severely misjudged the complexity. Because of this, the shaping engine has been rewritten almost from scratch. Based on the starting quote I can&amp;rsquo;t quite claim that it now works 100% correctly but it does pass all 91.707 test cases for bidirectional text provided by the Unicode consortium so there&amp;rsquo;s that.&lt;/p>
&lt;p>Again, it is unlikely that you will come into contact with textshaping directly so you will mostly experience these improvements in the way text just appears more correct (to the extend that this was ever an issue for you). The place you are most likely to stumble upon these changes is marquee, which uses textshaping under the hood. Styling in marquee has been expanded to include a &lt;code>text_direction&lt;/code> setting. It defaults to &lt;code>&amp;quot;auto&amp;quot;&lt;/code> which mean &amp;ldquo;deduce it from the text you get&amp;rdquo;, but you can also set it to &lt;code>&amp;quot;ltr&amp;quot;&lt;/code> or &lt;code>&amp;quot;rtl&amp;quot;&lt;/code> to set the direction explicitly. Be aware that this setting doesn&amp;rsquo;t change how single glyphs flow so you cannot use it to e.g. write arabic in left-to-right flow. Instead it governs the paragraph-level direction and thus how bi-directional text should be assembled. It also governs to which side indentation happen and the placement of bullets in bullet lists. Often, leaving it on the default value will work fine. There are also two new values for the &lt;code>align&lt;/code> setting. &lt;code>&amp;quot;auto&amp;quot;&lt;/code> picks either &lt;code>&amp;quot;left&amp;quot;&lt;/code> or &lt;code>&amp;quot;right&amp;quot;&lt;/code> depending on the text direction, while &lt;code>&amp;quot;justified&amp;quot;&lt;/code> picks either &lt;code>&amp;quot;justified-left&amp;quot;&lt;/code> or &lt;code>&amp;quot;justified-right&amp;quot;&lt;/code>. This makes it much easier to work natively with right-to-left text as everything just looks as it should. To top it off, &lt;code>classic_style()&lt;/code> gains an &lt;code>ltr&lt;/code> argument that controls whether the styling in general should cater to left-to-right or right-to-left text. It controls things such as the position of the grey bar in quotation blocks and the indentation of nested lists.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">marquee&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># Create a style specific for rtl text&lt;/span>
&lt;span class="n">rtl_style&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">classic_style&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">text_direction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;rtl&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># Forces bidi text to be assembled from right to left&lt;/span>
&lt;span class="n">align&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># Will convert itself to &amp;#34;right&amp;#34;&lt;/span>
&lt;span class="n">ltr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">FALSE&lt;/span> &lt;span class="c1"># Will move bullet padding and bar along quote blocks to the right&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>
&lt;h2 id="a-marquee-for-everyone">A marquee for Everyone
&lt;a href="#a-marquee-for-everyone">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Speaking of marquee, the biggest obstacle it has put in front of its users is that it is build on very new features in R. The ability to write text by placing glyphs one at a time was only added in R 4.2 and not every graphics device supports it yet (worse still, the implementation in the default macOS quartz device caused the session to crash). Again, ragg is your friend, but the Cairo devices also has excellent support.&lt;/p>
&lt;p>Text rendering, however, should always work. It is quite frustrating for text to not show up when you expect it to. Because of this it has been a clear plan to expand the support for marquee somehow. With the new version of marquee this is finally a reality. How does it work? Well, remember when we talked about extracting glyph outlines and rasters? If marquee encounters a graphics device that doesn&amp;rsquo;t provide the necessary features it will take matters into its own hands, by extracting all the necessary polygons and bitmaps and plot them. It is certainly not faster than relying on the optimized routines of the graphics device and it can also lead to visual degradation at smaller font sizes. But it works - everywhere.&lt;/p>
&lt;p>To show it off, here is an svg created with svglite which doesn&amp;rsquo;t have the required new features:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">text&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="s">&amp;#34;_Fancy_ {.red Font}📝&amp;#34;&lt;/span>
&lt;span class="n">m_grob&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">marquee_grob&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">text&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nf">classic_style&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">body_font&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Rubik Moonrocks&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">base_size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">72&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="n">s&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="n">svglite&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">svgstring&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">width&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1.5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">grid&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">grid.draw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">m_grob&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">invisible&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">dev.off&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="nf">s&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;?xml version='1.0' encoding='UTF-8' ?>
&lt;svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='504.00pt' height='108.00pt' viewBox='0 0 504.00 108.00'>
&lt;g class='svglite'>
&lt;defs>
&lt;style type='text/css'>&lt;![CDATA[
.svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
fill: none;
stroke: #000000;
stroke-linecap: round;
stroke-linejoin: round;
stroke-miterlimit: 10.00;
}
.svglite text {
white-space: pre;
}
]]>&lt;/style>
&lt;/defs>
&lt;rect width='100%' height='100%' style='stroke: none; fill: #FFFFFF;'/>
&lt;defs>
&lt;clipPath id='cpMC4wMHw1MDQuMDB8MC4wMHwxMDguMDA='>
&lt;rect x='0.00' y='0.00' width='504.00' height='108.00' />
&lt;/clipPath>
&lt;/defs>
&lt;g clip-path='url(#cpMC4wMHw1MDQuMDB8MC4wMHwxMDguMDA=)'>
&lt;path d='M 5.16 71.17 L 4.53 70.74 L 4.10 70.11 L 3.95 69.38 L 3.95 22.86 L 4.10 22.12 L 4.53 21.49 L 5.16 21.05 L 5.91 20.91 L 42.19 20.91 L 42.93 21.05 L 43.56 21.49 L 44.00 22.12 L 44.14 22.86 L 44.14 33.80 L 44.00 34.54 L 43.56 35.17 L 42.93 35.61 L 42.19 35.75 L 21.59 35.75 L 21.59 41.08 L 40.75 41.08 L 41.49 41.22 L 42.12 41.66 L 42.38 41.95 L 42.56 42.28 L 42.67 42.63 L 42.70 43.02 L 42.70 53.89 L 42.56 54.63 L 42.12 55.27 L 41.49 55.69 L 40.75 55.83 L 21.59 55.83 L 21.59 69.38 L 21.45 70.11 L 21.02 70.74 L 20.72 70.99 L 20.39 71.17 L 20.04 71.28 L 19.66 71.31 L 5.91 71.31 ZM 24.59 24.25 L 24.07 24.25 L 23.62 24.29 L 23.25 24.38 L 22.93 24.54 L 22.62 24.82 L 22.32 25.22 L 22.03 25.74 L 21.80 26.28 L 21.67 26.77 L 21.65 27.19 L 21.73 27.55 L 21.92 27.88 L 22.19 28.24 L 22.54 28.63 L 22.97 29.05 L 23.45 29.48 L 23.88 29.84 L 24.27 30.13 L 24.61 30.34 L 24.97 30.46 L 25.41 30.45 L 25.92 30.32 L 26.50 30.06 L 27.08 29.70 L 27.51 29.34 L 27.79 28.99 L 27.94 28.63 L 27.98 28.22 L 27.97 27.72 L 27.91 27.13 L 27.80 26.45 L 27.67 25.90 L 27.49 25.44 L 27.27 25.09 L 27.00 24.84 L 26.67 24.66 L 26.26 24.51 L 25.77 24.39 L 25.20 24.30 ZM 8.28 25.87 L 8.28 25.53 L 8.16 25.27 L 7.78 25.09 L 7.34 25.01 L 6.95 25.07 L 6.62 25.26 L 6.34 25.59 L 6.04 26.05 L 5.89 26.42 L 5.93 26.79 L 6.19 27.25 L 6.57 27.60 L 6.98 27.81 L 7.43 27.85 L 7.92 27.75 L 8.28 27.50 L 8.34 27.17 L 8.30 26.78 L 8.28 26.31 ZM 39.02 26.01 L 38.88 26.17 L 38.66 26.67 L 38.38 27.25 L 38.34 27.49 L 38.52 27.75 L 38.79 27.95 L 39.02 27.94 L 39.29 27.82 L 39.67 27.69 L 40.09 27.24 L 40.17 26.75 L 40.07 26.43 L 39.89 26.19 L 39.64 26.03 L 39.31 25.95 ZM 33.61 26.60 L 33.49 26.38 L 33.34 26.24 L 33.16 26.17 L 32.68 26.10 L 32.05 26.03 L 31.54 26.01 L 31.17 26.09 L 30.89 26.34 L 30.59 26.81 L 30.48 27.27 L 30.53 27.61 L 30.75 27.93 L 31.11 28.33 L 31.62 28.72 L 32.00 29.02 L 32.18 29.10 L 32.41 29.11 L 32.67 29.05 L 32.97 28.91 L 33.50 28.48 L 33.77 28.08 L 33.82 27.59 L 33.70 26.89 ZM 12.07 26.99 L 11.77 26.81 L 11.49 26.80 L 11.16 27.03 L 10.80 27.38 L 10.58 27.69 L 10.55 28.04 L 10.73 28.55 L 10.97 28.92 L 11.27 29.05 L 11.64 29.03 L 12.09 28.97 L 12.52 28.90 L 12.81 28.80 L 13.01 28.59 L 13.17 28.19 L 13.18 27.83 L 13.03 27.61 L 12.78 27.45 L 12.45 27.25 ZM 38.45 29.99 L 37.94 30.20 L 37.66 30.92 L 38.52 31.06 L 38.81 30.42 ZM 18.53 30.09 L 18.08 30.20 L 17.72 30.51 L 17.36 31.00 L 17.01 31.64 L 16.84 32.11 L 16.92 32.55 L 17.28 33.08 L 17.71 33.51 L 18.14 33.63 L 18.65 33.54 L 19.30 33.38 L 19.86 33.09 L 20.27 32.83 L 20.40 32.68 L 20.49 32.46 L 20.53 32.19 L 20.52 31.86 L 20.40 31.18 L 20.19 30.75 L 19.80 30.45 L 19.16 30.20 ZM 6.77 34.30 L 6.48 34.88 L 7.48 34.59 L 7.20 34.09 ZM 13.53 34.30 L 13.03 34.88 L 13.39 35.45 L 13.97 35.45 L 14.41 34.67 ZM 12.43 40.32 L 12.38 39.86 L 12.29 39.48 L 12.16 39.17 L 11.97 38.92 L 11.68 38.69 L 11.29 38.50 L 10.80 38.34 L 10.25 38.19 L 9.79 38.12 L 9.39 38.12 L 9.06 38.19 L 8.78 38.35 L 8.48 38.61 L 8.17 38.97 L 7.84 39.42 L 7.53 39.87 L 7.31 40.28 L 7.19 40.64 L 7.16 40.97 L 7.22 41.30 L 7.35 41.66 L 7.56 42.07 L 7.84 42.52 L 8.19 42.89 L 8.53 43.16 L 8.84 43.32 L 9.14 43.38 L 9.83 43.29 L 10.73 43.02 L 11.57 42.71 L 12.09 42.34 L 12.25 42.10 L 12.36 41.77 L 12.43 41.36 L 12.45 40.86 ZM 16.98 42.52 L 16.70 43.24 L 17.50 43.45 L 18.14 42.88 L 17.56 42.30 ZM 24.37 43.95 L 24.01 43.85 L 23.64 43.88 L 23.25 44.03 L 22.68 44.35 L 22.25 44.58 L 22.10 44.70 L 22.00 44.89 L 21.95 45.14 L 21.95 45.47 L 22.05 45.79 L 22.18 46.02 L 22.34 46.16 L 22.53 46.22 L 23.04 46.26 L 23.69 46.33 L 24.26 46.38 L 24.66 46.38 L 24.97 46.20 L 25.27 45.75 L 25.44 45.25 L 25.38 44.89 L 25.12 44.56 L 24.70 44.17 ZM 23.99 49.12 L 24.05 48.64 L 24.04 48.44 L 23.94 48.26 L 23.75 48.11 L 23.47 47.99 L 22.82 47.85 L 22.31 47.88 L 21.89 48.12 L 21.45 48.63 L 21.29 48.90 L 21.21 49.14 L 21.22 49.35 L 21.31 49.53 L 21.63 49.92 L 22.03 50.44 L 22.36 50.78 L 22.64 50.97 L 22.96 51.02 L 23.41 50.94 L 23.79 50.76 L 23.94 50.52 L 23.96 50.17 L 23.97 49.72 ZM 16.25 48.91 L 15.77 48.86 L 15.29 49.05 L 14.69 49.50 L 14.07 50.03 L 13.64 50.47 L 13.52 50.70 L 13.47 50.98 L 13.50 51.33 L 13.61 51.74 L 13.80 52.15 L 14.01 52.47 L 14.25 52.68 L 14.50 52.78 L 15.14 52.84 L 15.98 52.81 L 16.65 52.68 L 17.06 52.42 L 17.34 51.98 L 17.56 51.30 L 17.70 50.59 L 17.67 50.08 L 17.41 49.64 L 16.84 49.20 ZM 8.42 50.50 L 7.78 51.02 L 7.92 51.80 L 8.72 51.80 L 8.78 51.16 ZM 28.86 50.53 L 28.61 50.66 L 28.41 50.90 L 28.16 51.22 L 27.99 51.48 L 27.92 51.75 L 27.95 52.02 L 28.08 52.30 L 28.34 52.70 L 28.52 53.03 L 28.75 53.21 L 29.16 53.17 L 29.61 53.00 L 29.80 52.75 L 29.86 52.38 L 29.88 51.88 L 29.86 51.38 L 29.80 51.05 L 29.62 50.81 L 29.23 50.58 ZM 35.30 51.49 L 35.06 51.30 L 34.79 51.23 L 34.42 51.30 L 33.91 51.50 L 33.52 51.66 L 33.37 51.76 L 33.27 51.93 L 33.21 52.16 L 33.19 52.45 L 33.31 53.06 L 33.52 53.42 L 33.88 53.65 L 34.48 53.81 L 35.07 53.96 L 35.53 53.97 L 35.91 53.77 L 36.28 53.31 L 36.42 53.08 L 36.47 52.88 L 36.43 52.70 L 36.31 52.56 L 35.97 52.24 L 35.56 51.80 ZM 12.41 55.72 L 12.13 55.47 L 11.75 55.36 L 11.23 55.33 L 10.84 55.38 L 10.50 55.54 L 10.23 55.81 L 10.02 56.19 L 9.84 56.70 L 9.75 57.09 L 9.85 57.45 L 10.22 57.84 L 10.68 58.11 L 11.05 58.17 L 11.44 58.06 L 11.95 57.78 L 12.37 57.44 L 12.62 57.14 L 12.71 56.76 L 12.59 56.19 ZM 14.59 62.12 L 14.39 61.24 L 14.22 60.90 L 13.91 60.62 L 13.47 60.39 L 12.89 60.22 L 12.14 60.08 L 11.49 60.01 L 10.93 60.01 L 10.47 60.08 L 10.06 60.26 L 9.65 60.59 L 9.25 61.06 L 8.86 61.67 L 8.52 62.38 L 8.29 63.02 L 8.17 63.57 L 8.17 64.05 L 8.29 64.50 L 8.52 65.00 L 8.88 65.54 L 9.36 66.13 L 9.85 66.59 L 10.32 66.89 L 10.75 67.04 L 11.16 67.03 L 11.59 66.91 L 12.09 66.75 L 12.67 66.53 L 13.31 66.27 L 13.83 66.01 L 14.23 65.74 L 14.52 65.46 L 14.69 65.16 L 14.77 64.81 L 14.82 64.40 L 14.81 63.90 L 14.77 63.33 Z' style='fill-rule: nonzero; fill: #000000; stroke-width: 0.75; stroke: none;' />
&lt;path d='M 58.70 71.94 L 56.83 71.66 L 55.07 71.19 L 53.42 70.53 L 51.93 69.71 L 50.60 68.75 L 49.46 67.65 L 48.49 66.42 L 47.71 65.09 L 47.16 63.67 L 46.83 62.16 L 46.72 60.58 L 46.79 59.30 L 46.99 58.10 L 47.32 56.96 L 47.79 55.90 L 48.39 54.90 L 49.13 53.98 L 50.00 53.13 L 51.00 52.34 L 52.12 51.63 L 53.33 50.96 L 54.63 50.35 L 56.02 49.80 L 57.50 49.30 L 59.07 48.85 L 60.74 48.46 L 62.49 48.13 L 70.13 46.83 L 70.11 45.96 L 70.05 45.21 L 69.94 44.59 L 69.80 44.09 L 69.56 43.72 L 69.18 43.45 L 68.65 43.29 L 67.97 43.24 L 67.49 43.26 L 67.06 43.34 L 66.68 43.46 L 66.35 43.64 L 65.71 44.11 L 65.02 44.75 L 64.59 45.09 L 64.12 45.34 L 63.59 45.48 L 63.00 45.53 L 50.75 45.53 L 50.10 45.43 L 49.56 45.11 L 49.36 44.87 L 49.23 44.60 L 49.17 44.30 L 49.17 43.95 L 49.28 43.24 L 49.50 42.47 L 49.85 41.64 L 50.33 40.75 L 50.94 39.84 L 51.71 38.94 L 52.62 38.06 L 53.67 37.19 L 54.89 36.36 L 56.26 35.60 L 57.80 34.92 L 59.50 34.31 L 61.38 33.81 L 63.44 33.45 L 65.68 33.23 L 68.11 33.16 L 70.48 33.22 L 72.69 33.41 L 74.75 33.73 L 76.65 34.17 L 78.39 34.74 L 79.97 35.44 L 81.39 36.27 L 82.66 37.22 L 83.77 38.29 L 84.74 39.46 L 85.55 40.74 L 86.22 42.12 L 86.74 43.61 L 87.11 45.20 L 87.33 46.90 L 87.41 48.70 L 87.41 69.38 L 87.26 70.11 L 86.83 70.74 L 86.20 71.17 L 85.46 71.31 L 72.86 71.31 L 72.12 71.17 L 71.49 70.74 L 71.06 70.11 L 70.92 69.38 L 70.92 67.36 L 70.06 68.38 L 69.07 69.29 L 67.95 70.09 L 66.71 70.78 L 65.35 71.33 L 63.89 71.72 L 62.34 71.95 L 60.69 72.03 ZM 65.88 35.03 L 65.52 35.45 L 65.80 36.11 L 66.53 35.81 L 66.60 35.03 ZM 62.99 36.20 L 62.52 36.06 L 62.14 36.11 L 61.77 36.47 L 61.59 36.77 L 61.48 37.04 L 61.43 37.27 L 61.46 37.47 L 61.64 37.88 L 61.99 38.41 L 62.34 38.77 L 62.67 38.88 L 63.06 38.80 L 63.58 38.63 L 63.92 38.48 L 64.17 38.25 L 64.31 37.94 L 64.36 37.55 L 64.31 37.12 L 64.17 36.79 L 63.92 36.55 L 63.58 36.39 ZM 75.50 36.69 L 75.26 36.51 L 74.96 36.40 L 74.60 36.39 L 74.24 36.47 L 73.96 36.63 L 73.77 36.87 L 73.66 37.19 L 73.60 37.64 L 73.58 37.99 L 73.69 38.27 L 74.02 38.55 L 74.46 38.70 L 74.77 38.70 L 75.06 38.56 L 75.46 38.27 L 75.69 38.00 L 75.80 37.69 L 75.80 37.35 L 75.67 36.97 ZM 70.95 38.76 L 70.63 38.92 L 70.38 39.19 L 70.21 39.56 L 70.12 39.94 L 70.19 40.19 L 70.40 40.39 L 70.71 40.64 L 70.96 40.81 L 71.23 40.88 L 71.50 40.85 L 71.78 40.72 L 71.97 40.55 L 72.07 40.32 L 72.11 40.04 L 72.06 39.70 L 71.94 39.31 L 71.85 38.99 L 71.69 38.77 L 71.35 38.70 ZM 55.63 38.81 L 55.33 38.84 L 55.03 39.04 L 54.64 39.34 L 54.33 39.67 L 54.10 39.92 L 54.00 40.21 L 54.06 40.64 L 54.29 41.07 L 54.53 41.36 L 54.87 41.51 L 55.36 41.50 L 55.85 41.40 L 56.16 41.22 L 56.34 40.91 L 56.44 40.42 L 56.55 39.92 L 56.55 39.56 L 56.40 39.27 L 56.02 38.99 ZM 80.21 41.72 L 79.63 42.16 L 80.28 42.38 L 80.92 42.30 L 80.86 41.50 ZM 77.44 42.56 L 77.14 42.34 L 76.83 42.27 L 76.39 42.44 L 76.09 42.74 L 76.06 43.06 L 76.18 43.42 L 76.32 43.88 L 76.44 44.35 L 76.53 44.75 L 76.72 45.02 L 77.11 45.11 L 77.66 45.08 L 78.03 44.97 L 78.33 44.71 L 78.63 44.24 L 78.67 43.76 L 78.52 43.45 L 78.22 43.20 L 77.83 42.88 ZM 57.10 42.38 L 56.38 42.94 L 56.60 43.88 L 57.38 43.67 L 57.89 43.02 ZM 72.86 43.59 L 72.22 44.39 L 72.28 45.11 L 73.08 45.33 L 73.52 44.45 ZM 83.84 46.54 L 83.52 46.33 L 83.18 46.29 L 82.72 46.47 L 82.26 46.77 L 82.03 47.10 L 81.98 47.47 L 82.00 47.99 L 82.17 48.45 L 82.39 48.67 L 82.74 48.77 L 83.24 48.84 L 83.67 48.89 L 83.99 48.86 L 84.23 48.67 L 84.46 48.27 L 84.61 47.89 L 84.62 47.54 L 84.50 47.21 L 84.24 46.91 ZM 76.03 48.84 L 75.38 49.50 L 75.89 50.28 L 76.67 50.00 L 76.53 49.36 ZM 62.66 49.98 L 62.35 49.86 L 62.01 49.84 L 61.63 49.92 L 61.21 50.09 L 60.94 50.27 L 60.81 50.52 L 60.77 50.94 L 60.82 51.35 L 60.99 51.59 L 61.28 51.74 L 61.71 51.88 L 62.16 52.06 L 62.53 52.17 L 62.85 52.09 L 63.14 51.74 L 63.39 51.34 L 63.39 51.02 L 63.22 50.67 L 62.92 50.22 ZM 73.22 50.36 L 72.86 50.80 L 73.30 51.38 L 73.88 50.94 L 73.88 50.28 ZM 57.10 51.10 L 56.77 51.20 L 56.51 51.46 L 56.24 51.88 L 55.94 52.27 L 55.77 52.63 L 55.78 52.98 L 56.02 53.39 L 56.36 53.70 L 56.66 53.78 L 57.03 53.70 L 57.53 53.53 L 57.88 53.36 L 58.12 53.13 L 58.27 52.85 L 58.31 52.52 L 58.30 52.01 L 58.24 51.63 L 58.05 51.35 L 57.60 51.16 ZM 83.27 53.43 L 82.98 52.91 L 82.64 52.55 L 82.25 52.34 L 81.79 52.23 L 81.24 52.14 L 80.59 52.07 L 79.85 52.02 L 79.11 52.00 L 78.46 52.02 L 77.92 52.09 L 77.47 52.20 L 77.09 52.40 L 76.75 52.75 L 76.44 53.25 L 76.17 53.89 L 75.89 54.71 L 75.67 55.44 L 75.53 56.09 L 75.46 56.66 L 75.52 57.18 L 75.78 57.71 L 76.23 58.25 L 76.89 58.78 L 77.54 59.21 L 78.12 59.43 L 78.62 59.43 L 79.05 59.22 L 79.49 58.87 L 80.01 58.48 L 80.61 58.04 L 81.28 57.56 L 81.89 57.15 L 82.43 56.77 L 82.89 56.43 L 83.27 56.13 L 83.54 55.78 L 83.67 55.33 L 83.67 54.78 L 83.52 54.11 ZM 52.06 54.13 L 51.77 54.19 L 51.55 54.34 L 51.33 54.69 L 51.13 55.21 L 50.97 55.66 L 50.99 56.04 L 51.33 56.41 L 51.86 56.80 L 52.30 56.99 L 52.76 56.93 L 53.35 56.63 L 53.84 56.26 L 54.00 55.88 L 53.95 55.39 L 53.78 54.75 L 53.64 54.37 L 53.38 54.22 L 53.00 54.17 L 52.49 54.11 ZM 61.22 55.30 L 60.92 55.29 L 60.65 55.38 L 60.41 55.55 L 60.24 55.78 L 60.17 56.05 L 60.20 56.36 L 60.33 56.70 L 60.52 56.95 L 60.74 57.11 L 60.99 57.20 L 61.27 57.20 L 61.70 57.12 L 61.99 57.02 L 62.17 56.81 L 62.28 56.41 L 62.28 56.04 L 62.16 55.80 L 61.92 55.61 L 61.57 55.41 ZM 66.66 61.29 L 67.55 61.04 L 68.35 60.61 L 69.05 60.02 L 69.62 59.24 L 70.02 58.27 L 70.27 57.11 L 70.35 55.77 L 66.10 56.70 L 65.23 56.93 L 64.53 57.20 L 63.97 57.50 L 63.57 57.84 L 63.08 58.58 L 62.92 59.36 L 62.97 59.75 L 63.10 60.11 L 63.31 60.45 L 63.61 60.77 L 64.00 61.03 L 64.47 61.22 L 65.02 61.34 L 65.66 61.38 ZM 52.05 58.60 L 51.55 58.55 L 51.12 58.56 L 50.75 58.64 L 50.43 58.80 L 50.11 59.08 L 49.78 59.45 L 49.46 59.94 L 49.25 60.38 L 49.19 60.75 L 49.27 61.06 L 49.50 61.31 L 50.14 61.83 L 50.83 62.53 L 51.30 63.01 L 51.72 63.30 L 52.21 63.35 L 52.85 63.17 L 53.83 62.76 L 54.61 62.50 L 54.91 62.34 L 55.11 62.06 L 55.21 61.64 L 55.22 61.09 L 55.12 60.50 L 54.97 60.02 L 54.76 59.66 L 54.50 59.41 L 54.17 59.21 L 53.74 59.03 L 53.23 58.87 L 52.63 58.72 ZM 59.91 60.03 L 59.55 60.02 L 59.17 60.09 L 58.92 60.19 L 58.80 60.38 L 58.75 60.74 L 58.82 61.01 L 59.00 61.13 L 59.28 61.18 L 59.61 61.30 L 59.99 61.33 L 60.27 61.09 L 60.41 60.74 L 60.27 60.38 ZM 76.39 60.16 L 75.89 60.74 L 76.03 61.38 L 76.75 61.38 L 77.11 60.66 ZM 73.49 62.50 L 73.22 62.39 L 72.88 62.41 L 72.42 62.45 L 72.14 62.56 L 71.91 62.72 L 71.74 62.96 L 71.64 63.25 L 71.65 63.53 L 71.75 63.77 L 71.94 64.00 L 72.22 64.19 L 72.66 64.24 L 73.14 63.97 L 73.48 63.66 L 73.72 63.44 L 73.83 63.19 L 73.72 62.81 ZM 82.80 63.35 L 82.65 63.14 L 82.44 62.99 L 82.14 62.89 L 81.82 62.83 L 81.56 62.81 L 81.36 62.90 L 81.14 63.17 L 80.98 63.52 L 80.94 63.84 L 81.02 64.14 L 81.22 64.41 L 81.49 64.58 L 81.72 64.55 L 82.30 64.25 L 82.72 64.00 L 82.84 63.85 L 82.88 63.61 ZM 62.53 64.41 L 62.13 64.08 L 61.60 63.94 L 60.85 63.89 L 60.51 63.91 L 60.24 63.98 L 60.03 64.09 L 59.89 64.25 L 59.69 64.70 L 59.47 65.34 L 59.27 66.11 L 59.11 66.67 L 59.10 66.91 L 59.19 67.15 L 59.38 67.39 L 59.69 67.64 L 59.99 67.81 L 60.26 67.87 L 60.49 67.83 L 60.69 67.69 L 61.12 67.26 L 61.71 66.78 L 62.28 66.33 L 62.74 66.02 L 62.90 65.86 L 62.97 65.65 L 62.96 65.38 L 62.86 65.05 ZM 77.50 64.19 L 77.14 64.08 L 76.79 64.15 L 76.39 64.41 L 76.07 64.75 L 75.89 65.12 L 75.85 65.54 L 75.96 65.99 L 76.19 66.37 L 76.46 66.53 L 76.82 66.56 L 77.33 66.56 L 77.66 66.48 L 77.92 66.33 L 78.13 66.09 L 78.27 65.77 L 78.31 65.32 L 78.33 64.99 L 78.23 64.71 L 77.91 64.47 ZM 65.08 66.56 L 64.52 67.06 L 64.30 67.86 L 65.24 67.78 L 65.88 67.14 ZM 55.68 66.71 L 55.46 66.69 L 55.29 66.74 L 55.17 66.86 L 54.96 67.18 L 54.64 67.56 L 54.39 67.89 L 54.21 68.14 L 54.15 68.40 L 54.28 68.72 L 54.50 69.00 L 54.77 69.17 L 55.11 69.25 L 55.52 69.22 L 56.01 69.09 L 56.36 68.97 L 56.60 68.74 L 56.74 68.28 L 56.75 67.72 L 56.66 67.33 L 56.41 67.03 L 55.94 66.78 ZM 75.74 68.00 L 75.02 68.72 L 75.46 69.52 L 76.10 69.16 L 76.17 68.72 ZM 81.86 68.80 L 81.50 69.22 L 82.00 69.58 L 82.52 69.22 L 82.52 68.58 Z' style='fill-rule: nonzero; fill: #000000; stroke-width: 0.75; stroke: none;' />
&lt;path d='M 94.73 71.17 L 94.10 70.74 L 93.67 70.11 L 93.52 69.38 L 93.52 35.81 L 93.67 35.08 L 94.10 34.45 L 94.73 34.02 L 95.47 33.88 L 108.07 33.88 L 108.81 34.02 L 109.44 34.45 L 109.88 35.08 L 110.02 35.81 L 110.02 38.19 L 111.00 37.19 L 112.16 36.26 L 113.48 35.41 L 114.97 34.64 L 116.60 33.99 L 118.31 33.53 L 120.10 33.25 L 121.97 33.16 L 123.78 33.27 L 125.52 33.59 L 127.19 34.13 L 128.80 34.89 L 130.31 35.87 L 131.67 37.08 L 132.88 38.53 L 133.94 40.22 L 134.41 41.15 L 134.81 42.15 L 135.15 43.21 L 135.43 44.34 L 135.65 45.53 L 135.80 46.79 L 135.90 48.11 L 135.93 49.50 L 135.93 69.38 L 135.78 70.11 L 135.35 70.74 L 135.05 70.99 L 134.73 71.17 L 134.37 71.28 L 133.99 71.31 L 120.24 71.31 L 119.50 71.17 L 118.86 70.74 L 118.44 70.11 L 118.30 69.38 L 118.30 50.00 L 118.25 49.07 L 118.08 48.27 L 117.79 47.59 L 117.40 47.04 L 116.89 46.60 L 116.27 46.30 L 115.54 46.11 L 114.69 46.05 L 113.85 46.11 L 113.12 46.30 L 112.50 46.60 L 112.00 47.04 L 111.60 47.59 L 111.32 48.27 L 111.16 49.07 L 111.10 50.00 L 111.10 69.38 L 110.95 70.11 L 110.52 70.74 L 109.89 71.17 L 109.15 71.31 L 95.47 71.31 ZM 98.79 35.14 L 98.38 35.20 L 98.07 35.43 L 97.77 35.89 L 97.59 36.41 L 97.60 36.80 L 97.81 37.14 L 98.21 37.55 L 98.61 37.96 L 98.96 38.20 L 99.35 38.24 L 99.86 38.05 L 100.38 37.70 L 100.65 37.38 L 100.74 36.97 L 100.72 36.39 L 100.54 35.81 L 100.29 35.50 L 99.92 35.33 L 99.36 35.17 ZM 102.60 36.69 L 102.02 37.05 L 101.94 37.97 L 102.96 37.97 L 103.32 37.05 ZM 105.41 40.72 L 104.76 41.08 L 105.05 41.72 L 105.83 41.94 L 105.99 41.14 ZM 108.51 41.14 L 108.01 41.94 L 108.36 42.58 L 109.22 42.58 L 109.30 41.66 ZM 99.87 41.43 L 99.68 41.33 L 99.44 41.31 L 99.07 41.36 L 98.78 41.45 L 98.57 41.58 L 98.42 41.74 L 98.35 41.94 L 98.35 42.21 L 98.44 42.44 L 98.60 42.64 L 98.85 42.80 L 99.29 42.85 L 99.72 42.58 L 99.96 42.33 L 100.12 42.16 L 100.16 41.96 L 100.08 41.66 ZM 117.83 41.34 L 117.46 41.28 L 117.15 41.39 L 116.85 41.72 L 116.56 42.24 L 116.41 42.63 L 116.47 43.01 L 116.79 43.52 L 117.13 43.82 L 117.46 43.84 L 117.85 43.71 L 118.36 43.52 L 118.71 43.34 L 118.96 43.11 L 119.11 42.80 L 119.16 42.44 L 119.11 42.11 L 118.95 41.84 L 118.68 41.64 L 118.30 41.50 ZM 112.03 41.70 L 111.60 41.63 L 111.22 41.74 L 110.80 42.16 L 110.52 42.61 L 110.52 42.99 L 110.72 43.36 L 111.02 43.88 L 111.31 44.29 L 111.60 44.50 L 111.95 44.54 L 112.46 44.45 L 112.95 44.29 L 113.29 44.09 L 113.47 43.77 L 113.54 43.24 L 113.49 42.68 L 113.35 42.33 L 113.08 42.09 L 112.60 41.86 ZM 127.22 43.09 L 126.71 42.74 L 126.47 42.63 L 126.19 42.62 L 125.86 42.70 L 125.49 42.88 L 125.12 43.13 L 124.86 43.38 L 124.72 43.64 L 124.69 43.89 L 124.81 44.50 L 124.99 45.33 L 125.13 46.17 L 125.27 46.83 L 125.40 47.09 L 125.62 47.30 L 125.95 47.45 L 126.36 47.55 L 126.82 47.55 L 127.20 47.49 L 127.49 47.36 L 127.69 47.16 L 128.04 46.57 L 128.44 45.75 L 128.56 45.38 L 128.63 45.06 L 128.63 44.78 L 128.58 44.56 L 128.33 44.13 L 127.86 43.59 ZM 106.88 43.72 L 106.60 43.28 L 106.45 43.12 L 106.23 43.03 L 105.96 43.02 L 105.63 43.09 L 105.30 43.18 L 105.06 43.31 L 104.90 43.47 L 104.82 43.67 L 104.76 44.19 L 104.69 44.89 L 104.72 45.36 L 104.89 45.75 L 105.19 46.08 L 105.63 46.33 L 106.06 46.38 L 106.33 46.27 L 106.59 45.99 L 106.91 45.61 L 107.17 45.28 L 107.35 45.00 L 107.38 44.68 L 107.21 44.24 ZM 99.02 45.56 L 98.67 45.63 L 98.38 45.81 L 98.13 46.11 L 97.83 46.63 L 97.63 47.02 L 97.61 47.39 L 97.85 47.84 L 98.26 48.18 L 98.63 48.20 L 99.05 48.04 L 99.57 47.84 L 99.91 47.63 L 100.07 47.41 L 100.13 47.12 L 100.15 46.69 L 100.11 46.26 L 100.01 45.97 L 99.79 45.77 L 99.43 45.61 ZM 133.13 48.63 L 132.47 48.92 L 132.83 49.56 L 133.55 49.56 L 133.55 48.84 ZM 95.76 49.20 L 95.26 49.78 L 95.54 50.28 L 96.19 50.44 L 96.33 49.72 ZM 107.74 50.58 L 107.56 50.31 L 107.31 50.11 L 106.99 50.00 L 106.62 49.98 L 106.30 50.08 L 106.04 50.27 L 105.83 50.58 L 105.71 50.93 L 105.69 51.24 L 105.79 51.53 L 105.99 51.80 L 106.31 52.06 L 106.55 52.13 L 106.83 52.06 L 107.21 51.94 L 107.52 51.74 L 107.74 51.56 L 107.86 51.31 L 107.85 50.94 ZM 103.55 52.57 L 103.21 52.20 L 102.90 51.92 L 102.60 51.74 L 102.27 51.63 L 101.86 51.60 L 101.37 51.66 L 100.80 51.80 L 100.29 51.97 L 99.92 52.18 L 99.67 52.45 L 99.57 52.75 L 99.50 53.52 L 99.43 54.53 L 99.40 55.56 L 99.43 56.34 L 99.53 56.65 L 99.76 56.93 L 100.11 57.19 L 100.58 57.42 L 101.05 57.54 L 101.43 57.55 L 101.74 57.43 L 101.97 57.20 L 102.44 56.56 L 103.04 55.77 L 103.67 54.99 L 104.15 54.42 L 104.28 54.16 L 104.28 53.84 L 104.15 53.47 L 103.90 53.03 ZM 127.24 52.64 L 126.68 52.27 L 126.17 52.00 L 125.71 51.81 L 125.25 51.75 L 124.74 51.84 L 124.17 52.10 L 123.55 52.52 L 122.82 53.08 L 122.20 53.60 L 121.69 54.09 L 121.29 54.55 L 121.02 55.04 L 120.92 55.66 L 120.97 56.40 L 121.18 57.27 L 121.52 58.15 L 121.91 58.84 L 122.34 59.34 L 122.82 59.66 L 123.39 59.84 L 124.10 59.97 L 124.95 60.05 L 125.93 60.08 L 126.72 60.03 L 127.35 59.88 L 127.83 59.64 L 128.16 59.30 L 128.42 58.85 L 128.68 58.29 L 128.96 57.62 L 129.24 56.84 L 129.41 56.17 L 129.49 55.59 L 129.48 55.09 L 129.38 54.69 L 129.18 54.31 L 128.86 53.92 L 128.42 53.52 L 127.86 53.09 ZM 107.28 57.83 L 106.99 58.14 L 106.58 58.72 L 106.53 58.95 L 106.71 59.22 L 107.00 59.45 L 107.33 59.54 L 107.68 59.52 L 108.07 59.36 L 108.34 59.19 L 108.43 58.97 L 108.41 58.67 L 108.36 58.28 L 108.16 57.98 L 107.71 57.78 ZM 133.63 60.02 L 133.27 60.74 L 133.49 61.38 L 134.13 61.02 L 134.57 60.22 ZM 106.99 61.09 L 106.99 61.95 L 107.49 62.39 L 108.07 61.95 L 107.85 61.30 ZM 99.15 61.59 L 98.79 62.24 L 99.21 62.67 L 100.01 62.67 L 99.79 61.95 ZM 126.36 62.81 L 125.79 63.39 L 126.15 63.89 L 126.57 63.83 L 126.79 63.39 ZM 100.49 64.54 L 100.12 64.33 L 99.72 64.29 L 99.21 64.47 L 98.79 64.83 L 98.65 65.19 L 98.68 65.62 L 98.79 66.20 L 98.99 66.77 L 99.15 67.17 L 99.41 67.43 L 99.93 67.56 L 100.56 67.57 L 100.97 67.42 L 101.29 67.10 L 101.58 66.56 L 101.75 66.05 L 101.66 65.67 L 101.37 65.32 L 100.94 64.91 ZM 107.92 65.44 L 107.55 65.32 L 107.16 65.34 L 106.77 65.49 L 106.19 65.86 L 105.72 66.13 L 105.57 66.27 L 105.49 66.47 L 105.48 66.74 L 105.55 67.06 L 105.73 67.81 L 105.97 68.33 L 106.16 68.51 L 106.43 68.64 L 106.78 68.74 L 107.21 68.80 L 107.57 68.80 L 107.86 68.74 L 108.07 68.62 L 108.21 68.44 L 108.45 67.91 L 108.72 67.20 L 108.90 66.70 L 108.86 66.34 L 108.65 66.04 L 108.29 65.70 ZM 124.11 66.25 L 123.84 66.26 L 123.61 66.36 L 123.41 66.56 L 123.28 66.79 L 123.25 67.03 L 123.31 67.29 L 123.47 67.56 L 123.70 67.84 L 123.93 68.00 L 124.17 68.06 L 124.41 68.00 L 124.63 67.89 L 124.79 67.72 L 124.88 67.47 L 124.91 67.14 L 124.88 66.85 L 124.79 66.61 L 124.63 66.45 L 124.41 66.34 ZM 133.37 66.56 L 132.99 66.56 L 132.67 66.76 L 132.41 66.92 L 132.26 67.14 L 132.26 67.50 L 132.38 67.79 L 132.58 67.94 L 133.19 68.08 L 133.53 68.08 L 133.81 68.02 L 134.03 67.90 L 134.21 67.72 L 134.28 67.42 L 134.21 67.22 L 134.03 67.05 L 133.77 66.84 ZM 96.47 67.36 L 95.83 67.92 L 96.26 68.86 L 97.27 68.44 L 97.41 67.42 Z' style='fill-rule: nonzero; fill: #000000; stroke-width: 0.75; stroke: none;' />
&lt;path d='M 158.46 71.91 L 155.91 71.56 L 153.49 70.96 L 151.19 70.13 L 150.10 69.62 L 149.07 69.06 L 148.09 68.45 L 147.17 67.78 L 146.30 67.05 L 145.48 66.27 L 144.71 65.44 L 144.00 64.55 L 143.36 63.60 L 142.79 62.61 L 142.30 61.56 L 141.88 60.46 L 141.54 59.31 L 141.27 58.11 L 141.08 56.85 L 140.97 55.55 L 140.92 54.25 L 140.91 52.67 L 140.92 51.07 L 140.97 49.72 L 141.08 48.41 L 141.27 47.16 L 141.53 45.95 L 141.87 44.80 L 142.28 43.69 L 142.76 42.64 L 143.32 41.64 L 143.96 40.69 L 144.66 39.79 L 145.42 38.94 L 146.24 38.15 L 147.11 37.42 L 148.04 36.75 L 149.02 36.13 L 150.06 35.57 L 151.16 35.06 L 153.47 34.23 L 155.90 33.63 L 158.45 33.28 L 161.13 33.16 L 162.53 33.18 L 163.87 33.26 L 165.16 33.39 L 166.40 33.56 L 167.59 33.79 L 168.72 34.07 L 169.79 34.40 L 170.82 34.78 L 172.72 35.63 L 174.44 36.58 L 175.96 37.61 L 177.30 38.74 L 178.46 39.91 L 179.46 41.07 L 180.30 42.23 L 180.97 43.39 L 181.50 44.49 L 181.88 45.47 L 182.13 46.35 L 182.24 47.13 L 182.23 47.50 L 182.13 47.86 L 181.95 48.18 L 181.69 48.49 L 181.03 48.92 L 180.28 49.06 L 166.25 49.06 L 165.54 48.97 L 164.99 48.67 L 164.55 48.21 L 164.16 47.63 L 163.65 46.72 L 163.11 46.05 L 162.81 45.80 L 162.44 45.61 L 162.01 45.51 L 161.50 45.47 L 160.74 45.55 L 160.12 45.77 L 159.63 46.16 L 159.27 46.69 L 159.01 47.36 L 158.82 48.15 L 158.68 49.05 L 158.61 50.08 L 158.59 51.56 L 158.58 52.90 L 158.59 54.11 L 158.61 55.19 L 158.71 56.26 L 158.85 57.19 L 159.05 57.97 L 159.30 58.61 L 159.64 59.10 L 160.12 59.44 L 160.74 59.65 L 161.50 59.72 L 162.09 59.68 L 162.58 59.58 L 162.97 59.39 L 163.25 59.14 L 163.71 58.46 L 164.16 57.56 L 164.51 56.93 L 164.97 56.49 L 165.55 56.22 L 166.25 56.13 L 180.28 56.13 L 181.03 56.27 L 181.69 56.70 L 181.95 57.00 L 182.13 57.33 L 182.23 57.68 L 182.24 58.06 L 182.16 58.58 L 182.01 59.19 L 181.78 59.90 L 181.47 60.70 L 181.08 61.56 L 180.59 62.45 L 180.00 63.38 L 179.32 64.33 L 178.52 65.29 L 177.60 66.22 L 176.56 67.14 L 175.39 68.03 L 174.10 68.88 L 172.67 69.64 L 171.11 70.32 L 169.41 70.92 L 167.57 71.41 L 165.58 71.76 L 163.43 71.96 L 161.13 72.03 ZM 164.42 34.61 L 163.97 34.64 L 163.52 34.88 L 162.94 35.24 L 162.62 35.59 L 162.53 35.92 L 162.62 36.31 L 162.78 36.83 L 162.95 37.26 L 163.14 37.55 L 163.44 37.71 L 163.88 37.77 L 164.51 37.75 L 164.96 37.69 L 165.28 37.47 L 165.53 36.97 L 165.68 36.27 L 165.71 35.75 L 165.50 35.31 L 164.96 34.88 ZM 159.73 35.10 L 159.39 34.75 L 159.23 34.64 L 159.02 34.60 L 158.77 34.63 L 158.47 34.74 L 158.19 34.86 L 157.99 35.00 L 157.87 35.17 L 157.83 35.36 L 157.83 35.83 L 157.83 36.47 L 157.89 36.89 L 158.08 37.16 L 158.39 37.31 L 158.83 37.41 L 159.40 37.59 L 159.83 37.72 L 160.18 37.68 L 160.49 37.33 L 160.72 36.82 L 160.71 36.44 L 160.49 36.06 L 160.13 35.59 ZM 149.39 38.36 L 149.08 38.21 L 148.74 38.18 L 148.39 38.27 L 148.12 38.49 L 148.03 38.74 L 148.05 39.03 L 148.10 39.42 L 148.16 39.79 L 148.21 40.06 L 148.35 40.26 L 148.67 40.42 L 149.08 40.44 L 149.42 40.37 L 149.70 40.19 L 149.91 39.92 L 150.03 39.60 L 150.03 39.27 L 149.92 38.95 L 149.69 38.63 ZM 153.31 38.36 L 153.03 38.38 L 152.76 38.53 L 152.43 38.77 L 152.22 38.97 L 152.12 39.20 L 152.11 39.47 L 152.21 39.78 L 152.34 40.15 L 152.46 40.39 L 152.65 40.52 L 153.00 40.56 L 153.44 40.54 L 153.75 40.47 L 153.98 40.26 L 154.16 39.84 L 154.23 39.47 L 154.17 39.13 L 153.97 38.82 L 153.64 38.55 ZM 174.45 39.65 L 174.21 39.28 L 173.84 39.04 L 173.24 38.91 L 172.98 38.90 L 172.78 38.96 L 172.65 39.07 L 172.58 39.24 L 172.46 39.67 L 172.22 40.20 L 172.13 40.52 L 172.14 40.80 L 172.24 41.06 L 172.44 41.28 L 172.67 41.45 L 172.93 41.50 L 173.21 41.45 L 173.52 41.28 L 173.98 41.04 L 174.38 40.89 L 174.53 40.81 L 174.63 40.67 L 174.68 40.46 L 174.67 40.20 ZM 157.75 39.27 L 157.83 40.20 L 158.61 40.56 L 158.91 39.84 L 158.69 39.06 ZM 168.66 40.66 L 168.47 40.86 L 168.37 41.18 L 168.19 41.58 L 168.14 42.00 L 168.41 42.38 L 168.72 42.71 L 168.94 42.99 L 169.19 43.12 L 169.57 43.02 L 169.85 42.74 L 169.88 42.45 L 169.71 41.72 L 169.59 41.28 L 169.52 40.97 L 169.39 40.76 L 169.05 40.64 ZM 161.78 41.66 L 161.86 42.58 L 162.58 43.24 L 163.08 42.38 L 162.72 41.80 ZM 145.58 41.77 L 145.41 41.91 L 145.29 42.13 L 145.16 42.44 L 145.02 42.76 L 144.92 43.02 L 144.95 43.25 L 145.16 43.52 L 145.49 43.76 L 145.77 43.89 L 146.05 43.88 L 146.38 43.74 L 146.79 43.46 L 147.02 43.20 L 147.10 42.88 L 147.02 42.44 L 146.90 42.05 L 146.66 41.88 L 146.32 41.80 L 145.88 41.72 ZM 151.40 47.73 L 151.28 47.05 L 151.18 46.44 L 151.13 45.91 L 150.99 45.45 L 150.66 45.09 L 150.12 44.83 L 149.39 44.67 L 148.56 44.65 L 147.87 44.73 L 147.30 44.91 L 146.88 45.19 L 146.52 45.57 L 146.16 46.08 L 145.80 46.72 L 145.44 47.49 L 145.14 48.23 L 144.96 48.89 L 144.89 49.46 L 144.94 49.94 L 145.12 50.38 L 145.42 50.85 L 145.87 51.35 L 146.44 51.88 L 146.97 52.33 L 147.47 52.63 L 147.93 52.76 L 148.36 52.74 L 148.81 52.59 L 149.32 52.38 L 149.90 52.09 L 150.55 51.74 L 151.03 51.41 L 151.39 51.08 L 151.62 50.76 L 151.74 50.44 L 151.77 50.07 L 151.75 49.62 L 151.68 49.09 L 151.57 48.49 ZM 166.03 45.75 L 165.38 45.83 L 165.53 46.55 L 166.25 46.77 L 166.61 46.05 ZM 174.24 46.19 L 173.80 46.91 L 174.60 47.19 L 175.32 46.83 L 174.89 46.19 ZM 169.35 46.19 L 169.41 46.91 L 169.85 47.27 L 170.71 46.97 L 170.13 46.33 ZM 153.44 56.08 L 153.21 56.05 L 152.94 56.12 L 152.57 56.19 L 151.96 56.42 L 151.77 56.56 L 151.71 56.84 L 151.76 57.18 L 151.91 57.34 L 152.17 57.44 L 152.50 57.56 L 152.87 57.70 L 153.14 57.81 L 153.38 57.81 L 153.64 57.56 L 153.84 57.27 L 153.92 56.97 L 153.88 56.66 L 153.72 56.34 ZM 146.16 56.13 L 145.88 56.70 L 146.44 56.99 L 147.10 56.63 L 146.66 56.13 ZM 144.60 57.31 L 144.50 57.06 L 144.35 56.90 L 144.07 56.84 L 143.77 56.89 L 143.53 57.02 L 143.34 57.25 L 143.21 57.56 L 143.14 57.87 L 143.21 58.06 L 143.39 58.22 L 143.64 58.42 L 143.92 58.60 L 144.17 58.68 L 144.39 58.67 L 144.58 58.56 L 144.78 58.37 L 144.82 58.19 L 144.78 57.95 L 144.72 57.63 ZM 167.31 58.78 L 167.10 58.71 L 166.93 58.71 L 166.78 58.78 L 166.47 59.04 L 166.03 59.36 L 165.65 59.63 L 165.38 59.84 L 165.26 60.11 L 165.32 60.58 L 165.49 60.97 L 165.74 61.13 L 166.10 61.15 L 166.61 61.16 L 166.94 61.12 L 167.21 61.00 L 167.41 60.80 L 167.55 60.52 L 167.73 60.00 L 167.86 59.61 L 167.84 59.27 L 167.55 58.92 ZM 157.96 59.54 L 157.67 59.28 L 157.37 59.17 L 157.07 59.19 L 156.34 59.39 L 155.38 59.66 L 154.33 59.83 L 153.50 59.94 L 153.18 60.04 L 152.93 60.28 L 152.75 60.65 L 152.64 61.16 L 152.60 61.83 L 152.63 62.40 L 152.71 62.87 L 152.86 63.25 L 153.10 63.56 L 153.46 63.86 L 153.93 64.14 L 154.52 64.41 L 155.12 64.64 L 155.66 64.78 L 156.12 64.82 L 156.52 64.77 L 156.89 64.60 L 157.28 64.33 L 157.69 63.96 L 158.11 63.47 L 158.49 62.98 L 158.76 62.54 L 158.92 62.14 L 158.97 61.78 L 158.93 61.41 L 158.79 60.98 L 158.57 60.49 L 158.25 59.94 ZM 174.10 59.43 L 173.75 59.31 L 173.41 59.32 L 173.08 59.44 L 172.71 59.71 L 172.47 60.03 L 172.35 60.39 L 172.36 60.80 L 172.50 61.44 L 172.61 61.92 L 172.71 62.10 L 172.87 62.24 L 173.12 62.33 L 173.44 62.39 L 173.77 62.40 L 174.04 62.35 L 174.24 62.25 L 174.38 62.09 L 174.62 61.67 L 174.89 61.09 L 175.06 60.64 L 174.99 60.30 L 174.77 60.00 L 174.46 59.66 ZM 148.46 59.66 L 148.10 60.16 L 148.32 60.80 L 149.11 60.66 L 148.89 60.08 ZM 170.23 61.74 L 169.99 61.75 L 169.73 61.85 L 169.41 62.03 L 169.23 62.16 L 169.13 62.33 L 169.09 62.55 L 169.13 62.81 L 169.30 63.39 L 169.47 63.56 L 169.77 63.61 L 170.07 63.60 L 170.33 63.51 L 170.54 63.31 L 170.71 63.03 L 170.80 62.69 L 170.80 62.38 L 170.70 62.11 L 170.50 61.88 ZM 147.80 62.92 L 147.49 62.78 L 147.12 62.81 L 146.66 62.95 L 146.32 63.13 L 146.13 63.33 L 146.05 63.61 L 146.02 64.05 L 146.06 64.34 L 146.20 64.58 L 146.42 64.77 L 146.74 64.91 L 147.04 64.98 L 147.24 64.91 L 147.40 64.73 L 147.60 64.47 L 147.88 64.10 L 148.14 63.83 L 148.26 63.58 L 148.10 63.25 ZM 151.71 64.19 L 151.21 64.91 L 151.71 65.55 L 152.35 65.27 L 152.57 64.47 ZM 164.38 65.84 L 163.80 66.63 L 164.66 67.14 L 165.38 66.78 L 165.10 66.13 ZM 168.59 66.54 L 168.28 66.49 L 167.98 66.54 L 167.69 66.70 L 167.34 67.03 L 167.14 67.28 L 167.10 67.57 L 167.19 68.00 L 167.40 68.43 L 167.61 68.72 L 167.92 68.88 L 168.41 68.94 L 168.82 68.87 L 169.05 68.66 L 169.20 68.31 L 169.35 67.86 L 169.40 67.54 L 169.35 67.24 L 169.18 66.96 L 168.91 66.70 ZM 158.99 67.28 L 158.75 66.92 L 158.62 66.80 L 158.44 66.72 L 158.19 66.69 L 157.89 66.70 L 157.64 66.76 L 157.46 66.85 L 157.35 66.98 L 157.32 67.14 L 157.28 67.56 L 157.18 68.08 L 157.09 68.53 L 156.99 68.88 L 157.02 69.16 L 157.32 69.44 L 157.76 69.63 L 158.08 69.63 L 158.37 69.45 L 158.75 69.16 L 159.12 68.83 L 159.33 68.55 L 159.39 68.22 L 159.27 67.78 ZM 165.67 68.80 L 165.24 69.02 L 165.17 69.66 L 165.82 69.58 L 166.25 69.16 Z' style='fill-rule: nonzero; fill: #000000; stroke-width: 0.75; stroke: none;' />
&lt;path d='M 192.15 84.89 L 191.64 84.56 L 191.28 84.08 L 191.17 83.49 L 191.17 83.16 L 191.23 82.77 L 197.00 68.94 L 183.10 36.11 L 183.03 35.59 L 183.25 34.93 L 183.64 34.38 L 184.17 34.00 L 184.82 33.88 L 197.00 33.88 L 197.50 33.91 L 197.93 34.02 L 198.29 34.20 L 198.57 34.45 L 199.00 35.03 L 199.29 35.59 L 205.20 52.02 L 211.32 35.59 L 211.67 34.98 L 212.14 34.42 L 212.44 34.18 L 212.82 34.01 L 213.26 33.91 L 213.78 33.88 L 225.79 33.88 L 226.41 33.99 L 226.95 34.34 L 227.32 34.84 L 227.45 35.39 L 227.43 35.78 L 227.37 36.11 L 207.07 83.27 L 206.72 83.88 L 206.21 84.45 L 205.89 84.69 L 205.51 84.86 L 205.07 84.97 L 204.56 85.00 L 192.75 85.00 ZM 190.28 38.08 L 190.01 38.04 L 189.79 38.07 L 189.60 38.16 L 189.26 38.47 L 188.85 38.91 L 188.51 39.38 L 188.32 39.78 L 188.33 40.20 L 188.57 40.72 L 188.93 41.15 L 189.29 41.33 L 189.72 41.30 L 190.29 41.14 L 190.85 40.98 L 191.23 40.78 L 191.47 40.44 L 191.59 39.84 L 191.59 39.22 L 191.45 38.77 L 191.12 38.44 L 190.59 38.19 ZM 196.34 39.70 L 196.28 40.36 L 197.06 40.56 L 197.06 39.84 L 196.85 39.20 ZM 220.26 40.47 L 219.85 40.03 L 219.63 39.90 L 219.34 39.82 L 219.00 39.80 L 218.59 39.84 L 217.60 40.08 L 216.93 40.36 L 216.70 40.55 L 216.50 40.84 L 216.34 41.23 L 216.21 41.72 L 216.18 42.22 L 216.21 42.65 L 216.30 42.99 L 216.46 43.27 L 217.04 43.74 L 217.95 44.24 L 218.92 44.67 L 219.67 44.94 L 220.01 44.96 L 220.37 44.85 L 220.77 44.61 L 221.18 44.24 L 221.51 43.82 L 221.68 43.45 L 221.70 43.10 L 221.57 42.80 L 221.16 42.09 L 220.68 41.14 ZM 193.18 40.92 L 192.53 41.22 L 192.82 41.94 L 193.46 41.80 L 193.75 41.22 ZM 198.20 42.22 L 197.80 42.27 L 197.45 42.44 L 197.14 42.74 L 196.98 43.11 L 197.06 43.38 L 197.30 43.63 L 197.57 43.95 L 197.82 44.34 L 198.00 44.64 L 198.24 44.79 L 198.65 44.75 L 198.96 44.56 L 199.04 44.31 L 199.02 43.97 L 199.01 43.52 L 199.02 43.07 L 199.04 42.74 L 198.96 42.48 L 198.65 42.30 ZM 188.28 43.24 L 188.43 43.88 L 188.93 44.31 L 189.21 43.74 L 189.07 43.09 ZM 192.73 43.45 L 192.34 43.20 L 192.18 43.12 L 192.01 43.13 L 191.84 43.25 L 191.67 43.45 L 191.51 43.84 L 191.65 44.14 L 191.95 44.45 L 192.25 44.89 L 192.50 45.27 L 192.70 45.55 L 192.95 45.67 L 193.32 45.61 L 193.71 45.43 L 193.89 45.19 L 193.94 44.84 L 193.96 44.39 L 193.92 44.09 L 193.78 43.89 L 193.56 43.76 L 193.25 43.67 ZM 211.04 46.08 L 210.55 46.06 L 210.15 46.11 L 209.84 46.25 L 209.28 46.77 L 208.65 47.63 L 208.46 48.00 L 208.38 48.33 L 208.42 48.62 L 208.57 48.86 L 209.07 49.36 L 209.67 50.00 L 210.13 50.49 L 210.53 50.80 L 210.73 50.88 L 210.98 50.89 L 211.27 50.84 L 211.60 50.72 L 212.37 50.38 L 212.90 50.08 L 213.09 49.89 L 213.21 49.62 L 213.27 49.27 L 213.26 48.84 L 213.15 47.84 L 212.93 47.10 L 212.76 46.80 L 212.48 46.56 L 212.09 46.35 L 211.60 46.19 ZM 196.31 48.06 L 196.11 47.86 L 195.84 47.74 L 195.48 47.70 L 195.03 47.70 L 194.68 47.70 L 194.42 47.83 L 194.18 48.20 L 194.08 48.62 L 194.11 49.01 L 194.29 49.38 L 194.62 49.72 L 195.13 50.06 L 195.51 50.25 L 195.90 50.24 L 196.42 50.00 L 196.76 49.64 L 196.78 49.28 L 196.62 48.87 L 196.42 48.34 ZM 191.38 47.71 L 191.09 47.81 L 190.85 48.07 L 190.59 48.49 L 190.27 48.90 L 190.04 49.25 L 190.00 49.60 L 190.23 50.00 L 190.61 50.35 L 191.02 50.56 L 191.47 50.60 L 191.95 50.50 L 192.48 50.26 L 192.75 49.97 L 192.85 49.56 L 192.89 49.00 L 192.83 48.51 L 192.67 48.17 L 192.35 47.94 L 191.81 47.77 ZM 217.16 49.53 L 216.94 49.61 L 216.81 49.75 L 216.75 49.94 L 216.67 50.40 L 216.51 50.94 L 216.42 51.25 L 216.43 51.53 L 216.56 51.79 L 216.79 52.02 L 217.12 52.33 L 217.40 52.56 L 217.70 52.62 L 218.09 52.45 L 218.48 52.11 L 218.65 51.81 L 218.67 51.45 L 218.59 50.94 L 218.45 50.36 L 218.31 49.92 L 218.20 49.76 L 218.02 49.64 L 217.77 49.55 L 217.45 49.50 ZM 212.02 53.86 L 211.67 53.89 L 211.37 54.09 L 211.03 54.39 L 210.76 54.74 L 210.70 55.05 L 210.80 55.37 L 211.03 55.77 L 211.23 56.13 L 211.42 56.38 L 211.69 56.49 L 212.12 56.49 L 212.53 56.33 L 212.76 56.13 L 212.89 55.84 L 212.98 55.41 L 213.02 54.90 L 213.01 54.55 L 212.86 54.27 L 212.48 54.03 ZM 201.46 55.54 L 200.76 55.45 L 200.15 55.41 L 199.62 55.44 L 199.15 55.58 L 198.69 55.90 L 198.26 56.39 L 197.85 57.06 L 197.37 57.95 L 196.98 58.74 L 196.70 59.44 L 196.53 60.05 L 196.51 60.63 L 196.72 61.28 L 197.14 61.98 L 197.79 62.75 L 198.46 63.38 L 199.09 63.78 L 199.69 63.94 L 200.26 63.86 L 200.87 63.64 L 201.55 63.35 L 202.33 63.00 L 203.18 62.59 L 203.98 62.21 L 204.65 61.84 L 205.19 61.48 L 205.59 61.13 L 205.88 60.71 L 206.05 60.14 L 206.11 59.43 L 206.06 58.56 L 205.91 57.79 L 205.68 57.18 L 205.36 56.73 L 204.95 56.45 L 204.44 56.25 L 203.82 56.06 L 203.09 55.87 L 202.25 55.69 ZM 211.90 60.88 L 211.82 61.38 L 212.32 61.74 L 212.90 61.24 L 212.40 60.80 ZM 208.89 62.45 L 208.65 62.28 L 208.41 62.24 L 208.07 62.31 L 207.64 62.51 L 207.32 62.67 L 207.14 62.92 L 207.07 63.39 L 207.12 63.95 L 207.25 64.33 L 207.55 64.58 L 208.07 64.77 L 208.56 64.82 L 208.87 64.69 L 209.10 64.40 L 209.37 63.97 L 209.57 63.59 L 209.56 63.33 L 209.41 63.08 L 209.17 62.75 ZM 210.98 67.32 L 210.67 67.31 L 210.35 67.45 L 209.95 67.64 L 209.73 67.81 L 209.59 68.04 L 209.52 68.32 L 209.53 68.66 L 209.62 68.91 L 209.78 69.12 L 209.98 69.27 L 210.25 69.38 L 210.54 69.37 L 210.80 69.28 L 211.01 69.11 L 211.18 68.86 L 211.37 68.48 L 211.53 68.19 L 211.55 67.90 L 211.32 67.56 ZM 206.61 69.29 L 206.35 69.34 L 206.17 69.45 L 206.06 69.63 L 205.86 70.06 L 205.56 70.59 L 205.41 70.95 L 205.38 71.29 L 205.48 71.63 L 205.70 71.95 L 206.00 72.19 L 206.33 72.32 L 206.69 72.34 L 207.07 72.25 L 207.52 71.98 L 207.85 71.77 L 207.98 71.65 L 208.06 71.48 L 208.09 71.25 L 208.07 70.95 L 207.98 70.32 L 207.82 69.84 L 207.70 69.66 L 207.51 69.51 L 207.26 69.39 L 206.93 69.30 ZM 202.69 73.15 L 202.43 72.83 L 202.08 72.67 L 201.53 72.61 L 200.99 72.73 L 200.67 72.94 L 200.47 73.29 L 200.31 73.83 L 200.17 74.34 L 200.20 74.74 L 200.41 75.07 L 200.81 75.42 L 201.24 75.64 L 201.67 75.69 L 202.11 75.60 L 202.54 75.34 L 202.86 74.97 L 203.04 74.57 L 203.07 74.14 L 202.96 73.69 ZM 206.45 75.62 L 206.19 75.34 L 205.84 75.18 L 205.42 75.13 L 205.03 75.21 L 204.87 75.45 L 204.81 75.81 L 204.70 76.20 L 204.70 76.66 L 204.98 77.00 L 205.42 77.14 L 205.85 77.00 L 206.19 76.75 L 206.50 76.56 L 206.68 76.35 L 206.64 76.00 ZM 198.67 77.61 L 198.29 77.20 L 198.08 77.09 L 197.82 77.05 L 197.51 77.06 L 197.14 77.14 L 196.26 77.38 L 195.62 77.64 L 195.40 77.83 L 195.23 78.11 L 195.11 78.48 L 195.04 78.94 L 195.04 79.44 L 195.10 79.85 L 195.22 80.17 L 195.40 80.39 L 195.98 80.77 L 196.85 81.17 L 197.75 81.52 L 198.43 81.67 L 198.73 81.65 L 199.05 81.52 L 199.38 81.26 L 199.73 80.89 L 199.99 80.51 L 200.12 80.17 L 200.13 79.86 L 200.01 79.59 L 199.60 79.00 L 199.07 78.22 Z' style='fill-rule: nonzero; fill: #000000; stroke-width: 0.75; stroke: none;' />
&lt;path d='M 246.44 71.17 L 245.80 70.74 L 245.37 70.11 L 245.22 69.38 L 245.22 22.86 L 245.37 22.12 L 245.80 21.49 L 246.44 21.05 L 247.18 20.91 L 283.46 20.91 L 284.20 21.05 L 284.83 21.49 L 285.27 22.12 L 285.41 22.86 L 285.41 33.80 L 285.27 34.54 L 284.83 35.17 L 284.20 35.61 L 283.46 35.75 L 262.87 35.75 L 262.87 41.08 L 282.02 41.08 L 282.76 41.22 L 283.40 41.66 L 283.65 41.95 L 283.83 42.28 L 283.94 42.63 L 283.97 43.02 L 283.97 53.89 L 283.83 54.63 L 283.40 55.27 L 282.76 55.69 L 282.02 55.83 L 262.87 55.83 L 262.87 69.38 L 262.72 70.11 L 262.29 70.74 L 261.99 70.99 L 261.67 71.17 L 261.31 71.28 L 260.93 71.31 L 247.18 71.31 ZM 265.87 24.25 L 265.34 24.25 L 264.89 24.29 L 264.52 24.38 L 264.20 24.54 L 263.90 24.82 L 263.60 25.22 L 263.30 25.74 L 263.07 26.28 L 262.94 26.77 L 262.92 27.19 L 263.01 27.55 L 263.19 27.88 L 263.46 28.24 L 263.81 28.63 L 264.24 29.05 L 264.72 29.48 L 265.15 29.84 L 265.54 30.13 L 265.88 30.34 L 266.24 30.46 L 266.68 30.45 L 267.19 30.32 L 267.77 30.06 L 268.35 29.70 L 268.78 29.34 L 269.07 28.99 L 269.21 28.63 L 269.25 28.22 L 269.24 27.72 L 269.18 27.13 L 269.07 26.45 L 268.94 25.90 L 268.76 25.44 L 268.54 25.09 L 268.27 24.84 L 267.94 24.66 L 267.53 24.51 L 267.04 24.39 L 266.47 24.30 ZM 249.55 25.87 L 249.55 25.53 L 249.43 25.27 L 249.05 25.09 L 248.61 25.01 L 248.22 25.07 L 247.89 25.26 L 247.61 25.59 L 247.31 26.05 L 247.16 26.42 L 247.20 26.79 L 247.46 27.25 L 247.84 27.60 L 248.25 27.81 L 248.70 27.85 L 249.19 27.75 L 249.55 27.50 L 249.62 27.17 L 249.57 26.78 L 249.55 26.31 ZM 280.29 26.01 L 280.15 26.17 L 279.93 26.67 L 279.65 27.25 L 279.61 27.49 L 279.79 27.75 L 280.06 27.95 L 280.29 27.94 L 280.56 27.82 L 280.94 27.69 L 281.36 27.24 L 281.44 26.75 L 281.34 26.43 L 281.16 26.19 L 280.91 26.03 L 280.58 25.95 ZM 274.88 26.60 L 274.76 26.38 L 274.61 26.24 L 274.43 26.17 L 273.95 26.10 L 273.32 26.03 L 272.81 26.01 L 272.44 26.09 L 272.16 26.34 L 271.87 26.81 L 271.75 27.27 L 271.80 27.61 L 272.02 27.93 L 272.38 28.33 L 272.89 28.72 L 273.27 29.02 L 273.45 29.10 L 273.68 29.11 L 273.94 29.05 L 274.24 28.91 L 274.77 28.48 L 275.04 28.08 L 275.09 27.59 L 274.97 26.89 ZM 253.34 26.99 L 253.04 26.81 L 252.76 26.80 L 252.43 27.03 L 252.07 27.38 L 251.85 27.69 L 251.82 28.04 L 252.01 28.55 L 252.24 28.92 L 252.54 29.05 L 252.91 29.03 L 253.36 28.97 L 253.79 28.90 L 254.08 28.80 L 254.28 28.59 L 254.44 28.19 L 254.45 27.83 L 254.30 27.61 L 254.05 27.45 L 253.72 27.25 ZM 279.72 29.99 L 279.21 30.20 L 278.93 30.92 L 279.79 31.06 L 280.08 30.42 ZM 259.80 30.09 L 259.35 30.20 L 258.99 30.51 L 258.63 31.00 L 258.28 31.64 L 258.12 32.11 L 258.19 32.55 L 258.55 33.08 L 258.99 33.51 L 259.41 33.63 L 259.92 33.54 L 260.57 33.38 L 261.13 33.09 L 261.54 32.83 L 261.68 32.68 L 261.76 32.46 L 261.80 32.19 L 261.79 31.86 L 261.67 31.18 L 261.46 30.75 L 261.08 30.45 L 260.43 30.20 ZM 248.04 34.30 L 247.76 34.88 L 248.76 34.59 L 248.47 34.09 ZM 254.80 34.30 L 254.30 34.88 L 254.66 35.45 L 255.24 35.45 L 255.68 34.67 ZM 253.71 40.32 L 253.65 39.86 L 253.56 39.48 L 253.43 39.17 L 253.24 38.92 L 252.95 38.69 L 252.56 38.50 L 252.07 38.34 L 251.53 38.19 L 251.06 38.12 L 250.66 38.12 L 250.33 38.19 L 250.05 38.35 L 249.75 38.61 L 249.44 38.97 L 249.11 39.42 L 248.80 39.87 L 248.58 40.28 L 248.46 40.64 L 248.43 40.97 L 248.49 41.30 L 248.62 41.66 L 248.83 42.07 L 249.11 42.52 L 249.47 42.89 L 249.80 43.16 L 250.11 43.32 L 250.41 43.38 L 251.10 43.29 L 252.01 43.02 L 252.85 42.71 L 253.36 42.34 L 253.52 42.10 L 253.63 41.77 L 253.70 41.36 L 253.72 40.86 ZM 258.26 42.52 L 257.97 43.24 L 258.77 43.45 L 259.41 42.88 L 258.83 42.30 ZM 265.64 43.95 L 265.28 43.85 L 264.91 43.88 L 264.52 44.03 L 263.95 44.35 L 263.52 44.58 L 263.37 44.70 L 263.27 44.89 L 263.22 45.14 L 263.22 45.47 L 263.32 45.79 L 263.45 46.02 L 263.61 46.16 L 263.80 46.22 L 264.31 46.26 L 264.96 46.33 L 265.53 46.38 L 265.93 46.38 L 266.24 46.20 L 266.54 45.75 L 266.71 45.25 L 266.65 44.89 L 266.39 44.56 L 265.97 44.17 ZM 265.26 49.12 L 265.32 48.64 L 265.31 48.44 L 265.21 48.26 L 265.02 48.11 L 264.74 47.99 L 264.09 47.85 L 263.58 47.88 L 263.16 48.12 L 262.72 48.63 L 262.56 48.90 L 262.48 49.14 L 262.49 49.35 L 262.58 49.53 L 262.90 49.92 L 263.30 50.44 L 263.63 50.78 L 263.91 50.97 L 264.23 51.02 L 264.68 50.94 L 265.06 50.76 L 265.21 50.52 L 265.23 50.17 L 265.24 49.72 ZM 257.53 48.91 L 257.04 48.86 L 256.56 49.05 L 255.96 49.50 L 255.34 50.03 L 254.91 50.47 L 254.79 50.70 L 254.74 50.98 L 254.77 51.33 L 254.88 51.74 L 255.07 52.15 L 255.28 52.47 L 255.52 52.68 L 255.77 52.78 L 256.42 52.84 L 257.26 52.81 L 257.92 52.68 L 258.33 52.42 L 258.61 51.98 L 258.83 51.30 L 258.97 50.59 L 258.94 50.08 L 258.68 49.64 L 258.12 49.20 ZM 249.69 50.50 L 249.05 51.02 L 249.19 51.80 L 249.99 51.80 L 250.05 51.16 ZM 270.13 50.53 L 269.88 50.66 L 269.68 50.90 L 269.43 51.22 L 269.26 51.48 L 269.19 51.75 L 269.22 52.02 L 269.35 52.30 L 269.61 52.70 L 269.79 53.03 L 270.02 53.21 L 270.43 53.17 L 270.88 53.00 L 271.07 52.75 L 271.13 52.38 L 271.15 51.88 L 271.13 51.38 L 271.07 51.05 L 270.90 50.81 L 270.51 50.58 ZM 276.57 51.49 L 276.33 51.30 L 276.06 51.23 L 275.69 51.30 L 275.18 51.50 L 274.79 51.66 L 274.64 51.76 L 274.54 51.93 L 274.48 52.16 L 274.46 52.45 L 274.58 53.06 L 274.79 53.42 L 275.15 53.65 L 275.76 53.81 L 276.35 53.96 L 276.80 53.97 L 277.19 53.77 L 277.55 53.31 L 277.69 53.08 L 277.74 52.88 L 277.70 52.70 L 277.58 52.56 L 277.24 52.24 L 276.83 51.80 ZM 253.68 55.72 L 253.40 55.47 L 253.02 55.36 L 252.51 55.33 L 252.11 55.38 L 251.77 55.54 L 251.50 55.81 L 251.29 56.19 L 251.11 56.70 L 251.02 57.09 L 251.12 57.45 L 251.49 57.84 L 251.95 58.11 L 252.32 58.17 L 252.71 58.06 L 253.22 57.78 L 253.64 57.44 L 253.90 57.14 L 253.98 56.76 L 253.86 56.19 ZM 255.86 62.12 L 255.66 61.24 L 255.49 60.90 L 255.19 60.62 L 254.74 60.39 L 254.16 60.22 L 253.41 60.08 L 252.76 60.01 L 252.20 60.01 L 251.74 60.08 L 251.33 60.26 L 250.92 60.59 L 250.52 61.06 L 250.13 61.67 L 249.79 62.38 L 249.56 63.02 L 249.45 63.57 L 249.44 64.05 L 249.56 64.50 L 249.79 65.00 L 250.15 65.54 L 250.63 66.13 L 251.12 66.59 L 251.59 66.89 L 252.02 67.04 L 252.43 67.03 L 252.86 66.91 L 253.36 66.75 L 253.94 66.53 L 254.58 66.27 L 255.10 66.01 L 255.51 65.74 L 255.79 65.46 L 255.96 65.16 L 256.05 64.81 L 256.09 64.40 L 256.08 63.90 L 256.04 63.33 Z' style='fill-rule: nonzero; fill: #FF0000; stroke-width: 0.75; stroke: none;' />
&lt;path d='M 307.91 71.97 L 305.66 71.78 L 303.55 71.47 L 301.59 71.03 L 299.77 70.46 L 298.10 69.77 L 296.58 68.96 L 295.20 68.02 L 293.97 66.95 L 292.88 65.76 L 291.94 64.44 L 291.15 63.00 L 290.50 61.43 L 290.00 59.73 L 289.65 57.92 L 289.44 55.97 L 289.33 52.59 L 289.44 49.20 L 289.66 47.28 L 290.04 45.48 L 290.56 43.81 L 291.24 42.25 L 292.07 40.81 L 293.06 39.49 L 294.20 38.30 L 295.49 37.22 L 296.92 36.27 L 298.47 35.44 L 300.14 34.74 L 301.93 34.17 L 303.84 33.73 L 305.88 33.41 L 308.04 33.22 L 310.32 33.16 L 312.60 33.22 L 314.75 33.41 L 316.79 33.73 L 318.71 34.17 L 320.51 34.74 L 322.18 35.44 L 323.74 36.27 L 325.18 37.22 L 326.48 38.30 L 327.62 39.49 L 328.61 40.81 L 329.44 42.25 L 330.11 43.81 L 330.63 45.48 L 330.99 47.28 L 331.19 49.20 L 331.30 52.59 L 331.19 55.97 L 330.98 57.92 L 330.63 59.73 L 330.13 61.43 L 329.48 63.00 L 328.69 64.44 L 327.75 65.76 L 326.67 66.95 L 325.43 68.02 L 324.06 68.96 L 322.53 69.77 L 320.86 70.46 L 319.04 71.03 L 317.08 71.47 L 314.97 71.78 L 312.72 71.97 L 310.32 72.03 ZM 317.48 35.62 L 317.16 35.61 L 316.75 35.72 L 316.22 35.75 L 315.84 35.77 L 315.57 35.83 L 315.39 35.97 L 315.29 36.25 L 315.09 36.77 L 314.96 37.19 L 315.00 37.53 L 315.36 37.83 L 315.83 38.08 L 316.22 38.13 L 316.62 37.96 L 317.08 37.61 L 317.51 37.22 L 317.77 36.91 L 317.86 36.52 L 317.74 35.95 ZM 304.76 36.36 L 304.38 36.25 L 303.91 36.33 L 303.27 36.39 L 302.68 36.47 L 302.21 36.55 L 302.03 36.62 L 301.88 36.76 L 301.76 36.97 L 301.68 37.25 L 301.61 37.94 L 301.71 38.41 L 302.01 38.77 L 302.55 39.13 L 303.24 39.47 L 303.75 39.64 L 303.99 39.63 L 304.25 39.54 L 304.53 39.38 L 304.85 39.13 L 305.33 38.58 L 305.49 38.08 L 305.40 37.53 L 305.13 36.83 ZM 308.74 38.05 L 308.16 38.55 L 308.38 39.27 L 308.96 38.99 L 309.32 38.49 ZM 316.34 39.74 L 316.07 39.56 L 315.71 39.52 L 315.22 39.56 L 314.88 39.68 L 314.74 39.89 L 314.70 40.18 L 314.64 40.56 L 314.56 41.03 L 314.46 41.41 L 314.48 41.70 L 314.79 41.94 L 315.31 42.15 L 315.72 42.22 L 316.10 42.11 L 316.50 41.80 L 316.82 41.39 L 316.89 41.05 L 316.80 40.66 L 316.58 40.14 ZM 306.90 40.11 L 306.64 39.89 L 306.39 39.81 L 306.07 39.92 L 305.77 40.10 L 305.74 40.36 L 305.93 41.08 L 305.99 41.34 L 306.09 41.53 L 306.24 41.66 L 306.43 41.72 L 307.11 41.88 L 307.36 41.83 L 307.58 41.58 L 307.71 41.20 L 307.64 40.94 L 307.47 40.70 L 307.22 40.42 ZM 324.01 42.80 L 323.41 42.14 L 322.84 41.63 L 322.30 41.25 L 321.72 41.03 L 321.02 40.97 L 320.20 41.08 L 319.25 41.36 L 318.39 41.75 L 317.77 42.20 L 317.38 42.70 L 317.22 43.27 L 317.20 43.92 L 317.20 44.68 L 317.21 45.56 L 317.24 46.55 L 317.31 47.24 L 317.46 47.78 L 317.70 48.19 L 318.02 48.45 L 318.43 48.65 L 318.94 48.84 L 319.55 49.02 L 320.25 49.20 L 320.91 49.40 L 321.49 49.54 L 322.01 49.64 L 322.46 49.69 L 322.87 49.63 L 323.27 49.40 L 323.67 49.02 L 324.07 48.49 L 324.56 47.74 L 324.96 47.07 L 325.26 46.48 L 325.47 45.97 L 325.54 45.47 L 325.43 44.91 L 325.13 44.28 L 324.64 43.59 ZM 297.20 46.48 L 296.86 45.92 L 296.54 45.43 L 296.27 45.03 L 295.96 44.74 L 295.52 44.56 L 294.96 44.52 L 294.27 44.60 L 293.64 44.81 L 293.19 45.10 L 292.92 45.46 L 292.85 45.89 L 292.85 46.97 L 292.75 48.34 L 292.63 49.58 L 292.54 50.55 L 292.58 50.95 L 292.80 51.31 L 293.19 51.64 L 293.75 51.94 L 294.50 52.22 L 295.16 52.42 L 295.73 52.52 L 296.21 52.53 L 296.66 52.42 L 297.14 52.15 L 297.66 51.73 L 298.22 51.16 L 298.61 50.60 L 298.82 50.09 L 298.87 49.63 L 298.75 49.22 L 298.53 48.79 L 298.27 48.30 L 297.95 47.74 L 297.58 47.13 ZM 311.26 60.44 L 312.01 60.22 L 312.56 59.85 L 312.91 59.33 L 313.14 58.65 L 313.32 57.81 L 313.47 56.79 L 313.57 55.61 L 313.59 55.02 L 313.61 54.32 L 313.62 53.51 L 313.63 52.59 L 313.62 51.68 L 313.61 50.87 L 313.59 50.16 L 313.57 49.56 L 313.47 48.45 L 313.32 47.47 L 313.14 46.63 L 312.91 45.94 L 312.56 45.39 L 312.01 44.99 L 311.26 44.75 L 310.32 44.67 L 309.40 44.75 L 308.67 44.99 L 308.12 45.39 L 307.75 45.94 L 307.51 46.63 L 307.32 47.47 L 307.18 48.45 L 307.08 49.56 L 307.05 50.16 L 307.02 50.87 L 307.01 51.68 L 307.00 52.59 L 307.01 53.51 L 307.02 54.32 L 307.05 55.02 L 307.08 55.61 L 307.18 56.79 L 307.32 57.81 L 307.51 58.65 L 307.75 59.33 L 308.12 59.85 L 308.67 60.22 L 309.40 60.44 L 310.32 60.52 ZM 305.45 45.16 L 305.16 45.03 L 304.80 45.01 L 304.35 44.95 L 303.99 44.96 L 303.70 45.03 L 303.48 45.18 L 303.33 45.39 L 303.25 45.71 L 303.30 45.94 L 303.47 46.14 L 303.77 46.41 L 304.02 46.65 L 304.22 46.83 L 304.47 46.88 L 304.85 46.77 L 305.23 46.49 L 305.49 46.27 L 305.64 45.97 L 305.64 45.53 ZM 300.46 44.95 L 300.16 45.69 L 300.74 45.97 L 301.10 45.75 L 301.25 45.17 ZM 301.49 51.42 L 301.27 51.54 L 301.09 51.74 L 300.96 52.02 L 300.87 52.35 L 300.87 52.65 L 300.97 52.89 L 301.18 53.09 L 301.46 53.26 L 301.75 53.31 L 302.04 53.26 L 302.33 53.09 L 302.60 52.87 L 302.76 52.61 L 302.81 52.33 L 302.75 52.02 L 302.64 51.67 L 302.43 51.49 L 302.13 51.40 L 301.75 51.38 ZM 328.36 54.89 L 328.00 54.45 L 327.59 54.22 L 327.13 54.19 L 326.01 54.33 L 324.58 54.47 L 323.98 54.55 L 323.47 54.67 L 323.06 54.80 L 322.74 54.97 L 322.48 55.20 L 322.26 55.54 L 322.07 55.99 L 321.91 56.55 L 321.80 57.16 L 321.75 57.68 L 321.76 58.13 L 321.83 58.50 L 322.00 58.83 L 322.28 59.16 L 322.69 59.51 L 323.21 59.86 L 323.89 60.27 L 324.49 60.61 L 325.02 60.90 L 325.47 61.13 L 325.92 61.23 L 326.42 61.15 L 326.98 60.89 L 327.60 60.44 L 328.21 59.81 L 328.68 59.23 L 329.00 58.70 L 329.18 58.20 L 329.23 57.69 L 329.16 57.07 L 328.98 56.36 L 328.68 55.55 ZM 300.74 55.11 L 300.52 55.77 L 301.10 56.27 L 301.68 55.83 L 301.39 55.25 ZM 294.09 56.95 L 293.72 56.92 L 293.35 57.08 L 292.89 57.42 L 292.60 57.73 L 292.43 58.07 L 292.38 58.45 L 292.46 58.86 L 292.68 59.42 L 292.89 59.80 L 293.22 60.01 L 293.75 60.08 L 294.01 60.05 L 294.20 59.98 L 294.31 59.86 L 294.36 59.69 L 294.43 59.24 L 294.55 58.72 L 294.74 58.20 L 294.88 57.81 L 294.85 57.50 L 294.55 57.20 ZM 296.79 57.92 L 296.13 58.50 L 296.71 59.08 L 297.29 59.00 L 297.50 58.36 ZM 303.63 58.36 L 302.83 58.92 L 303.33 59.58 L 304.13 59.80 L 304.41 58.86 ZM 310.44 64.59 L 310.37 64.20 L 310.27 63.89 L 310.13 63.66 L 309.66 63.28 L 308.88 62.95 L 308.40 62.80 L 307.99 62.71 L 307.65 62.68 L 307.36 62.70 L 307.10 62.81 L 306.83 63.01 L 306.53 63.30 L 306.22 63.69 L 306.02 63.99 L 305.93 64.27 L 305.96 64.52 L 306.10 64.74 L 306.55 65.21 L 307.08 65.84 L 307.42 66.26 L 307.72 66.49 L 308.09 66.54 L 308.60 66.42 L 309.37 66.17 L 309.96 66.02 L 310.18 65.92 L 310.33 65.72 L 310.43 65.43 L 310.46 65.05 ZM 296.17 63.35 L 295.85 63.13 L 295.45 63.02 L 294.99 63.03 L 294.58 63.21 L 294.39 63.47 L 294.33 63.83 L 294.27 64.33 L 294.21 64.78 L 294.19 65.13 L 294.32 65.39 L 294.69 65.63 L 295.12 65.74 L 295.41 65.63 L 295.66 65.37 L 295.99 65.05 L 296.30 64.67 L 296.52 64.41 L 296.59 64.12 L 296.43 63.69 ZM 313.40 63.64 L 312.99 63.44 L 312.61 63.41 L 312.19 63.69 L 311.93 64.09 L 312.00 64.44 L 312.25 64.83 L 312.47 65.34 L 312.68 65.72 L 312.86 65.99 L 313.11 66.13 L 313.49 66.13 L 314.12 66.06 L 314.60 65.99 L 314.78 65.91 L 314.94 65.75 L 315.06 65.51 L 315.14 65.19 L 315.16 64.90 L 315.11 64.67 L 315.01 64.49 L 314.85 64.38 L 314.44 64.16 L 313.93 63.89 ZM 321.00 64.00 L 320.57 63.94 L 320.09 64.09 L 319.46 64.33 L 318.89 64.67 L 318.46 64.99 L 318.30 65.15 L 318.20 65.38 L 318.16 65.65 L 318.16 65.99 L 318.36 66.94 L 318.52 67.64 L 318.66 67.91 L 318.91 68.13 L 319.27 68.31 L 319.75 68.44 L 320.20 68.46 L 320.56 68.39 L 320.81 68.23 L 320.97 67.97 L 321.25 67.28 L 321.63 66.42 L 321.91 65.83 L 322.02 65.34 L 321.90 64.89 L 321.47 64.41 ZM 300.57 64.49 L 300.27 64.52 L 299.99 64.66 L 299.66 64.91 L 299.36 65.23 L 299.16 65.49 L 299.09 65.77 L 299.16 66.20 L 299.39 66.55 L 299.63 66.74 L 299.94 66.80 L 300.38 66.78 L 300.74 66.68 L 300.96 66.53 L 301.10 66.28 L 301.25 65.91 L 301.31 65.47 L 301.35 65.16 L 301.27 64.90 L 300.96 64.61 ZM 314.43 67.72 L 313.99 68.66 L 314.79 69.02 L 315.43 68.80 L 315.43 67.86 Z' style='fill-rule: nonzero; fill: #FF0000; stroke-width: 0.75; stroke: none;' />
&lt;path d='M 337.88 71.17 L 337.24 70.74 L 336.81 70.11 L 336.67 69.38 L 336.67 35.81 L 336.81 35.08 L 337.24 34.45 L 337.88 34.02 L 338.62 33.88 L 351.21 33.88 L 351.95 34.02 L 352.59 34.45 L 353.02 35.08 L 353.17 35.81 L 353.17 38.19 L 354.15 37.19 L 355.30 36.26 L 356.63 35.41 L 358.12 34.64 L 359.75 33.99 L 361.45 33.53 L 363.25 33.25 L 365.12 33.16 L 366.92 33.27 L 368.66 33.59 L 370.34 34.13 L 371.95 34.89 L 373.46 35.87 L 374.82 37.08 L 376.03 38.53 L 377.09 40.22 L 377.55 41.15 L 377.96 42.15 L 378.30 43.21 L 378.58 44.34 L 378.79 45.53 L 378.95 46.79 L 379.04 48.11 L 379.07 49.50 L 379.07 69.38 L 378.93 70.11 L 378.49 70.74 L 378.20 70.99 L 377.87 71.17 L 377.52 71.28 L 377.13 71.31 L 363.38 71.31 L 362.64 71.17 L 362.01 70.74 L 361.59 70.11 L 361.45 69.38 L 361.45 50.00 L 361.39 49.07 L 361.22 48.27 L 360.94 47.59 L 360.54 47.04 L 360.04 46.60 L 359.42 46.30 L 358.68 46.11 L 357.84 46.05 L 357.00 46.11 L 356.27 46.30 L 355.65 46.60 L 355.14 47.04 L 354.75 47.59 L 354.47 48.27 L 354.30 49.07 L 354.24 50.00 L 354.24 69.38 L 354.10 70.11 L 353.67 70.74 L 353.03 71.17 L 352.29 71.31 L 338.62 71.31 ZM 341.94 35.14 L 341.53 35.20 L 341.22 35.43 L 340.92 35.89 L 340.73 36.41 L 340.74 36.80 L 340.95 37.14 L 341.35 37.55 L 341.76 37.96 L 342.10 38.20 L 342.49 38.24 L 343.01 38.05 L 343.53 37.70 L 343.79 37.38 L 343.89 36.97 L 343.87 36.39 L 343.69 35.81 L 343.43 35.50 L 343.06 35.33 L 342.51 35.17 ZM 345.74 36.69 L 345.17 37.05 L 345.09 37.97 L 346.10 37.97 L 346.46 37.05 ZM 348.56 40.72 L 347.90 41.08 L 348.20 41.72 L 348.98 41.94 L 349.13 41.14 ZM 351.65 41.14 L 351.15 41.94 L 351.51 42.58 L 352.37 42.58 L 352.45 41.66 ZM 343.02 41.43 L 342.82 41.33 L 342.58 41.31 L 342.21 41.36 L 341.93 41.45 L 341.71 41.58 L 341.57 41.74 L 341.49 41.94 L 341.50 42.21 L 341.58 42.44 L 341.75 42.64 L 341.99 42.80 L 342.43 42.85 L 342.87 42.58 L 343.11 42.33 L 343.26 42.16 L 343.31 41.96 L 343.23 41.66 ZM 360.98 41.34 L 360.60 41.28 L 360.29 41.39 L 359.99 41.72 L 359.70 42.24 L 359.56 42.63 L 359.62 43.01 L 359.93 43.52 L 360.28 43.82 L 360.60 43.84 L 360.99 43.71 L 361.51 43.52 L 361.86 43.34 L 362.11 43.11 L 362.26 42.80 L 362.31 42.44 L 362.25 42.11 L 362.09 41.84 L 361.82 41.64 L 361.45 41.50 ZM 355.17 41.70 L 354.74 41.63 L 354.36 41.74 L 353.95 42.16 L 353.67 42.61 L 353.67 42.99 L 353.86 43.36 L 354.17 43.88 L 354.46 44.29 L 354.74 44.50 L 355.10 44.54 L 355.60 44.45 L 356.10 44.29 L 356.43 44.09 L 356.62 43.77 L 356.68 43.24 L 356.63 42.68 L 356.49 42.33 L 356.22 42.09 L 355.74 41.86 ZM 370.36 43.09 L 369.85 42.74 L 369.62 42.63 L 369.34 42.62 L 369.01 42.70 L 368.63 42.88 L 368.26 43.13 L 368.01 43.38 L 367.86 43.64 L 367.84 43.89 L 367.95 44.50 L 368.13 45.33 L 368.28 46.17 L 368.42 46.83 L 368.54 47.09 L 368.77 47.30 L 369.09 47.45 L 369.51 47.55 L 369.97 47.55 L 370.34 47.49 L 370.63 47.36 L 370.84 47.16 L 371.19 46.57 L 371.59 45.75 L 371.71 45.38 L 371.77 45.06 L 371.78 44.78 L 371.73 44.56 L 371.48 44.13 L 371.01 43.59 ZM 350.02 43.72 L 349.74 43.28 L 349.59 43.12 L 349.38 43.03 L 349.11 43.02 L 348.77 43.09 L 348.45 43.18 L 348.20 43.31 L 348.04 43.47 L 347.96 43.67 L 347.90 44.19 L 347.84 44.89 L 347.87 45.36 L 348.03 45.75 L 348.34 46.08 L 348.77 46.33 L 349.20 46.38 L 349.48 46.27 L 349.73 45.99 L 350.06 45.61 L 350.31 45.28 L 350.49 45.00 L 350.53 44.68 L 350.35 44.24 ZM 342.17 45.56 L 341.82 45.63 L 341.52 45.81 L 341.28 46.11 L 340.97 46.63 L 340.77 47.02 L 340.76 47.39 L 340.99 47.84 L 341.40 48.18 L 341.77 48.20 L 342.20 48.04 L 342.71 47.84 L 343.06 47.63 L 343.21 47.41 L 343.27 47.12 L 343.29 46.69 L 343.26 46.26 L 343.15 45.97 L 342.94 45.77 L 342.57 45.61 ZM 376.27 48.63 L 375.62 48.92 L 375.98 49.56 L 376.70 49.56 L 376.70 48.84 ZM 338.90 49.20 L 338.40 49.78 L 338.68 50.28 L 339.34 50.44 L 339.48 49.72 ZM 350.89 50.58 L 350.71 50.31 L 350.46 50.11 L 350.13 50.00 L 349.76 49.98 L 349.45 50.08 L 349.19 50.27 L 348.98 50.58 L 348.85 50.93 L 348.84 51.24 L 348.93 51.53 L 349.13 51.80 L 349.45 52.06 L 349.70 52.13 L 349.97 52.06 L 350.35 51.94 L 350.67 51.74 L 350.88 51.56 L 351.01 51.31 L 350.99 50.94 ZM 346.69 52.57 L 346.36 52.20 L 346.04 51.92 L 345.74 51.74 L 345.41 51.63 L 345.01 51.60 L 344.52 51.66 L 343.95 51.80 L 343.44 51.97 L 343.06 52.18 L 342.82 52.45 L 342.71 52.75 L 342.65 53.52 L 342.57 54.53 L 342.54 55.56 L 342.57 56.34 L 342.67 56.65 L 342.90 56.93 L 343.25 57.19 L 343.73 57.42 L 344.19 57.54 L 344.58 57.55 L 344.89 57.43 L 345.12 57.20 L 345.59 56.56 L 346.18 55.77 L 346.82 54.99 L 347.29 54.42 L 347.42 54.16 L 347.42 53.84 L 347.30 53.47 L 347.04 53.03 ZM 370.39 52.64 L 369.82 52.27 L 369.31 52.00 L 368.85 51.81 L 368.40 51.75 L 367.88 51.84 L 367.32 52.10 L 366.70 52.52 L 365.96 53.08 L 365.34 53.60 L 364.83 54.09 L 364.43 54.55 L 364.17 55.04 L 364.06 55.66 L 364.11 56.40 L 364.32 57.27 L 364.66 58.15 L 365.05 58.84 L 365.48 59.34 L 365.96 59.66 L 366.54 59.84 L 367.25 59.97 L 368.09 60.05 L 369.07 60.08 L 369.86 60.03 L 370.50 59.88 L 370.98 59.64 L 371.31 59.30 L 371.56 58.85 L 371.83 58.29 L 372.10 57.62 L 372.38 56.84 L 372.56 56.17 L 372.64 55.59 L 372.63 55.09 L 372.53 54.69 L 372.32 54.31 L 372.01 53.92 L 371.57 53.52 L 371.01 53.09 ZM 350.42 57.83 L 350.13 58.14 L 349.73 58.72 L 349.67 58.95 L 349.85 59.22 L 350.15 59.45 L 350.47 59.54 L 350.83 59.52 L 351.21 59.36 L 351.48 59.19 L 351.57 58.97 L 351.56 58.67 L 351.51 58.28 L 351.31 57.98 L 350.85 57.78 ZM 376.77 60.02 L 376.42 60.74 L 376.63 61.38 L 377.28 61.02 L 377.71 60.22 ZM 350.13 61.09 L 350.13 61.95 L 350.63 62.39 L 351.21 61.95 L 350.99 61.30 ZM 342.29 61.59 L 341.93 62.24 L 342.35 62.67 L 343.15 62.67 L 342.93 61.95 ZM 369.51 62.81 L 368.93 63.39 L 369.29 63.89 L 369.71 63.83 L 369.93 63.39 ZM 343.63 64.54 L 343.26 64.33 L 342.87 64.29 L 342.35 64.47 L 341.93 64.83 L 341.79 65.19 L 341.83 65.62 L 341.93 66.20 L 342.13 66.77 L 342.29 67.17 L 342.56 67.43 L 343.07 67.56 L 343.70 67.57 L 344.12 67.42 L 344.44 67.10 L 344.73 66.56 L 344.90 66.05 L 344.81 65.67 L 344.52 65.32 L 344.09 64.91 ZM 351.07 65.44 L 350.69 65.32 L 350.31 65.34 L 349.92 65.49 L 349.33 65.86 L 348.87 66.13 L 348.71 66.27 L 348.63 66.47 L 348.63 66.74 L 348.70 67.06 L 348.87 67.81 L 349.12 68.33 L 349.31 68.51 L 349.58 68.64 L 349.92 68.74 L 350.35 68.80 L 350.71 68.80 L 351.00 68.74 L 351.21 68.62 L 351.35 68.44 L 351.59 67.91 L 351.87 67.20 L 352.04 66.70 L 352.01 66.34 L 351.79 66.04 L 351.43 65.70 ZM 367.25 66.25 L 366.99 66.26 L 366.75 66.36 L 366.56 66.56 L 366.43 66.79 L 366.39 67.03 L 366.46 67.29 L 366.62 67.56 L 366.84 67.84 L 367.07 68.00 L 367.31 68.06 L 367.56 68.00 L 367.77 67.89 L 367.93 67.72 L 368.03 67.47 L 368.06 67.14 L 368.03 66.85 L 367.93 66.61 L 367.77 66.45 L 367.56 66.34 ZM 376.51 66.56 L 376.13 66.56 L 375.81 66.76 L 375.56 66.92 L 375.41 67.14 L 375.40 67.50 L 375.52 67.79 L 375.73 67.94 L 376.34 68.08 L 376.67 68.08 L 376.95 68.02 L 377.18 67.90 L 377.35 67.72 L 377.42 67.42 L 377.35 67.22 L 377.17 67.05 L 376.92 66.84 ZM 339.62 67.36 L 338.98 67.92 L 339.40 68.86 L 340.42 68.44 L 340.56 67.42 Z' style='fill-rule: nonzero; fill: #FF0000; stroke-width: 0.75; stroke: none;' />
&lt;path d='M 405.57 71.23 L 403.19 70.96 L 400.94 70.52 L 398.84 69.91 L 397.85 69.53 L 396.92 69.08 L 396.04 68.58 L 395.21 68.01 L 394.44 67.38 L 393.72 66.69 L 393.05 65.94 L 392.44 65.13 L 391.89 64.24 L 391.41 63.27 L 391.01 62.23 L 390.68 61.11 L 390.42 59.91 L 390.24 58.63 L 390.13 57.27 L 390.09 55.83 L 390.09 46.47 L 384.41 46.47 L 383.66 46.33 L 383.03 45.91 L 382.61 45.27 L 382.47 44.53 L 382.47 35.81 L 382.61 35.08 L 383.03 34.45 L 383.66 34.02 L 384.41 33.88 L 390.09 33.88 L 390.09 22.14 L 390.24 21.40 L 390.67 20.77 L 391.30 20.33 L 392.05 20.19 L 404.64 20.19 L 405.02 20.22 L 405.38 20.33 L 405.70 20.51 L 406.00 20.77 L 406.43 21.40 L 406.58 22.14 L 406.58 33.88 L 415.66 33.88 L 416.04 33.91 L 416.39 34.02 L 416.72 34.20 L 417.02 34.45 L 417.45 35.08 L 417.59 35.81 L 417.59 44.53 L 417.45 45.27 L 417.02 45.91 L 416.39 46.33 L 415.66 46.47 L 406.58 46.47 L 406.58 54.39 L 406.62 55.18 L 406.76 55.88 L 407.00 56.50 L 407.33 57.03 L 407.76 57.46 L 408.30 57.76 L 408.94 57.94 L 409.69 58.00 L 416.23 58.00 L 416.62 58.04 L 416.97 58.15 L 417.30 58.33 L 417.59 58.58 L 417.85 58.88 L 418.03 59.20 L 418.14 59.55 L 418.17 59.94 L 418.17 69.38 L 418.03 70.11 L 417.59 70.74 L 417.30 70.99 L 416.97 71.17 L 416.62 71.28 L 416.23 71.31 L 408.09 71.31 ZM 401.52 22.10 L 401.25 21.99 L 401.00 21.96 L 400.78 22.00 L 400.36 22.21 L 399.89 22.56 L 399.41 23.04 L 399.12 23.44 L 399.07 23.64 L 399.07 23.89 L 399.12 24.18 L 399.23 24.52 L 399.55 25.09 L 399.89 25.38 L 400.36 25.47 L 401.05 25.45 L 401.65 25.33 L 402.01 25.13 L 402.24 24.76 L 402.41 24.16 L 402.55 23.52 L 402.55 23.05 L 402.34 22.65 L 401.83 22.28 ZM 396.44 24.30 L 395.56 24.44 L 395.86 25.24 L 396.58 25.74 L 397.16 24.94 ZM 401.47 26.67 L 401.05 27.03 L 400.83 27.69 L 401.55 27.75 L 401.69 27.25 ZM 395.68 28.29 L 395.51 28.09 L 395.28 27.96 L 394.98 27.89 L 394.66 27.85 L 394.41 27.86 L 394.20 27.97 L 393.98 28.25 L 393.89 28.57 L 393.90 28.87 L 394.00 29.15 L 394.20 29.41 L 394.47 29.60 L 394.70 29.59 L 395.28 29.34 L 395.69 28.96 L 395.78 28.55 ZM 397.41 32.60 L 396.67 32.24 L 396.02 31.93 L 395.45 31.67 L 394.92 31.56 L 394.34 31.68 L 393.71 32.05 L 393.05 32.66 L 392.48 33.32 L 392.14 33.94 L 392.03 34.52 L 392.14 35.06 L 392.40 35.63 L 392.73 36.28 L 393.11 37.01 L 393.55 37.83 L 393.97 38.60 L 394.36 39.24 L 394.73 39.77 L 395.06 40.17 L 395.46 40.46 L 396.00 40.61 L 396.69 40.65 L 397.51 40.56 L 398.33 40.39 L 398.99 40.14 L 399.48 39.82 L 399.81 39.42 L 400.04 38.93 L 400.24 38.32 L 400.40 37.59 L 400.53 36.75 L 400.63 35.98 L 400.62 35.34 L 400.50 34.82 L 400.28 34.42 L 399.95 34.08 L 399.50 33.73 L 398.93 33.37 L 398.23 33.02 ZM 388.68 37.29 L 388.47 37.08 L 388.16 36.98 L 387.72 36.89 L 387.28 36.91 L 386.97 36.97 L 386.73 37.15 L 386.50 37.55 L 386.34 38.01 L 386.28 38.38 L 386.39 38.71 L 386.72 39.06 L 387.17 39.40 L 387.53 39.56 L 387.92 39.52 L 388.44 39.27 L 388.82 38.92 L 388.97 38.59 L 388.95 38.20 L 388.80 37.69 ZM 406.50 41.22 L 406.31 40.93 L 406.03 40.71 L 405.64 40.56 L 405.06 40.42 L 404.59 40.25 L 404.40 40.21 L 404.21 40.27 L 404.02 40.44 L 403.84 40.72 L 403.54 41.31 L 403.48 41.80 L 403.67 42.26 L 404.06 42.80 L 404.53 43.23 L 404.95 43.38 L 405.44 43.31 L 406.08 43.09 L 406.46 42.84 L 406.61 42.52 L 406.62 42.10 L 406.58 41.58 ZM 390.59 40.33 L 390.39 40.36 L 390.17 40.56 L 390.01 40.88 L 389.95 41.18 L 390.01 41.46 L 390.17 41.72 L 390.44 41.93 L 390.67 41.99 L 390.93 41.92 L 391.25 41.80 L 391.44 41.70 L 391.58 41.53 L 391.66 41.30 L 391.69 41.00 L 391.65 40.80 L 391.54 40.64 L 391.36 40.51 L 391.11 40.42 ZM 410.33 41.44 L 410.55 42.16 L 411.26 42.30 L 411.41 41.66 L 411.05 41.28 ZM 387.44 43.02 L 387.22 43.81 L 387.58 44.24 L 388.30 44.09 L 388.16 43.38 ZM 400.39 43.67 L 399.89 44.24 L 400.31 44.75 L 400.97 44.67 L 401.25 43.95 ZM 396.96 45.06 L 396.72 44.81 L 396.38 44.69 L 395.92 44.60 L 395.27 44.51 L 394.77 44.39 L 394.56 44.36 L 394.36 44.44 L 394.17 44.61 L 393.98 44.89 L 393.84 45.19 L 393.78 45.46 L 393.79 45.69 L 393.87 45.89 L 394.19 46.31 L 394.62 46.83 L 395.03 47.13 L 395.39 47.16 L 395.76 47.01 L 396.22 46.77 L 396.65 46.55 L 396.94 46.33 L 397.08 46.02 L 397.08 45.53 ZM 394.61 49.09 L 394.41 48.78 L 394.11 48.62 L 393.62 48.56 L 393.16 48.62 L 392.79 48.80 L 392.51 49.09 L 392.33 49.50 L 392.20 50.01 L 392.25 50.38 L 392.47 50.68 L 392.83 51.02 L 393.23 51.20 L 393.62 51.27 L 394.02 51.20 L 394.42 51.02 L 394.68 50.71 L 394.83 50.36 L 394.86 49.98 L 394.78 49.56 ZM 401.22 49.74 L 400.89 49.75 L 400.57 49.90 L 400.17 50.14 L 399.83 50.43 L 399.64 50.69 L 399.59 50.99 L 399.67 51.38 L 399.87 51.95 L 400.03 52.38 L 400.13 52.53 L 400.30 52.65 L 400.53 52.71 L 400.83 52.74 L 401.15 52.72 L 401.41 52.66 L 401.60 52.56 L 401.72 52.42 L 401.91 52.01 L 402.12 51.44 L 402.24 50.93 L 402.19 50.58 L 401.97 50.27 L 401.61 49.92 ZM 401.93 55.10 L 401.25 54.96 L 400.68 55.00 L 400.22 55.22 L 399.78 55.58 L 399.29 56.04 L 398.75 56.60 L 398.16 57.27 L 397.63 57.89 L 397.21 58.46 L 396.88 58.97 L 396.64 59.44 L 396.54 59.90 L 396.59 60.44 L 396.80 61.05 L 397.16 61.74 L 397.65 62.56 L 398.12 63.26 L 398.58 63.81 L 399.02 64.22 L 399.52 64.49 L 400.16 64.63 L 400.93 64.62 L 401.83 64.47 L 402.74 64.25 L 403.45 63.95 L 403.96 63.57 L 404.28 63.11 L 404.48 62.54 L 404.66 61.84 L 404.81 61.02 L 404.92 60.08 L 405.00 59.17 L 405.00 58.38 L 404.94 57.72 L 404.81 57.17 L 404.56 56.69 L 404.13 56.24 L 403.51 55.81 L 402.70 55.41 ZM 392.76 59.08 L 392.41 59.72 L 393.41 59.58 L 393.41 59.00 ZM 413.72 60.66 L 413.20 61.09 L 413.28 61.81 L 414.08 61.74 L 414.22 61.09 ZM 411.32 62.23 L 411.00 61.84 L 410.81 61.74 L 410.57 61.68 L 410.26 61.65 L 409.89 61.67 L 409.53 61.72 L 409.25 61.81 L 409.03 61.93 L 408.89 62.09 L 408.69 62.54 L 408.53 63.17 L 408.33 63.97 L 408.17 64.59 L 408.16 64.85 L 408.26 65.10 L 408.48 65.33 L 408.81 65.55 L 409.19 65.76 L 409.53 65.88 L 409.84 65.91 L 410.11 65.84 L 410.66 65.52 L 411.33 64.97 L 411.76 64.49 L 411.91 64.05 L 411.84 63.54 L 411.62 62.89 ZM 405.60 66.22 L 405.42 66.06 L 405.14 65.97 L 404.72 65.84 L 404.45 65.82 L 404.21 65.88 L 404.01 66.03 L 403.84 66.27 L 403.68 66.58 L 403.63 66.87 L 403.68 67.13 L 403.84 67.36 L 404.06 67.54 L 404.28 67.53 L 404.86 67.28 L 405.50 67.08 L 405.70 66.91 L 405.72 66.56 ZM 411.55 68.66 L 411.76 69.44 L 412.42 69.38 L 412.92 68.86 L 412.27 68.44 Z' style='fill-rule: nonzero; fill: #FF0000; stroke-width: 0.75; stroke: none;' />
&lt;image width='71.31' height='71.31' x='419.98' y='7.13' preserveAspectRatio='none' xlink:href='data:image/png;base64,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'/>
&lt;line x1='0.00' y1='78.51' x2='227.88' y2='78.51' style='stroke-width: 4.05; stroke-linecap: square;' />
&lt;/g>
&lt;/g>
&lt;/svg>
&lt;p>If you inspect the SVG above you&amp;rsquo;ll see that rather than being made up of text elements it is a collection of path and image elements.&lt;/p>
&lt;p>Again, it is unlikely that many people will use marquee like this. It is much more likely that they will encounter it through ggplot2 in the form of &lt;code>geom_marquee()&lt;/code> and &lt;code>element_marquee()&lt;/code>. The takeaway, however, is the same - it is now safe to use marquee even when you don&amp;rsquo;t know which graphics device will be used to render the text with.&lt;/p>
&lt;h2 id="whats-next">What&amp;rsquo;s Next?
&lt;a href="#whats-next">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Circling back to the starting quote. I&amp;rsquo;m 100% certain I&amp;rsquo;m not done yet. I believe the next big push will be proper support for vertical text in textshaping (it currently only deals with horizontal text). I also have some plans to get marquee to automatically translate the numbers in ordered lists into their proper representation in the script that is being used, so that e.g. &amp;lsquo;3.&amp;rsquo; will be shown as &amp;lsquo;.٣&amp;rsquo; when used with Arabic text.&lt;/p></description></item><item><title>WebAssembly roundup part 3: Quarto Live 0.1.1</title><link>https://www.tidyverse.org/blog/2024/10/quarto-live-0-1-1/</link><pubDate>Tue, 15 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2024/10/quarto-live-0-1-1/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>We&amp;rsquo;re tickled pink to announce the release of
&lt;a href="https://r-wasm.github.io/quarto-live/" target="_blank" rel="noopener">Quarto Live&lt;/a> 0.1.1. Quarto Live is a new Quarto extension that uses WebAssembly to bring interactive examples and code exercises with custom grading algorithms to your HTML-based output documents, using standard Quarto markdown syntax.&lt;/p>
&lt;p>Quarto Live adds a
&lt;a href="https://codemirror.net/" target="_blank" rel="noopener">CodeMirror&lt;/a>-based text editor to your document with automatic theming, syntax highlighting, and auto-complete. The editor executes R code using webR, and even integrates with
&lt;a href="https://quarto.org/docs/interactive/ojs/" target="_blank" rel="noopener">Quarto&amp;rsquo;s OJS support&lt;/a> so that interactive code cells update reactively with other &lt;code>ojs&lt;/code> cells running in the page.&lt;/p>
&lt;p>This blog post is part 3 of a WebAssembly roundup series, and will discuss Quarto Live&amp;rsquo;s primary features and show some examples of the extension in use. Authors who are creating educational content should find this post particularly interesting, as adding just a little interactivity can go a long way to keep readers engaged. The post contains only static screenshots, but if you&amp;rsquo;d like see Quarto Live in action there are interactive examples throughout its
&lt;a href="https://r-wasm.github.io/quarto-live/" target="_blank" rel="noopener">documentation website&lt;/a>.&lt;/p>
&lt;h2 id="getting-started">Getting Started
&lt;a href="#getting-started">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>You can add the Quarto Live extension to a project by running the following command in a terminal with the current directory of a Quarto project:&lt;/p>
&lt;pre>&lt;code>quarto add r-wasm/quarto-live
&lt;/code>&lt;/pre>
&lt;p>Then, create a new document with the following template to get up and running using the &lt;code>knitr&lt;/code> engine:&lt;/p>
&lt;!--
This rather strange way of displaying output throughout this post is to
avoid invoking knitr with (and shortcodes) in code block output.
-->
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>---
title: R Example
engine: knitr
format: live-html
---
{{&amp;lt; include ./_extensions/r-wasm/live/_knitr.qmd &amp;gt;}}
## Main Content
&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Once the document has been set up in this way, an R code block can be made into an interactive code block simply by switching &lt;code>{r}&lt;/code> to &lt;code>{webr}&lt;/code>. In this example, we create an interactive block that plots example data using the ggplot package.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>```{webr}
#| warning: false
library(ggplot2)
ggplot(airquality, aes(Temp, Ozone)) +
geom_point() +
geom_smooth(method = "loess")
```
&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The resulting rendered document looks like the screenshot below. An editor is inserted into the document in the place of the code block, and an interested reader can use it to modify and re-execute the source code in place.&lt;/p>
&lt;img src="images/ggplot-1.png" alt="Screenshot showing the result of rendering the example document above. The Quarto Live editor is shown pre-populated with the provided code snippet. An output graphic is shown, showing the result of plotting the airquality dataset using the ggplot2 package."/>
&lt;p>Quarto Live executes R code using the
&lt;a href="https://evaluate.r-lib.org" target="_blank" rel="noopener">evaluate&lt;/a> package, with output rendered using functions from
&lt;a href="https://yihui.org/knitr/" target="_blank" rel="noopener">knitr&lt;/a>, so the output should be almost identical to output generated by R Markdown or Quarto.&lt;/p>
&lt;p>The real beauty of this, in my opinion, is that the reader does not have to install any packages, copy and paste source code, switch to an IDE like
&lt;a href="https://posit.co/products/open-source/rstudio/" target="_blank" rel="noopener">RStudio&lt;/a> or
&lt;a href="https://positron.posit.co" target="_blank" rel="noopener">Positron&lt;/a>, or deal with myriad other small but fiddly distractions just to experiment with a new piece of code or R package. They can do it, right there, without any context switching.&lt;/p>
&lt;p>At first you might think of this like cells in a Jupyter notebook. However, to me a notebook feels more like an exploratory environment, whereas a Quarto Live block feels more like published content; it lives somewhere in-between computational notebooks and the static rendered output of literate programming frameworks like R Markdown and Quarto.&lt;/p>
&lt;h2 id="interactive-exercises">Interactive exercises
&lt;a href="#interactive-exercises">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Traditionally, this level of direct interactivity for R code in a rendered document has only been possible though tools that require a server-side component, such as a Jupyter server or a Shiny server using the
&lt;a href="https://rstudio.github.io/learnr/" target="_blank" rel="noopener">learnr&lt;/a> package to execute code dynamically. This has limited deployment options for educators, particularly those who are restricted in where they can deploy to an institution&amp;rsquo;s own
&lt;a href="https://en.wikipedia.org/wiki/Learning_management_system" target="_blank" rel="noopener">learning management system (LMS)&lt;/a>, or hindered by the sheer number of clients in the case of extremely large class sizes. The rise of virtual learning over the last few years has exacerbated the problem, tutorials might no longer be in-person in a managed computer lab, but virtually over the internet and on entirely student controlled devices.&lt;/p>
&lt;p>WebAssembly brings a potential solution to this problem in the form of a universal runtime with minimal dependencies. Using Quarto Live an interactive tutorial can be rendered into static HTML output that&amp;rsquo;s well supported by third party virtual learning environments (when compared to traditional Shiny apps) without ongoing management of a server component.&lt;/p>
&lt;h3 id="defining-an-exercise">Defining an exercise
&lt;a href="#defining-an-exercise">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>Here&amp;rsquo;s an example showing how to create an interactive tutorial using Quarto Live. We&amp;rsquo;ll build an exercise with a grading component, so that visitors can get feedback on their responses.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>### Exercise 1
Calculate the average of all the integers in the vector defined as the variable `foo`.
```{webr}
#| exercise: ex_1
______(foo)
```
&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This will add an interactive code editor to the page, along with some placeholder code. Notice how the placeholder contains a string of six underscore (&lt;code>_&lt;/code>) characters. When defining an exercise, Quarto Live will consider six or more underscores as a &amp;ldquo;blank&amp;rdquo; that must be replaced by the learner.&lt;/p>
&lt;img src="images/blank.png" alt="Screenshot showing the result of rendering the example exercise above. The Quarto Live editor is shown pre-populated with the placeholder code. An error message is shown: Please replace ______ with valid code."/>
&lt;p>In the exercise we&amp;rsquo;ve asked about a variable &lt;code>foo&lt;/code>, but not created it anywhere yet. Let&amp;rsquo;s fix that by adding a &lt;code>setup&lt;/code> block that will always be executed before learner submitted code. This block can appear before or after the one above, the placement does not matter as it&amp;rsquo;s linked to the exercise by it&amp;rsquo;s label.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>```{webr}
#| exercise: ex_1
#| setup: true
foo &lt;- sample.int(100, 10)
```
&lt;/code>&lt;/pre>
&lt;/div>
&lt;img src="images/sample.gif" alt="Animation showing the result of rendering the example above. The Quarto Live editor is shown pre-populated with the code `foo`. A button labelled 'Run Code' is pressed repeatedly and the output changes each time. The output consists of 10 random integers."/>
&lt;p>A &lt;code>check&lt;/code> code block defines a grading algorithm, checking submitted code and assigning feedback in the form of a
&lt;a href="https://r-wasm.github.io/quarto-live/exercises/grading.html#return-feedback" target="_blank" rel="noopener">feedback list&lt;/a>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>```{webr}
#| exercise: ex_1
#| check: true
if (identical(.result, mean(foo))) {
list(correct = TRUE, message = "Nice work!")
} else {
list(correct = FALSE, message = "That's incorrect, sorry.")
}
```
&lt;/code>&lt;/pre>
&lt;/div>
&lt;img src="images/exercise.png" alt="Screenshots showing the result of rendering the example exercise above. The editor is first shown with correct code. A success message is shown: Nice work!. A second editor shows the incorrect code. A failure message is shown: That's incorrect, sorry. "/>
&lt;p>Finally, let&amp;rsquo;s add some solution text. This time we&amp;rsquo;ll use a Quarto fenced block to define the content. We still link this block to our exercise by providing the label we used before, just with a slightly different syntax. When a &amp;ldquo;hint&amp;rdquo; or &amp;ldquo;solution&amp;rdquo; block is added in this way, it is hidden until requested to be revealed by the learner through the Quarto Live exercise editor UI.&lt;/p>
&lt;pre>&lt;code>::: { .solution exercise=&amp;quot;ex_1&amp;quot; }
::: { .callout-tip title=&amp;quot;Solution&amp;quot; collapse=&amp;quot;false&amp;quot;}
Here is a possible solution:
```r
bar &amp;lt;- mean(foo) #&amp;lt;1&amp;gt;
print(bar) #&amp;lt;2&amp;gt;
```
1. Use the `mean` function with `foo` to calculate the average, store this value as `bar`.
2. Print the value stored in `bar` to the console.
:::
:::
&lt;/code>&lt;/pre>
&lt;img src="images/solution.png" alt="Screenshot showing the result of adding the solution block above. The solution has been revealed, demonstrating the callout block and code annotation features."/>
&lt;p>One really great thing about the way this works is that content is defined using standard Quarto markdown syntax. That means we can take full advantage of all the great features that Quarto provides for describing source code and results. Features like collapsible callout blocks and annotated source code allow us to present hints and solutions in the most effective way for learners.&lt;/p>
&lt;p>You can read more about exercises and grading, including examples using the existing
&lt;a href="https://pkgs.rstudio.com/gradethis/index.html" target="_blank" rel="noopener">gradethis&lt;/a> package, in the
&lt;a href="https://r-wasm.github.io/quarto-live/exercises/grading.html" target="_blank" rel="noopener">Quarto Live documentation&lt;/a>.&lt;/p>
&lt;h2 id="reactivity-with-ojs">Reactivity with OJS
&lt;a href="#reactivity-with-ojs">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Quarto Live cells may define or take input from OJS reactive variables in the page, providing a seamless way to create dynamic experiences without requiring the use of R Shiny. It is this technology that powers the grading feature shown in the previous section.&lt;/p>
&lt;p>In the following example a Quarto Live cell takes input from an OJS variable and defines an output OJS variable. Notice how updates in the Quarto Live cell are propagated to related &lt;code>ojs&lt;/code> cells in the page.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>```{ojs}
foo = 123;
```
```{ojs}
bar
```
```{webr}
#| input: ['foo']
#| define: ['bar']
bar &lt;- foo ** 2
```
&lt;/code>&lt;/pre>
&lt;/div>
&lt;img src="images/ojs.gif" alt="Animation showing the result of rendering the example above. The Quarto Live editor and several OJS cells are shown. The code is modified and 'Run Code' is pressed several times. The output OJS cell reactively updates with each execution."/>
&lt;p>You can even define a function in R and then invoke it reactively using an &lt;code>ojs&lt;/code> cell. JavaScript arguments will be converted into R objects, including transparently handling datasets using webR&amp;rsquo;s generic R object constructor described in the
&lt;a href="https://www.tidyverse.org/blog/2024/10/webr-0-4-2/">first post&lt;/a> of this blog series.&lt;/p>
&lt;p>In this example an R function is defined that produces some output using base plotting commands. The function is executed from an &lt;code>ojs&lt;/code> cell, reactively in response to a changing OJS input.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>```{webr}
#| include: false
#| define: draw_hist
draw_hist &lt;- function(colour) {
hist(rnorm(1000), col = colour)
}
```
```{ojs}
//| echo: false
viewof colour = Inputs.select(
[ 'orangered', 'forestgreen', 'cornflowerblue' ],
{ label: 'Colour' }
);
draw_hist(colour);
```
&lt;/code>&lt;/pre>
&lt;/div>
&lt;img src="images/hist.gif" alt="Animation showing the result of rendering the example above. A histogram is shown below a dropdown options menu offering a selection of colours. As colours are selected, the histogram is redrawn using that colour as a fill."/>
&lt;p>We hope this form of reactivity will become a powerful pattern to create rich interactive experiences for readers. For more examples of integration with OJS, take a look at the
&lt;a href="https://r-wasm.github.io/quarto-live/interactive/reactivity.html#overview" target="_blank" rel="noopener">penguins dashboard-like plot example&lt;/a> and
&lt;a href="https://r-wasm.github.io/quarto-live/interactive/dynamic.html" target="_blank" rel="noopener">dynamic exercises&lt;/a> in the Quarto Live documentation.&lt;/p>
&lt;h2 id="displaying-htmlwidgets">Displaying htmlwidgets
&lt;a href="#displaying-htmlwidgets">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The popular
&lt;a href="https://rstudio.github.io/htmltools/" target="_blank" rel="noopener">htmltools&lt;/a> and
&lt;a href="https://www.htmlwidgets.org/" target="_blank" rel="noopener">htmlwidgets&lt;/a> packages bring HTML and JavaScript widgets to R, and thanks to updates in webR such HTML output can also be displayed by Quarto Live. Simply print a HTML object or a widget in a live code block and the result will be dynamically added to the web page.&lt;/p>
&lt;img src="images/leaflet.png" alt="Animation showing the result of rendering the example above. A histogram is shown below a dropdown options menu offering a selection of colours. As colours are selected, the histogram is redrawn using that colour as a fill."/>
&lt;h2 id="one-more-thing">One more thing
&lt;a href="#one-more-thing">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>By the way, everything I&amp;rsquo;ve shown in this blog post also works for Python using the
&lt;a href="https://pyodide.org" target="_blank" rel="noopener">Pyodide&lt;/a> WebAssembly engine. Pyodide works really well for executing Python code on the web and inspired much of how the webR engine and library works today. Many examples of using Quarto Live to evaluate Python code, including dynamic experiences similar to those shown the previous sections, can be found on the
&lt;a href="https://r-wasm.github.io/quarto-live/" target="_blank" rel="noopener">Quarto Live documentation website&lt;/a>.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>I&amp;rsquo;m excited and fascinated to see Quarto Live start being used by the community to create interactive content for the education space and beyond. The project is still fairly new, but we would already not where we are without the help of early users providing their comments, issues and bug reports. Thank you!&lt;/p>
&lt;p>
&lt;a href="https://github.com/Analect" target="_blank" rel="noopener">@Analect&lt;/a>,
&lt;a href="https://github.com/andrewpbray" target="_blank" rel="noopener">@andrewpbray&lt;/a>,
&lt;a href="https://github.com/aneesha" target="_blank" rel="noopener">@aneesha&lt;/a>,
&lt;a href="https://github.com/arnaud-feldmann" target="_blank" rel="noopener">@arnaud-feldmann&lt;/a>,
&lt;a href="https://github.com/coatless" target="_blank" rel="noopener">@coatless&lt;/a>,
&lt;a href="https://github.com/cwickham" target="_blank" rel="noopener">@cwickham&lt;/a>,
&lt;a href="https://github.com/CyuHat" target="_blank" rel="noopener">@CyuHat&lt;/a>,
&lt;a href="https://github.com/DrDeception" target="_blank" rel="noopener">@DrDeception&lt;/a>,
&lt;a href="https://github.com/fcichos" target="_blank" rel="noopener">@fcichos&lt;/a>,
&lt;a href="https://github.com/joelnitta" target="_blank" rel="noopener">@joelnitta&lt;/a>,
&lt;a href="https://github.com/joelostblom" target="_blank" rel="noopener">@joelostblom&lt;/a>,
&lt;a href="https://github.com/kcarnold" target="_blank" rel="noopener">@kcarnold&lt;/a>,
&lt;a href="https://github.com/michaelplynch" target="_blank" rel="noopener">@michaelplynch&lt;/a>,
&lt;a href="https://github.com/mine-cetinkaya-rundel" target="_blank" rel="noopener">@mine-cetinkaya-rundel&lt;/a>,
&lt;a href="https://github.com/Nenuial" target="_blank" rel="noopener">@Nenuial&lt;/a>,
&lt;a href="https://github.com/rpruim" target="_blank" rel="noopener">@rpruim&lt;/a>,
&lt;a href="https://github.com/rundel" target="_blank" rel="noopener">@rundel&lt;/a>,
&lt;a href="https://github.com/ryjohnson09" target="_blank" rel="noopener">@ryjohnson09&lt;/a>, and
&lt;a href="https://github.com/tmieno2" target="_blank" rel="noopener">@tmieno2&lt;/a>.&lt;/p></description></item><item><title>WebAssembly roundup part 2: Shinylive 0.8.0</title><link>https://www.tidyverse.org/blog/2024/10/shinylive-0-8-0/</link><pubDate>Mon, 14 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2024/10/shinylive-0-8-0/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>One of the most popular uses of webR in a wider project is
&lt;a href="https://shinylive.io/r/examples" target="_blank" rel="noopener">Shinylive&lt;/a>, a system for deploying Shiny for R or Python apps that run completely in a web browser, without the need for a dedicated Shiny server. Shinylive works by running both the server and client components in the viewer&amp;rsquo;s browser, and the support for running R Shiny apps in this way is provided by webR.&lt;/p>
&lt;p>Since Shinylive works with both R and Python Shiny apps, the project is released as multiple independent but interconnecting software. The core
&lt;a href="https://github.com/posit-dev/shinylive" target="_blank" rel="noopener">Shinylive&lt;/a> assets, the
&lt;a href="https://github.com/posit-dev/r-shinylive" target="_blank" rel="noopener">R shinylive&lt;/a> package, the
&lt;a href="https://github.com/posit-dev/py-shinylive" target="_blank" rel="noopener">Python Shinylive&lt;/a> package, and the
&lt;a href="https://github.com/quarto-ext/shinylive/" target="_blank" rel="noopener">Shinylive Quarto extension&lt;/a>. This post will describe some the latest changes in the context of running the R Shinylive package and Quarto extension.&lt;/p>
&lt;h2 id="shinylive-assets">Shinylive assets
&lt;a href="#shinylive-assets">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The latest release of the Shinylive assets upgrades the version of webR included to 0.4.2, bringing in the improved packaging and loading performance of R binaries discussed in
&lt;a href="../webr-0-4-2/">part 1 of this series&lt;/a>. Shinylive now defaults to downloading R packages in the improved &lt;code>.tgz&lt;/code> archive format served by the
&lt;a href="repo.r-wasm.org">webR default repository&lt;/a> and
&lt;a href="https://r-universe.dev/" target="_blank" rel="noopener">R-Universe&lt;/a>, resulting in a more efficient R package installation and faster start up process.&lt;/p>
&lt;p>These changes are already making a tangible difference to applications. In a recent meeting of the
&lt;a href="https://rconsortium.github.io/submissions-wg/" target="_blank" rel="noopener">R Consortium Submissions Working Group&lt;/a>, it was reported that for a complex Shinylive app the overall load time decreased from over a minute to just 15 seconds! &lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>The working group is championing improved practices for R-based submissions of clinical trial data to regulatory bodies for review. With their great work and our steady improvements to Shinylive over time, the group now report that they have reached a new milestone in
&lt;a href="https://r-consortium.org/posts/using-r-to-submit-research-to-the-fda-pilot-4-successfully-submitted/" target="_blank" rel="noopener">successfully submitting a pilot R Shiny app&lt;/a>, featuring a WebAssembly component with Shinylive, to the FDA for review.&lt;/p>
&lt;p>&lt;a href="images/pilot-2.png"> &lt;img src="images/pilot-2.png" alt="Screenshots showing the R Consortium Submissions Working Group Pilot 2 Shinylive app."/> &lt;/a>&lt;/p>
&lt;h2 id="r-shinylive-package">R shinylive package
&lt;a href="#r-shinylive-package">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>
&lt;h3 id="reproducible-data-science-with-binary-bundles">Reproducible data science with binary bundles
&lt;a href="#reproducible-data-science-with-binary-bundles">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>A benefit of WebAssembly is that the same binary instructions can be executed on a whole range of machine architectures, from high performance desktop workstations to low-power devices such as mobile phones or tablets. WebAssembly provides a common environment ensuring that each device can reproduce the exact same results, both now and potentially for many years into the future.&lt;/p>
&lt;p>However, those with experience of building software and documents with long-term reproducibility in mind will know that not only must the exact version of your own software be available, but also packages and system dependencies too. Accurate versioning matters; newer editions of R packages are always being released with modified functionality or features deprecated and perhaps even removed.&lt;/p>
&lt;p>Previously Shinylive downloaded R packages at runtime from the webR default repository. However, that repository follows CRAN and upgrades packages to the latest version reasonably often. So, to help provide long-lived reproducibility, the latest version of Shinylive now not only deploys your application source but also downloads and bundles as many R package binaries as possible in the exported app.&lt;/p>
&lt;p>By including WebAssembly R package binaries, a self-contained bundle is created that will never change over time, even as new R package versions are released. Once deployed to a static web service such as GitHub Pages or Netlify you can be confident that your results will be exactly the same now or in many years time &amp;ndash; at least as long as browsers continue to support the WebAssembly standard!&lt;/p>
&lt;p>With this, it is now also possible to load a complex R Shinylive app from a local web server without any external internet connection. This isn&amp;rsquo;t likely to be that useful for most users, but there are some highly regulated industries and restricted network environments where it becomes a key feature.&lt;/p>
&lt;h3 id="bundling-webassembly-binaries">Bundling WebAssembly binaries
&lt;a href="#bundling-webassembly-binaries">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>By default, R packages installed from CRAN,
&lt;a href="https://r-universe.dev/" target="_blank" rel="noopener">R-Universe&lt;/a>, or
&lt;a href="https://bioconductor.org" target="_blank" rel="noopener">Bioconductor&lt;/a> will be downloaded and distributed with your Shinylive application. For CRAN packages, the packages are sourced from the webR default repository. For R-Universe or Bioconductor packages, they are sourced from the WebAssembly binaries provided by R-Universe.&lt;/p>
&lt;p>Here&amp;rsquo;s an example of what this looks like for a sample Shiny app depending on the dplyr package. Shinylive assets and R package binaries are downloaded and bundled at export time, and the status of each is shown in the output.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">shinylive&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">export&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;site&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; ℹ Exporting Shiny app from: app&lt;/span>
&lt;span class="c1">#&amp;gt; → Destination: site&lt;/span>
&lt;span class="c1">#&amp;gt; [======================================================================] 100%&lt;/span>
&lt;span class="c1">#&amp;gt; ✔ Copying base Shinylive files [289ms]&lt;/span>
&lt;span class="c1">#&amp;gt; ✔ Loading metadata database ... done&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; Finding R package dependencies ... Done!&lt;/span>
&lt;span class="c1">#&amp;gt; [=======&amp;gt;--------------------------------------------------------------] 11%&lt;/span>
&lt;span class="c1">#&amp;gt; trying URL &amp;#39;http://repo.r-wasm.org/bin/emscripten/contrib/4.4/dplyr_1.1.4.tgz&amp;#39;&lt;/span>
&lt;span class="c1">#&amp;gt; Content type &amp;#39;application/x-tar&amp;#39; length 1063948 bytes (1.0 MB)&lt;/span>
&lt;span class="c1">#&amp;gt; ==================================================&lt;/span>
&lt;span class="c1">#&amp;gt; downloaded 1.0 MB&lt;/span>
&lt;span class="c1">#&amp;gt; [...]&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; ✔ Downloading WebAssembly R package binaries to site/shinylive/webr/packages [3.2s]&lt;/span>
&lt;span class="c1">#&amp;gt; ✔ Writing app metadata to site/shinylive/webr/packages/metadata.rds [14ms]&lt;/span>
&lt;span class="c1">#&amp;gt; ℹ Wrote site/shinylive/webr/packages/metadata.rds (694 bytes)&lt;/span>
&lt;span class="c1">#&amp;gt; ✔ Writing site/app.json [17ms]&lt;/span>
&lt;span class="c1">#&amp;gt; ℹ Wrote site/app.json (1.64K bytes)&lt;/span>
&lt;span class="c1">#&amp;gt; ✔ Shinylive app export complete.&lt;/span>
&lt;span class="c1">#&amp;gt; ℹ Run the following in an R session to serve the app:&lt;/span>
&lt;span class="c1">#&amp;gt; `httpuv::runStaticServer(&amp;#34;site&amp;#34;)`&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The shinylive R package will query the currently installed versions of packages on your machine and attempt to download and bundle the same version for WebAssembly. Binaries are considered acceptable if the major and minor version numbers match, and a warning is issued otherwise. This check ensures the resulting behaviour of the exported Shinylive app is as close as possible to the behaviour when running the app in the usual way.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">shinylive&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">export&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;site&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; [...]&lt;/span>
&lt;span class="c1">#&amp;gt; Warning message:&lt;/span>
&lt;span class="c1">#&amp;gt; Package version mismatch for dplyr, ensure the versions below are compatible.&lt;/span>
&lt;span class="c1">#&amp;gt; ! Installed version: 1.0.9, WebAssembly version: 1.1.4.&lt;/span>
&lt;span class="c1">#&amp;gt; ℹ Install a package version matching the WebAssembly version to silence this error. &lt;/span>
&lt;/code>&lt;/pre>&lt;/div>
&lt;h3 id="bundling-custom-r-packages">Bundling custom R packages
&lt;a href="#bundling-custom-r-packages">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>Using your own custom R packages with webR or Shinylive is also possible, but requires a little extra work. R packages, particularly those that include compiled code, must be processed specially for WebAssembly. This requires an environment with a WebAssembly compiler toolchain such as Emscripten and some set up to organise the cross-compiling of packages using R.&lt;/p>
&lt;p>The easiest way to get up and running is to
&lt;a href="https://ropensci.org/blog/2021/06/22/setup-runiverse/" target="_blank" rel="noopener">create a personal R-Universe repository&lt;/a> for your packages. The system will automatically build R package binaries for multiple targets, including WebAssembly, and Shinylive will download these resulting binaries when exporting your app.&lt;/p>
&lt;p>It&amp;rsquo;s also possible to automatically cross-compile and deploy WebAssembly R package binaries using GitHub Actions. The
&lt;a href="https://github.com/r-wasm/actions" target="_blank" rel="noopener">r-wasm/actions&lt;/a> repository provides reusable workflows for GitHub Actions, one of which can be used to automatically build WebAssembly R package when a GitHub release is created, attaching the resulting binary to the release. If an R package has been installed directly from GitHub, using a tool such as
&lt;a href="https://pak.r-lib.org" target="_blank" rel="noopener">pak&lt;/a>, Shinylive will look for binaries attached to a GitHub release for bundling.&lt;/p>
&lt;p>Finally, building an R package for WebAssembly can be done manually using the
&lt;a href="https://r-wasm.github.io/rwasm/" target="_blank" rel="noopener">rwasm&lt;/a> package. This is a little more involved, using a combination of the
&lt;a href="https://github.com/emscripten-core/emsdk" target="_blank" rel="noopener">Emscripten SDK&lt;/a> and the
&lt;a href="https://github.com/r-wasm/webr/pkgs/container/webr" target="_blank" rel="noopener">webR Docker container&lt;/a> to organise cross-compiling packages with R and manage custom CRAN-like repositories. Shinylive will also bundle WebAssembly binaries for R packages installed from such a custom repository.&lt;/p>
&lt;h2 id="shinylive-quarto-extension">Shinylive Quarto Extension
&lt;a href="#shinylive-quarto-extension">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Shinylive applications may be embedded in a Quarto document using the Shinylive Quarto extension. With the extension active, a Shinylive app can be added by directly including its source code in the document markdown. Under the hood, the extension works by calling out to the export functionality provided by the Shinylive R and Python packages, and so improvements to the exporting process also applies to Shiny apps included in Quarto projects.&lt;/p>
&lt;pre>&lt;code>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
```{shinylive-r}
#| standalone: true
library(shiny)
ui &amp;lt;- [...]
server &amp;lt;- [...]
shinyApp(ui = ui, server = server)
```
Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu
fugiat nulla pariatur.
&lt;/code>&lt;/pre>
&lt;h3 id="embedding-data-files-in-subdirectories">Embedding data files in subdirectories
&lt;a href="#embedding-data-files-in-subdirectories">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>When a Shiny app has been deployed with Shinylive it does not have direct access to the filesystem on the client device. This is enforced by WebAssembly and the browser for security reasons. As such, additional data must either by downloaded or pre-loaded to a virtual filesystem before the app starts.&lt;/p>
&lt;p>There are a few ways to do this with a Shinylive app, but when working in a Quarto document things are more constrained. One supported way is to define the content of additional data files inline.&lt;/p>
&lt;pre>&lt;code>```{shinylive-r}
#| standalone: true
ui &amp;lt;- [...]
server &amp;lt;- [...]
shinyApp(ui = ui, server = server)
## file: data/example.csv
foo,bar,baz
1,2,3
2,4,6
3,6,9
5,10,15
8,16,24
```
&lt;/code>&lt;/pre>
&lt;p>The system has been improved to support adding content to subdirectories, along with the ability to define binary content that has been base64 encoded. Combining this with Garrick Aden-Buie&amp;rsquo;s
&lt;a href="https://github.com/gadenbuie/quarto-base64" target="_blank" rel="noopener">quarto-base64&lt;/a> extension is a great way to easily include arbitrary data in your Quarto embedded Shinylive apps.&lt;/p>
&lt;h3 id="quarto-project-wide-shared-assets">Quarto project-wide shared assets
&lt;a href="#quarto-project-wide-shared-assets">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>The latest version of the R shinylive package now checks if the export process is currently running as part of a Quarto render. If so, it uses the &lt;code>QUARTO_PROJECT_DIR&lt;/code> environment variable as a hint for where to deploy Shinylive assets and bundled WebAssembly R binaries.&lt;/p>
&lt;p>With this change it&amp;rsquo;s possible to include multiple Shinylive applications in different documents, sharing their WebAssembly assets across the entire project. This avoids an undesirable situation where the exact same set of fundamental R packages are downloaded and deployed many times to different paths in a Quarto website.&lt;/p>
&lt;h2 id="using-the-latest-shinylive-asssets">Using the latest Shinylive asssets
&lt;a href="#using-the-latest-shinylive-asssets">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The Shinylive 0.8.0 assets have been
&lt;a href="https://github.com/posit-dev/shinylive/releases/tag/v0.8.0" target="_blank" rel="noopener">released on GitHub&lt;/a>. They will automatically be downloaded and used once the latest version of the shinylive R package makes it to CRAN and the package has been updated on your machine.&lt;/p>
&lt;p>If you&amp;rsquo;d like to get a head start on the latest R shinylive features, you can install the current development version of shinylive directly from GitHub:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>pak&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://pak.r-lib.org/reference/pak.html'>pak&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"posit-dev/r-shinylive"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Or, if you prefer, you can stick with the current release version of the shinylive R package and orchestrate it to use the latest version of the assets by setting the environment variable:&lt;/p>
&lt;pre>&lt;code>SHINYLIVE_ASSETS_VERSION=0.8.0
&lt;/code>&lt;/pre>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>
&lt;a href="https://github.com/chaehni" target="_blank" rel="noopener">@chaehni&lt;/a>,
&lt;a href="https://github.com/cpsievert" target="_blank" rel="noopener">@cpsievert&lt;/a>,
&lt;a href="https://github.com/darrida" target="_blank" rel="noopener">@darrida&lt;/a>,
&lt;a href="https://github.com/erikhall6373" target="_blank" rel="noopener">@erikhall6373&lt;/a>,
&lt;a href="https://github.com/gadenbuie" target="_blank" rel="noopener">@gadenbuie&lt;/a>,
&lt;a href="https://github.com/gschivley" target="_blank" rel="noopener">@gschivley&lt;/a>,
&lt;a href="https://github.com/helgasoft" target="_blank" rel="noopener">@helgasoft&lt;/a>,
&lt;a href="https://github.com/jeroen" target="_blank" rel="noopener">@jeroen&lt;/a>,
&lt;a href="https://github.com/JoaoGarcezAurelio" target="_blank" rel="noopener">@JoaoGarcezAurelio&lt;/a>,
&lt;a href="https://github.com/jvcasillas" target="_blank" rel="noopener">@jvcasillas&lt;/a>,
&lt;a href="https://github.com/kv9898" target="_blank" rel="noopener">@kv9898&lt;/a>,
&lt;a href="https://github.com/next-game-solutions" target="_blank" rel="noopener">@next-game-solutions&lt;/a>,
&lt;a href="https://github.com/Luke-Symes-Tsy" target="_blank" rel="noopener">@Luke-Symes-Tsy&lt;/a>,
&lt;a href="https://github.com/maek-ies" target="_blank" rel="noopener">@maek-ies&lt;/a>,
&lt;a href="https://github.com/pawelru" target="_blank" rel="noopener">@pawelru&lt;/a>,
&lt;a href="https://github.com/quincountychsmn" target="_blank" rel="noopener">@quincountychsmn&lt;/a>,
&lt;a href="https://github.com/rmcminds" target="_blank" rel="noopener">@rmcminds&lt;/a>,
&lt;a href="https://github.com/rbcavanaugh" target="_blank" rel="noopener">@rbcavanaugh&lt;/a>,
&lt;a href="https://github.com/schloerke" target="_blank" rel="noopener">@schloerke&lt;/a>,
&lt;a href="https://github.com/StefKirsch" target="_blank" rel="noopener">@StefKirsch&lt;/a>,
&lt;a href="https://github.com/virtualinertia" target="_blank" rel="noopener">@virtualinertia&lt;/a>, and
&lt;a href="https://github.com/wch" target="_blank" rel="noopener">@wch&lt;/a>.&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>&lt;a href="https://rconsortium.github.io/submissions-wg/minutes/2024-08-02/#webassembly">https://rconsortium.github.io/submissions-wg/minutes/2024-08-02/#webassembly&lt;/a> &lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>WebAssembly roundup part 1: webR 0.4.2</title><link>https://www.tidyverse.org/blog/2024/10/webr-0-4-2/</link><pubDate>Fri, 11 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2024/10/webr-0-4-2/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;!-- Initialise webR in the page -->
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css">
&lt;style>
.CodeMirror pre {
background-color: unset !important;
}
.btn-webr {
background-color: #EEEEEE;
border-bottom-left-radius: 0;
border-bottom-right-radius: 0;
}
&lt;/style>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js">&lt;/script>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/r/r.js">&lt;/script>
&lt;script type="module">
import { WebR } from 'https://webr.r-wasm.org/v0.4.2/webr.mjs';
globalThis.webR = new WebR();
await globalThis.webR.init();
await webR.FS.mkdir('/persist');
await webR.FS.mount('IDBFS', {}, '/persist');
await webR.FS.syncfs(true);
await webR.evalRVoid("webr::shim_install()");
await webR.evalRVoid("webr::global_prompt_install()", { withHandlers: false });
globalThis.webRCodeShelter = await new globalThis.webR.Shelter();
document.querySelectorAll(".btn-webr").forEach((btn) => {
btn.innerText = 'Run code';
btn.disabled = false;
});
&lt;/script>
&lt;!-- Add webr engine for knit -->
&lt;div class="highlight">
&lt;/div>
&lt;!-- Custom styles for output -->
&lt;div class="highlight">
&lt;style type="text/css">
.output > pre, .output code {
background-color: #ffffff !important;
margin-top: -17px;
border-top-left-radius: 0px;
border-top-right-radius: 0px;
}
.error > pre, .error code {
background-color: #fcebeb !important;
color: #410E0E !important;
}
&lt;/style>
&lt;/div>
&lt;p>We&amp;rsquo;re totally stoked to announce the release of
&lt;a href="https://docs.r-wasm.org/webr/v0.4.2/" target="_blank" rel="noopener">webr&lt;/a> 0.4.2!&lt;/p>
&lt;p>It&amp;rsquo;s been a little while since I&amp;rsquo;ve written about webR here, and a few releases between my last blog post and this one. In this post I&amp;rsquo;ll cover some of the exciting changes to the core webR distribution, and also include some interesting tidbits for JavaScript developers using webR in their own applications. You can see a full list of changes in the
&lt;a href="https://github.com/r-wasm/webr/releases" target="_blank" rel="noopener">release notes&lt;/a>.&lt;/p>
&lt;p>This post is the first in an R for WebAssembly roundup series. The next posts will cover updates to Shinylive for R, and introduce new a new Quarto extension that uses the power of webR and WebAssembly to elevate your documents with interactivity.&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2024/10/shinylive-0-8-0/">WebAssembly roundup part 2: Shinylive 0.8.0&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2024/10/quarto-live-0-1-1/">WebAssembly roundup part 3: Quarto Live 0.1.1&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="supporting-html-and-widget-display">Supporting HTML and widget display
&lt;a href="#supporting-html-and-widget-display">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The base R distribution may be run using nothing but a text console, but some additional options can be implemented by frontends to provide system-dependent display of content. Previously, we implemented the
&lt;a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/file.show.html" target="_blank" rel="noopener">&lt;code>pager&lt;/code>&lt;/a> option so that R&amp;rsquo;s help system can be better displayed within the
&lt;a href="https://webr.r-wasm.org/latest/" target="_blank" rel="noopener">webR application&lt;/a>. Using the pager we can show R function and package documentation outside of the text console in dedicated tabbed windows.&lt;/p>
&lt;p>In recent releases of webR we have expanded our support for such display systems, providing an implementation both for the
&lt;a href="https://stat.ethz.ch/R-manual/R-devel/library/utils/html/View.html" target="_blank" rel="noopener">&lt;code>View()&lt;/code>&lt;/a> function and the &lt;code>viewer&lt;/code> global option used by
&lt;a href="https://www.htmlwidgets.org/" target="_blank" rel="noopener">htmlwidgets&lt;/a>.&lt;/p>
&lt;p>This gives us the ability to show a tabular data viewer for &lt;code>data.frame&lt;/code>-like R objects and an &lt;code>iframe&lt;/code> based HTML content viewer, enabling dynamic web-based output from R packages like
&lt;a href="https://rstudio.github.io/leaflet/articles/leaflet.html" target="_blank" rel="noopener">&lt;code>leaflet&lt;/code>&lt;/a> and
&lt;a href="https://gt.rstudio.com/" target="_blank" rel="noopener">&lt;code>gt&lt;/code>&lt;/a>.&lt;/p>
&lt;img src="images/viewer.png" alt="Screenshots of the webR REPL showing a tabular data viewer, an interactive map using the leaflet package, and a HTML table rendered using the gt package."/>
&lt;p>The implementation of &lt;code>viewer&lt;/code> is fairly general, making use of webR&amp;rsquo;s
&lt;a href="https://docs.r-wasm.org/webr/latest/communication.html#output-messages" target="_blank" rel="noopener">output messages&lt;/a> mechanism to send the required information to the main JavaScript thread for display. That way, any application using webR may choose to listen for those messages and how to show the resulting content on the page. We&amp;rsquo;ll make use of this in a later post where I introduce using webR to generate dynamic content in a new Quarto extension.&lt;/p>
&lt;h2 id="improvements-to-the-webr-app-ui">Improvements to the webR app UI
&lt;a href="#improvements-to-the-webr-app-ui">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Recent webR releases have also made some other quality of life improvements to the webR app. Some minor improvements include making each UI panel resizeable, and offering &lt;code>.zip&lt;/code> download of an entire directory in the Files panel.&lt;/p>
&lt;img src="images/download.png" alt="Screenshot showing the &amp;apos;Download directory&amp;apos; feature in the webR REPL app."/>
&lt;h3 id="r-source-syntax-highlighting-and-parsing">R source syntax highlighting and parsing
&lt;a href="#r-source-syntax-highlighting-and-parsing">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>The webR app&amp;rsquo;s code editor is powered by
&lt;a href="https://codemirror.net/" target="_blank" rel="noopener">CodeMirror&lt;/a> with R parsing provided by the
&lt;a href="https://github.com/TravisYeah/lang-r" target="_blank" rel="noopener">codemirror-lang-r&lt;/a> package. CodeMirror&amp;rsquo;s extensibility is excellent, and the library is well suited for integrating into a wider project like this. However, we noticed that the &lt;code>codemirror-lang-r&lt;/code> package had a few issues highlighting certain types of R syntax. In particular, in our application highlighting matrix operations such as &lt;code>%*%&lt;/code> would crash the parser!&lt;/p>
&lt;img src="images/parser-crash.png" alt="Screenshots comparing syntax highlighting of R source code before and after the changes discussed above."/>
&lt;p>As well as fixing this bug, we&amp;rsquo;ve worked to improve the R parser to better support some other types of R syntax and have
&lt;a href="https://github.com/TravisYeah/lezer-r/pull/1" target="_blank" rel="noopener">contributed these changes upstream&lt;/a> so as to benefit other users of &lt;code>codemirror-lang-r&lt;/code>.&lt;/p>
&lt;img src="images/parser-new.png" alt="Screenshots comparing syntax highlighting of R source code before and after the changes discussed above."/>
&lt;h2 id="webassembly-r-package-binary-format">WebAssembly R package binary format
&lt;a href="#webassembly-r-package-binary-format">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>One of R&amp;rsquo;s greatest strengths is its vibrant community of R packages and their developers, and so one of the development goals of webR is that packages are downloaded and installed as fast as possible. In the latest release of webR, some joint work with
&lt;a href="https://github.com/jeroen" target="_blank" rel="noopener">Jeroen Ooms&lt;/a> improving the performance of loading WebAssembly binary R packages has landed.&lt;/p>
&lt;p>R packages and other filesystem data is efficiently made available to the R WebAssembly process using
&lt;a href="https://emscripten.org/docs/porting/files/packaging_files.html#packaging-using-the-file-packager-tool" target="_blank" rel="noopener">Emscripten&amp;rsquo;s file packager&lt;/a> and the
&lt;a href="https://emscripten.org/docs/api_reference/Filesystem-API.html#filesystem-api-workerfs" target="_blank" rel="noopener">&lt;code>WORKERFS&lt;/code>&lt;/a> filesystem driver. Previously we used uncompressed filesystem data, with the intention of serving content using
&lt;a href="https://en.wikipedia.org/wiki/HTTP_compression" target="_blank" rel="noopener">HTTP compression&lt;/a>. However, web services do not always compress files automatically&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>, especially if they are large. So, in the latest release of webR, filesystem data may now be mounted from a &lt;code>gzip&lt;/code> compressed file&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>, and the base R filesystem is also distributed in compressed form.&lt;/p>
&lt;p>R package developers might recognise that traditional R package binaries are &lt;em>already&lt;/em> produced as a &lt;code>gzip&lt;/code> compressed archive. And, as pointed out to me by Jeroen, the format of a &lt;code>.tar&lt;/code> archive is very similar to Emscripten&amp;rsquo;s &lt;code>.data&lt;/code> files. With some
&lt;a href="https://r-wasm.github.io/rwasm/articles/tar-metadata.html" target="_blank" rel="noopener">clever arrangement&lt;/a> of R package archive data and Emscripten filesystem metadata, pre-processed WebAssembly R package binaries may now be directly mounted to the virtual filesystem by webR.&lt;/p>
&lt;p>Mounting R packages in this way is more efficient than installing &lt;code>.tgz&lt;/code> archives in the usual manner because the decompression step happens in the browser, rather than using R&amp;rsquo;s slower internal routines, and the &lt;code>WORKERFS&lt;/code> filesystem driver also avoids memory copies with the archive files until they are actually opened and read by the WebAssembly R process.&lt;/p>
&lt;p>Both the
&lt;a href="repo.r-wasm.org">webR default repository&lt;/a> and
&lt;a href="https://r-universe.dev/" target="_blank" rel="noopener">R-Universe&lt;/a> now serve binary R packages for WebAssembly in this new format. These packages can be installed and loaded interactively in the webR application, or used as dependencies in a deployed Shinylive for R app. For your own custom R packages, the
&lt;a href="https://r-wasm.github.io/rwasm/index.html" target="_blank" rel="noopener">rwasm&lt;/a> package can be used to compile WebAssembly binaries using a pre-configured Docker container. However, I&amp;rsquo;d actually recommend
&lt;a href="https://ropensci.org/blog/2021/06/22/setup-runiverse/" target="_blank" rel="noopener">creating a personal R-Universe repository&lt;/a> for your packages instead, since this will automatically build binaries for multiple targets including WebAssembly.&lt;/p>
&lt;p>A much simpler but effective change has also been made: R packages listed only as &lt;code>LinkingTo&lt;/code> dependencies are no longer downloaded by webR on package installation. These are packages are required for building an R package from source, but &lt;em>not at runtime&lt;/em>. The change saves network resources when installing WebAssembly R packages. In one particular worst-case scenario, this change avoided downloading about 100 megabytes of data!&lt;/p>
&lt;h2 id="virtual-file-system-drivers">Virtual file system drivers
&lt;a href="#virtual-file-system-drivers">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>A nice side-effect of the work in the previous section is that
&lt;a href="https://github.com/r-wasm/webr/issues/328" target="_blank" rel="noopener">mounting filesystem data with &lt;code>WORKERFS&lt;/code>&lt;/a> now also works correctly under Node.js, fixing a fairly painful and long-standing bug for our server-side users of webR.&lt;/p>
&lt;p>We&amp;rsquo;ve also introduced mounting with Emscripten&amp;rsquo;s
&lt;a href="https://emscripten.org/docs/api_reference/Filesystem-API.html#filesystem-api-idbfs" target="_blank" rel="noopener">&lt;code>IDBFS&lt;/code>&lt;/a> filesystem driver when running webR in the browser&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>. This driver makes use of the low-level
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener">IndexedDB API&lt;/a> provided by the JavaScript environment to write virtual filesystem contents to a form of local storage on the device.&lt;/p>
&lt;p>With this, files that have been written to the virtual filesystem can be persisted over page reloads and automatically made available again to the WebAssembly R process when the page is revisited in the future, without needing to re-download the content.&lt;/p>
&lt;p>You can try it out right here! Any files written to the &lt;code>/persist&lt;/code> directory in the interactive R console below should be persisted. The first time you load this page, the directory will be empty. However, if files are written they will remain available after you refresh the page or revisit in the future.&lt;/p>
&lt;div class="highlight">
&lt;button class="btn btn-default btn-webr" disabled type="button" id="webr-run-button-1">Loading webR...&lt;/button>
&lt;div id="webr-editor-1">&lt;/div>
&lt;div id="webr-code-output-1">&lt;pre style="visibility: hidden">&lt;/pre>&lt;/div>
&lt;script type="module">
const runButton = document.getElementById('webr-run-button-1');
const outputDiv = document.getElementById('webr-code-output-1');
const editorDiv = document.getElementById('webr-editor-1');
const editor = CodeMirror((elt) => {
elt.style.border = '1px solid #eee';
elt.style.height = 'auto';
editorDiv.append(elt);
},{
value: `install.packages('cli', quiet = TRUE)\n\nfiles &lt;- list.files("/persist")\nfiles\n\nif (length(files) == 0) {\n cli::cli_alert_warning("No files found in '/persist', I'll create one...")\n write.csv(mtcars, "/persist/mtcars.csv")\n} else {\n cli::cli_alert_success("Nice! Some existing files were found in '/persist'.")\n}`,
lineNumbers: true,
mode: 'r',
theme: 'light default',
viewportMargin: Infinity,
});
runButton.onclick = async () => {
runButton.disabled = true;
let canvas = undefined;
await webR.init();
await webR.evalRVoid('webr::canvas(width=504, height=311.472)');
await webR.FS.syncfs(false);
const result = await webRCodeShelter.captureR(editor.getValue(), {
withAutoprint: true,
captureStreams: true,
captureConditions: false,
captureGraphics: false,
env: {},
});
try {
await webR.evalRVoid("dev.off()");
const out = result.output.filter(
evt => evt.type == 'stdout' || evt.type == 'stderr'
).map((evt) => evt.data).join('\n');
outputDiv.innerHTML = '';
const pre = document.createElement("pre");
if (/\S/.test(out)) {
const code = document.createElement("code");
code.innerText = out;
pre.appendChild(code);
} else {
pre.style.visibility = 'hidden';
}
outputDiv.appendChild(pre);
const msgs = await webR.flush();
msgs.forEach(msg => {
if (msg.type === 'canvas'){
if (msg.data.event === 'canvasImage') {
canvas.getContext('2d').drawImage(msg.data.image, 0, 0);
} else if (msg.data.event === 'canvasNewPage') {
canvas = document.createElement('canvas');
canvas.setAttribute('width', 2 * 504);
canvas.setAttribute('height', 2 * 311.472);
canvas.style.width="700px";
canvas.style.display="block";
canvas.style.margin="auto";
const p = document.createElement("p");
p.appendChild(canvas);
outputDiv.appendChild(p);
}
}
});
} finally {
webRCodeShelter.purge();
runButton.disabled = false;
}
}
&lt;/script>
&lt;/div>
&lt;p>It should be noted that filesystem data stored in an IndexedDB database can only be accessed within the same
&lt;a href="https://developer.mozilla.org/en-US/docs/Glossary/Origin" target="_blank" rel="noopener">origin&lt;/a>, essentially across the current web page&amp;rsquo;s domain. Also, browsers may decide the amount of storage space provided, what content is deleted when quotas are reached, and when exactly that deletion occurs. In private browsing mode, for example, data is usually removed when the private session ends.&lt;/p>
&lt;p>Even with these caveats, I expect developers working with webR will be able to make use of the &lt;code>IDBFS&lt;/code> driver to selectively cache content or R packages that are too large to download over the network on every single page load, further improving start up times in their own apps as a result.&lt;/p>
&lt;h2 id="developing-with-webr">Developing with webR
&lt;a href="#developing-with-webr">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>
&lt;h3 id="deprecating-the-serviceworker-channel">Deprecating the &lt;code>ServiceWorker&lt;/code> channel
&lt;a href="#deprecating-the-serviceworker-channel">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>The &lt;code>ServiceWorker&lt;/code>
&lt;a href="https://docs.r-wasm.org/webr/v0.3.2/communication.html" target="_blank" rel="noopener">communication channel&lt;/a>, a method webR offered to handle message passing between the main browser thread and the
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers" target="_blank" rel="noopener">JavaScript Web Worker&lt;/a> running the R WebAssembly binary, has been deprecated. The communication channel was originally devised as a way to allow use of webR in cases where the &lt;code>SharedArrayBuffer&lt;/code> API is not available. This includes any use of webR with an origin that is not
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/crossOriginIsolated" target="_blank" rel="noopener">Cross-Origin Isolated&lt;/a>, such as when content is hosted by GitHub Pages.&lt;/p>
&lt;p>The channel was implemented using a
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" target="_blank" rel="noopener">JavaScript Service Worker&lt;/a> proxy and synchronous
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">XHR&lt;/a> requests. Unfortunately, with the overhead of message serialisation and capturing network requests, performance was significantly impacted. The channel was also not compatible with applications that make use of a service worker for genuine network proxy functionality, such as Shinylive.&lt;/p>
&lt;p>An alternative method has since been developed in the form of the &lt;code>PostMessage&lt;/code> communication channel. This instead uses the
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker/postMessage" target="_blank" rel="noopener">JavaScript &lt;code>PostMessage&lt;/code> API&lt;/a>, which is designed to handle communication between workers efficiently. It has much better performance and even provides a way to
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Transferable_objects" target="_blank" rel="noopener">transfer objects&lt;/a> using zero-copy operations. There are some minor downsides when using the &lt;code>PostMessage&lt;/code> channel, mostly related to taking input using tools like
&lt;a href="https://rdrr.io/r/base/readline.html" target="_blank" rel="noopener">&lt;code>readline()&lt;/code>&lt;/a>, or nested REPLs like R&amp;rsquo;s
&lt;a href="https://rdrr.io/r/base/browser.html" target="_blank" rel="noopener">&lt;code>browser()&lt;/code>&lt;/a>, but for most applications we find that this is not catastrophic and a reasonable price to pay for what is intended as a fallback method.&lt;/p>
&lt;p>If you are working on a webR application where
&lt;a href="https://rdrr.io/r/base/readline.html" target="_blank" rel="noopener">&lt;code>readline()&lt;/code>&lt;/a> functionality &lt;em>is absolutely&lt;/em> required, but you cannot set your web server headers to enable cross-origin isolation, an alternative implementation of using a service worker to solve the problem can be found with the
&lt;a href="https://github.com/gzuidhof/coi-serviceworker" target="_blank" rel="noopener">coi-serviceworker&lt;/a> package. When enabled, the web page will appear to webR to be cross-origin isolated and so &lt;code>SharedArrayBuffer&lt;/code> can be used. This still has the other drawbacks of requiring a service worker, but will have much better performance than using webR&amp;rsquo;s &lt;code>ServiceWorker&lt;/code> channel directly.&lt;/p>
&lt;p>For these reasons, the &lt;code>PostMessage&lt;/code> communication channel is now the default fallback when the web page is not cross-origin isolated. The &lt;code>ServiceWorker&lt;/code> channel will continue to be available in the short-term, if explicitly requested, but will eventually be removed in a future version of webR.&lt;/p>
&lt;h3 id="api-additions">API additions
&lt;a href="#api-additions">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>We&amp;rsquo;ve made some minor changes to the webR JavaScript API. There&amp;rsquo;s nothing ground breaking here, but some new tools that we hope to be useful.&lt;/p>
&lt;h5 id="report-current-version">Report current version
&lt;a href="#report-current-version">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h5>&lt;p>With the aim of providing functionality similar to the
&lt;a href="https://rdrr.io/r/base/Version.html" target="_blank" rel="noopener">&lt;code>R.Version()&lt;/code>&lt;/a> and
&lt;a href="https://rdrr.io/r/utils/packageDescription.html" target="_blank" rel="noopener">&lt;code>packageVersion()&lt;/code>&lt;/a> R functions, the version of the currently running webR session may now be obtained from the JavaScript environment.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">webR&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">WebR&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">version&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// &amp;#39;0.4.3-dev+d1fb4f4&amp;#39;
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;h5 id="discover-an-objects-class">Discover an object&amp;rsquo;s class
&lt;a href="#discover-an-objects-class">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h5>&lt;p>An R object&amp;rsquo;s
&lt;a href="https://rdrr.io/r/base/class.html" target="_blank" rel="noopener">&lt;code>class()&lt;/code>&lt;/a> may be inspected from an &lt;code>RObject&lt;/code> proxy. The returned value is an &lt;code>RCharacter&lt;/code> vector of classes from which the object inherits.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">evalR&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;mtcars&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">class&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">cls&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">cls&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toArray&lt;/span>&lt;span class="p">());&lt;/span>
&lt;span class="c1">// [&amp;#39;data.frame&amp;#39;]
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;h5 id="explicitly-construct-an-r-dataframe">Explicitly construct an R &lt;code>data.frame&lt;/code>
&lt;a href="#explicitly-construct-an-r-dataframe">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h5>&lt;p>In a previous version of webR, we introduced creating new R &lt;code>data.frame&lt;/code> objects from JavaScript using the generic &lt;code>RObject&lt;/code> constructor. WebR will build a &lt;code>data.frame&lt;/code> for arguments with compatible shape: either an object with named columns, or an array with objects for each row.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">source1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">abc&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">xyz&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">};&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">source1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">class&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">cls&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">cls&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toArray&lt;/span>&lt;span class="p">());&lt;/span>
&lt;span class="c1">// [&amp;#39;data.frame&amp;#39;]
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">source2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">abc&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">xyz&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">abc&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">xyz&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">abc&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">xyz&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="p">}];&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">source2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">class&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">cls&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">cls&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toArray&lt;/span>&lt;span class="p">());&lt;/span>
&lt;span class="c1">// [&amp;#39;data.frame&amp;#39;]
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You might ask why not create an R list object by default? The reason is that we expect a common situation to be taking datasets defined in the JavaScript environment and processing them using R. With &lt;code>data.frame&lt;/code> as the default, JavaScript objects that have been formatted for use with existing JavaScript frameworks can be almost transparently passed to R.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">penguins&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// Array(344) [
&lt;/span>&lt;span class="c1">// 0: { species: &amp;#39;Adelie&amp;#39;, island: &amp;#39;Torgersen&amp;#39;, flipper_length_mm: 181, ... }
&lt;/span>&lt;span class="c1">// ... more
&lt;/span>&lt;span class="c1">// ]
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">sample_mass&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">evalR&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;span class="sb"> \\(x) x |&amp;gt; dplyr::sample_n(5) |&amp;gt; dplyr::pull(&amp;#34;body_mass_g&amp;#34;)
&lt;/span>&lt;span class="sb"> `&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">sample_mass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">penguins&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// { type: &amp;#39;double&amp;#39;, names: null, values: [3300, 3250, 4000, 4700, 3750] }
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The generic constructor throws an exception for JavaScript objects that cannot be coerced as a &lt;code>data.frame&lt;/code>. If you&amp;rsquo;d prefer to create an R list, you must instead be explicit by using the &lt;code>RList&lt;/code> constructor,&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">def&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">456&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">uvw&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">source&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// Uncaught WebRWorkerError: Can&amp;#39;t construct `data.frame`. Source object is not eligible.
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RList&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">source&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="c1">// &amp;#39;list&amp;#39;
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>RObject&lt;/code> constructor is designed to be a useful default for interactive work at a JavaScript console. However, production applications should be
&lt;a href="https://docs.r-wasm.org/webr/latest/api/js/modules/RWorker.html#classes" target="_blank" rel="noopener">explicit in the choice of constructor&lt;/a>. With this in mind we have added a new class
&lt;a href="https://docs.r-wasm.org/webr/latest/api/js/classes/RWorker.RDataFrame.html" target="_blank" rel="noopener">&lt;code>RDataFrame&lt;/code>&lt;/a>, a subclass of &lt;code>RList&lt;/code>, so that users may be explicit in their choice of creating a &lt;code>data.frame&lt;/code>, rather than relying on the generic &lt;code>RObject&lt;/code> constructor.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">abc&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">xyz&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">};&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RDataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">source&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">class&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">cls&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">cls&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toArray&lt;/span>&lt;span class="p">());&lt;/span>
&lt;span class="c1">// [&amp;#39;data.frame&amp;#39;]
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now, if your source object is not quite as you expect, rather than continuing silently without error an exception will be thrown. We hope this will reduce the chance of type-related bugs and unexpected behaviour, and aid in debugging when issues do occur.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="c1">// Say we _expect_ a JS object here, but something went wrong...
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">bug&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">undefined&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">obj1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">bug&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// [No error and webR silently continues with an unexpected R object]
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">obj2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">webR&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RDataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">bug&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// Uncaught WebRWorkerError: Can&amp;#39;t construct `data.frame`. Source object is not eligible.
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Special thanks to
&lt;a href="https://github.com/jeroen" target="_blank" rel="noopener">@jeroen&lt;/a>, for helpful conversations when it comes to packaging for webR. And thank you, as always, to the users and developers contributing to webR in the form of discussion, bug reports, and pull requests.&lt;/p>
&lt;p>
&lt;a href="https://github.com/027xiguapi" target="_blank" rel="noopener">@027xiguapi&lt;/a>,
&lt;a href="https://github.com/adrianolszewski" target="_blank" rel="noopener">@adrianolszewski&lt;/a>,
&lt;a href="https://github.com/alekrutkowski" target="_blank" rel="noopener">@alekrutkowski&lt;/a>,
&lt;a href="https://github.com/andrjohns" target="_blank" rel="noopener">@andrjohns&lt;/a>,
&lt;a href="https://github.com/baogorek" target="_blank" rel="noopener">@baogorek&lt;/a>,
&lt;a href="https://github.com/bugzpodder" target="_blank" rel="noopener">@bugzpodder&lt;/a>,
&lt;a href="https://github.com/christianp" target="_blank" rel="noopener">@christianp&lt;/a>,
&lt;a href="https://github.com/coatless" target="_blank" rel="noopener">@coatless&lt;/a>,
&lt;a href="https://github.com/codingthemystery" target="_blank" rel="noopener">@codingthemystery&lt;/a>,
&lt;a href="https://github.com/ColinFay" target="_blank" rel="noopener">@ColinFay&lt;/a>,
&lt;a href="https://github.com/derrickstaten" target="_blank" rel="noopener">@derrickstaten&lt;/a>,
&lt;a href="https://github.com/dipterix" target="_blank" rel="noopener">@dipterix&lt;/a>,
&lt;a href="https://github.com/EduardBel" target="_blank" rel="noopener">@EduardBel&lt;/a>,
&lt;a href="https://github.com/gregvolny" target="_blank" rel="noopener">@gregvolny&lt;/a>,
&lt;a href="https://github.com/guillaumechaumet" target="_blank" rel="noopener">@guillaumechaumet&lt;/a>,
&lt;a href="https://github.com/gyanaranjans" target="_blank" rel="noopener">@gyanaranjans&lt;/a>,
&lt;a href="https://github.com/helgasoft" target="_blank" rel="noopener">@helgasoft&lt;/a>,
&lt;a href="https://github.com/HenrikBengtsson" target="_blank" rel="noopener">@HenrikBengtsson&lt;/a>,
&lt;a href="https://github.com/isbool" target="_blank" rel="noopener">@isbool&lt;/a>,
&lt;a href="https://github.com/JosiahParry" target="_blank" rel="noopener">@JosiahParry&lt;/a>,
&lt;a href="https://github.com/luisDVA" target="_blank" rel="noopener">@luisDVA&lt;/a>,
&lt;a href="https://github.com/minhaj57sorder" target="_blank" rel="noopener">@minhaj57sorder&lt;/a>,
&lt;a href="https://github.com/olivroy" target="_blank" rel="noopener">@olivroy&lt;/a>,
&lt;a href="https://github.com/oranwutang" target="_blank" rel="noopener">@oranwutang&lt;/a>,
&lt;a href="https://github.com/pawelru" target="_blank" rel="noopener">@pawelru&lt;/a>,
&lt;a href="https://github.com/psychemedia" target="_blank" rel="noopener">@psychemedia&lt;/a>,
&lt;a href="https://github.com/rainer-rq-koelle" target="_blank" rel="noopener">@rainer-rq-koelle&lt;/a>,
&lt;a href="https://github.com/richarddmorey" target="_blank" rel="noopener">@richarddmorey&lt;/a>,
&lt;a href="https://github.com/richardjtelford" target="_blank" rel="noopener">@richardjtelford&lt;/a>,
&lt;a href="https://github.com/seanbirchall" target="_blank" rel="noopener">@seanbirchall&lt;/a>,
&lt;a href="https://github.com/shalom-lab" target="_blank" rel="noopener">@shalom-lab&lt;/a>,
&lt;a href="https://github.com/StaffanBetner" target="_blank" rel="noopener">@StaffanBetner&lt;/a>,
&lt;a href="https://github.com/stobor827" target="_blank" rel="noopener">@stobor827&lt;/a>,
&lt;a href="https://github.com/SugarRayLua" target="_blank" rel="noopener">@SugarRayLua&lt;/a>,
&lt;a href="https://github.com/tavosansal" target="_blank" rel="noopener">@tavosansal&lt;/a>,
&lt;a href="https://github.com/thomascwells" target="_blank" rel="noopener">@thomascwells&lt;/a>,
&lt;a href="https://github.com/timelyportfolio" target="_blank" rel="noopener">@timelyportfolio&lt;/a>, and
&lt;a href="https://github.com/zpinocchio" target="_blank" rel="noopener">@zpinocchio&lt;/a>.&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>It depends a lot on how the hosting service has configured their production web server and the files themselves; both size and content type can make a difference to behaviour. Some services allow for pre-compressed content, while others do not. The
&lt;a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/ServingCompressedFiles.html" target="_blank" rel="noopener">AWS CloudFront documentation&lt;/a> gives a good overview of how this all fits together. &lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>Emscripten&amp;rsquo;s &lt;code>file_packager&lt;/code> tool also supports built-in &lt;code>LZ4&lt;/code> compression with the &lt;code>--lz4&lt;/code> flag. While generally useful for bundling files for WebAssembly applications, we avoid using this feature since it writes important data to a &lt;code>.js&lt;/code> output file that must be executed. Ideally, we&amp;rsquo;d prefer our package loading mechanism to only require a single file download, similar to traditional R package archives. &lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3" role="doc-endnote">
&lt;p>Note that currently users wanting to make use of &lt;code>IDBFS&lt;/code> mounting must configure webR to use the
&lt;a href="https://docs.r-wasm.org/webr/latest/communication.html" target="_blank" rel="noopener">&lt;code>PostMessage&lt;/code> Communication Channel&lt;/a>. &lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>Postprocessing is coming to tidymodels</title><link>https://www.tidyverse.org/blog/2024/10/postprocessing-preview/</link><pubDate>Tue, 08 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2024/10/postprocessing-preview/</guid><description>&lt;p>We&amp;rsquo;re bristling with elation to share about a set of upcoming features for postprocessing with tidymodels. Postprocessors refine predictions outputted from machine learning models to improve predictive performance or better satisfy distributional limitations. The developmental versions of many tidymodels core packages include changes to support postprocessors, and we&amp;rsquo;re ready to share about our work and hear the community&amp;rsquo;s thoughts on our progress so far.&lt;/p>
&lt;p>Postprocessing support with tidymodels hasn&amp;rsquo;t yet made it to CRAN, but you can install the needed versions of tidymodels packages with the following code.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>pak&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://pak.r-lib.org/reference/pak.html'>pak&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/paste.html'>paste0&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='s'>"tidymodels/"&lt;/span>,&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"tune"&lt;/span>, &lt;span class='s'>"workflows"&lt;/span>, &lt;span class='s'>"rsample"&lt;/span>, &lt;span class='s'>"tailor"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span> &lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Now, we load packages with those developmental versions installed.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://github.com/tidymodels/probably'>probably&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://github.com/tidymodels/tailor'>tailor&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Existing tidymodels users might have spotted something funky already; who is this tailor character?&lt;/p>
&lt;h2 id="meet-tailor">Meet tailor👋
&lt;a href="#meet-tailor">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The tailor package introduces tailor objects, which compose iterative adjustments to model predictions. tailor is to postprocessing as recipes is to preprocessing; applying your mental model of recipes to tailor should get you a good bit of the way there.&lt;/p>
&lt;div style="width: 140%; max-width: 140%; overflow-x: auto;">
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Tool&lt;/th>
&lt;th>Applied to...&lt;/th>
&lt;th>Initialize with...&lt;/th>
&lt;th>Composes...&lt;/th>
&lt;th>Train with...&lt;/th>
&lt;th>Predict with...&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>recipes&lt;/td>
&lt;td>Training data&lt;/td>
&lt;td>&lt;code>recipe()&lt;/code>&lt;/td>
&lt;td>&lt;code>step_*()&lt;/code>s&lt;/td>
&lt;td>&lt;code>prep()&lt;/code>&lt;/td>
&lt;td>&lt;code>bake()&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tailor&lt;/td>
&lt;td>Model predictions&lt;/td>
&lt;td>
&lt;a href="https://tailor.tidymodels.org/reference/tailor.html" target="_blank" rel="noopener">&lt;code>tailor()&lt;/code>&lt;/a>&lt;/td>
&lt;td>&lt;code>adjust_*()&lt;/code>ments&lt;/td>
&lt;td>
&lt;a href="https://generics.r-lib.org/reference/fit.html" target="_blank" rel="noopener">&lt;code>fit()&lt;/code>&lt;/a>&lt;/td>
&lt;td>
&lt;a href="https://rdrr.io/r/stats/predict.html" target="_blank" rel="noopener">&lt;code>predict()&lt;/code>&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;p>First, users can initialize a tailor object with
&lt;a href="https://tailor.tidymodels.org/reference/tailor.html" target="_blank" rel="noopener">&lt;code>tailor()&lt;/code>&lt;/a>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://tailor.tidymodels.org/reference/tailor.html'>tailor&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>──&lt;/span> &lt;span style='font-weight: bold;'>tailor&lt;/span> &lt;span style='color: #00BBBB;'>──────────────────────────────────────────────────────────────────────&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; A postprocessor with 0 adjustments.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Tailors compose &amp;ldquo;adjustments,&amp;rdquo; analogous to steps from the recipes package.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://tailor.tidymodels.org/reference/tailor.html'>tailor&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://tailor.tidymodels.org/reference/adjust_probability_threshold.html'>adjust_probability_threshold&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>threshold &lt;span class='o'>=&lt;/span> &lt;span class='m'>.7&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>──&lt;/span> &lt;span style='font-weight: bold;'>tailor&lt;/span> &lt;span style='color: #00BBBB;'>──────────────────────────────────────────────────────────────────────&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; A binary postprocessor with 1 adjustment:&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>•&lt;/span> Adjust probability threshold to 0.7.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>As an example, we&amp;rsquo;ll apply this tailor to the &lt;code>two_class_example&lt;/code> data made available after loading tidymodels.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/head.html'>head&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>two_class_example&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; truth Class1 Class2 predicted&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 1 Class2 0.003589243 0.9964107574 Class2&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 2 Class1 0.678621054 0.3213789460 Class1&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 3 Class2 0.110893522 0.8891064779 Class2&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 4 Class1 0.735161703 0.2648382969 Class1&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 5 Class2 0.016239960 0.9837600397 Class2&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 6 Class1 0.999275071 0.0007249286 Class1&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This data gives the true value of an outcome variable &lt;code>truth&lt;/code> as well as predicted probabilities (&lt;code>Class1&lt;/code> and &lt;code>Class2&lt;/code>). The hard class predictions, in &lt;code>predicted&lt;/code>, are &lt;code>&amp;quot;Class1&amp;quot;&lt;/code> if the probability assigned to &lt;code>&amp;quot;Class1&amp;quot;&lt;/code> is above .5, and &lt;code>&amp;quot;Class2&amp;quot;&lt;/code> otherwise.&lt;/p>
&lt;p>The model predicts &lt;code>&amp;quot;Class1&amp;quot;&lt;/code> more often than it does &lt;code>&amp;quot;Class2&amp;quot;&lt;/code>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>two_class_example&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span> &lt;span class='nf'>count&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>predicted&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; predicted n&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 1 Class1 277&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 2 Class2 223&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>If we wanted the model to predict &lt;code>&amp;quot;Class2&amp;quot;&lt;/code> more often, we could increase the probability threshold assigned to &lt;code>&amp;quot;Class1&amp;quot;&lt;/code> above which the hard class prediction will be &lt;code>&amp;quot;Class1&amp;quot;&lt;/code>. In the tailor package, this adjustment is implemented in
&lt;a href="https://tailor.tidymodels.org/reference/adjust_probability_threshold.html" target="_blank" rel="noopener">&lt;code>adjust_probability_threshold()&lt;/code>&lt;/a>, which can be situated in a tailor object.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>tlr&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://tailor.tidymodels.org/reference/tailor.html'>tailor&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://tailor.tidymodels.org/reference/adjust_probability_threshold.html'>adjust_probability_threshold&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>threshold &lt;span class='o'>=&lt;/span> &lt;span class='m'>.7&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>tlr&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>──&lt;/span> &lt;span style='font-weight: bold;'>tailor&lt;/span> &lt;span style='color: #00BBBB;'>──────────────────────────────────────────────────────────────────────&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; A binary postprocessor with 1 adjustment:&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>•&lt;/span> Adjust probability threshold to 0.7.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>tailors must be fitted before they can predict on new data. For adjustments like
&lt;a href="https://tailor.tidymodels.org/reference/adjust_probability_threshold.html" target="_blank" rel="noopener">&lt;code>adjust_probability_threshold()&lt;/code>&lt;/a>, there&amp;rsquo;s no training that actually happens at the
&lt;a href="https://generics.r-lib.org/reference/fit.html" target="_blank" rel="noopener">&lt;code>fit()&lt;/code>&lt;/a> step besides recording the name and type of relevant variables. For other adjustments, like numeric calibration with
&lt;a href="https://tailor.tidymodels.org/reference/adjust_numeric_calibration.html" target="_blank" rel="noopener">&lt;code>adjust_numeric_calibration()&lt;/code>&lt;/a>, parameters are actually estimated at the
&lt;a href="https://generics.r-lib.org/reference/fit.html" target="_blank" rel="noopener">&lt;code>fit()&lt;/code>&lt;/a> stage and separate data should be used to train the postprocessor and evaluate its performance. More on this in
&lt;a href="#tailors-in-context">Tailors in context&lt;/a>.&lt;/p>
&lt;p>In this case, though, we can
&lt;a href="https://generics.r-lib.org/reference/fit.html" target="_blank" rel="noopener">&lt;code>fit()&lt;/code>&lt;/a> on the whole dataset. The resulting object is still a tailor, but is now flagged as trained.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>tlr_trained&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/fit.html'>fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nv'>tlr&lt;/span>,&lt;/span>
&lt;span> &lt;span class='nv'>two_class_example&lt;/span>,&lt;/span>
&lt;span> outcome &lt;span class='o'>=&lt;/span> &lt;span class='nv'>truth&lt;/span>,&lt;/span>
&lt;span> estimate &lt;span class='o'>=&lt;/span> &lt;span class='nv'>predicted&lt;/span>,&lt;/span>
&lt;span> probabilities &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Class1&lt;/span>, &lt;span class='nv'>Class2&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>tlr_trained&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>──&lt;/span> &lt;span style='font-weight: bold;'>tailor&lt;/span> &lt;span style='color: #00BBBB;'>──────────────────────────────────────────────────────────────────────&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; A binary postprocessor with 1 adjustment:&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>•&lt;/span> Adjust probability threshold to 0.7. [trained]&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>When used with a model
&lt;a href="https://workflows.tidymodels.org" target="_blank" rel="noopener">workflow&lt;/a> via
&lt;a href="https://workflows.tidymodels.org/dev/reference/add_tailor.html" target="_blank" rel="noopener">&lt;code>add_tailor()&lt;/code>&lt;/a>, the arguments to
&lt;a href="https://generics.r-lib.org/reference/fit.html" target="_blank" rel="noopener">&lt;code>fit()&lt;/code>&lt;/a> a tailor will be set automatically. Generally, as in recipes, we recommend that users add tailors to model workflows for training and prediction rather than using them standalone for greater ease of use and to prevent data leakage, but tailors are totally functional by themselves, too.&lt;/p>
&lt;p>Now, when passed new data, the trained tailor will determine the outputted class based on whether the probability assigned to the level &lt;code>&amp;quot;Class1&amp;quot;&lt;/code> is above &lt;code>.7&lt;/code>, resulting in more predictions of &lt;code>&amp;quot;Class2&amp;quot;&lt;/code> than before.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>tlr_trained&lt;/span>, &lt;span class='nv'>two_class_example&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span> &lt;span class='nf'>count&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>predicted&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 2 × 2&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; predicted n&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> Class1 236&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> Class2 264&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Changing the probability threshold is one of many possible adjustments available in tailor.&lt;/p>
&lt;ul>
&lt;li>For probabilities:
&lt;a href="https://tailor.tidymodels.org/reference/adjust_probability_calibration.html" target="_blank" rel="noopener">calibration&lt;/a>&lt;/li>
&lt;li>For transformation of probabilities to hard class predictions:
&lt;a href="https://tailor.tidymodels.org/reference/adjust_probability_threshold.html" target="_blank" rel="noopener">thresholds&lt;/a>,
&lt;a href="https://tailor.tidymodels.org/reference/adjust_equivocal_zone.html" target="_blank" rel="noopener">equivocal zones&lt;/a>&lt;/li>
&lt;li>For numeric outcomes:
&lt;a href="https://tailor.tidymodels.org/reference/adjust_numeric_calibration.html" target="_blank" rel="noopener">calibration&lt;/a>,
&lt;a href="https://tailor.tidymodels.org/reference/adjust_numeric_range.html" target="_blank" rel="noopener">range&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Support for tailors is now plumbed through workflows (via
&lt;a href="https://workflows.tidymodels.org/dev/reference/add_tailor.html" target="_blank" rel="noopener">&lt;code>add_tailor()&lt;/code>&lt;/a>) and tune, and rsample includes a set of infrastructural changes to prevent data leakage behind the scenes. That said, we haven&amp;rsquo;t yet implemented support for tuning parameters in tailors, but we plan to implement that before this functionality heads to CRAN.&lt;/p>
&lt;h2 id="tailors-in-context">Tailors in context
&lt;a href="#tailors-in-context">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>As an example, let&amp;rsquo;s model a study of food delivery times in minutes (i.e., the time from the initial order to receiving the food) for a single restaurant. The &lt;code>deliveries&lt;/code> data is available upon loading the tidymodels meta-package.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/data.html'>data&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>deliveries&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='c'># split into training and testing sets&lt;/span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>delivery_split&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>initial_split&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>deliveries&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>delivery_train&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>training&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>delivery_split&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>delivery_test&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>testing&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>delivery_split&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='c'># resample the training set using 10-fold cross-validation&lt;/span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>delivery_folds&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>vfold_cv&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>delivery_train&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='c'># print out the training set&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>delivery_train&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 7,509 × 31&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; time_to_delivery hour day distance item_01 item_02 item_03 item_04 item_05&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> 21.2 16.1 Tue 3.02 0 0 0 0 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> 17.9 12.4 Sun 3.37 0 0 0 0 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> 22.4 14.2 Fri 2.59 0 0 0 0 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> 30.9 19.1 Sat 2.77 0 0 0 0 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> 30.1 16.5 Fri 2.05 0 0 0 1 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> 35.3 14.7 Sat 4.57 0 0 2 1 1&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> 13.1 11.5 Sat 2.09 0 0 0 0 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> 18.3 13.4 Tue 2.35 0 2 1 0 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> 25.2 20.5 Sat 2.43 0 0 0 1 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> 30.7 16.7 Fri 2.24 0 0 0 1 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 7,499 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 22 more variables: item_06 &amp;lt;int&amp;gt;, item_07 &amp;lt;int&amp;gt;, item_08 &amp;lt;int&amp;gt;,&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># item_09 &amp;lt;int&amp;gt;, item_10 &amp;lt;int&amp;gt;, item_11 &amp;lt;int&amp;gt;, item_12 &amp;lt;int&amp;gt;, item_13 &amp;lt;int&amp;gt;,&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># item_14 &amp;lt;int&amp;gt;, item_15 &amp;lt;int&amp;gt;, item_16 &amp;lt;int&amp;gt;, item_17 &amp;lt;int&amp;gt;, item_18 &amp;lt;int&amp;gt;,&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># item_19 &amp;lt;int&amp;gt;, item_20 &amp;lt;int&amp;gt;, item_21 &amp;lt;int&amp;gt;, item_22 &amp;lt;int&amp;gt;, item_23 &amp;lt;int&amp;gt;,&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># item_24 &amp;lt;int&amp;gt;, item_25 &amp;lt;int&amp;gt;, item_26 &amp;lt;int&amp;gt;, item_27 &amp;lt;int&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Let&amp;rsquo;s deliberately define a regression model that has poor predicted values: a boosted tree with only three ensemble members.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>delivery_wflow&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>workflow&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>add_formula&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>time_to_delivery&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>add_model&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>boost_tree&lt;/span>&lt;span class='o'>(&lt;/span>mode &lt;span class='o'>=&lt;/span> &lt;span class='s'>"regression"&lt;/span>, trees &lt;span class='o'>=&lt;/span> &lt;span class='m'>3&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Evaluating against resamples:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>delivery_res&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;/span>
&lt;span> &lt;span class='nf'>fit_resamples&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nv'>delivery_wflow&lt;/span>, &lt;/span>
&lt;span> &lt;span class='nv'>delivery_folds&lt;/span>, &lt;/span>
&lt;span> control &lt;span class='o'>=&lt;/span> &lt;span class='nf'>control_resamples&lt;/span>&lt;span class='o'>(&lt;/span>save_pred &lt;span class='o'>=&lt;/span> &lt;span class='kc'>TRUE&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span> &lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The $R^2$ looks quite strong!&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/collect_predictions.html'>collect_metrics&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>delivery_res&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 2 × 6&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .metric .estimator mean n std_err .config &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> rmse standard 9.52 10 0.053&lt;span style='text-decoration: underline;'>3&lt;/span> Preprocessor1_Model1&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> rsq standard 0.853 10 0.003&lt;span style='text-decoration: underline;'>57&lt;/span> Preprocessor1_Model1&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Let&amp;rsquo;s take a closer look at the predictions, though. How well are they calibrated? We can use the
&lt;a href="https://probably.tidymodels.org/reference/cal_plot_regression.html" target="_blank" rel="noopener">&lt;code>cal_plot_regression()&lt;/code>&lt;/a> helper from the probably package to put together a quick diagnostic plot.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/collect_predictions.html'>collect_predictions&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>delivery_res&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://probably.tidymodels.org/reference/cal_plot_regression.html'>cal_plot_regression&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>truth &lt;span class='o'>=&lt;/span> &lt;span class='nv'>time_to_delivery&lt;/span>, estimate &lt;span class='o'>=&lt;/span> &lt;span class='nv'>.pred&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="figs/predictions-bad-boost-1.png" width="700px" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>Ooof.&lt;/p>
&lt;p>In comes tailor! Numeric calibration can help address the correlated errors here. We can add a tailor to our existing workflow to &amp;ldquo;bump up&amp;rdquo; predictions towards their true value.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>delivery_wflow_improved&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>&lt;/span>
&lt;span> &lt;span class='nv'>delivery_wflow&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>add_tailor&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://tailor.tidymodels.org/reference/tailor.html'>tailor&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span> &lt;span class='nf'>&lt;a href='https://tailor.tidymodels.org/reference/adjust_numeric_calibration.html'>adjust_numeric_calibration&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The resampling code looks the same from here.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>delivery_res_improved&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;/span>
&lt;span> &lt;span class='nf'>fit_resamples&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nv'>delivery_wflow_improved&lt;/span>, &lt;/span>
&lt;span> &lt;span class='nv'>delivery_folds&lt;/span>, &lt;/span>
&lt;span> control &lt;span class='o'>=&lt;/span> &lt;span class='nf'>control_resamples&lt;/span>&lt;span class='o'>(&lt;/span>save_pred &lt;span class='o'>=&lt;/span> &lt;span class='kc'>TRUE&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span> &lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Checking out the same plot reveals a much better fit!&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/collect_predictions.html'>collect_predictions&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>delivery_res_improved&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://probably.tidymodels.org/reference/cal_plot_regression.html'>cal_plot_regression&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>truth &lt;span class='o'>=&lt;/span> &lt;span class='nv'>time_to_delivery&lt;/span>, estimate &lt;span class='o'>=&lt;/span> &lt;span class='nv'>.pred&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="figs/predictios-better-boost-1.png" width="700px" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>There&amp;rsquo;s actually some tricky data leakage prevention happening under the hood here. When you add tailors to workflow and fit them with tune, this is all taken care of for you. If you&amp;rsquo;re interested in using tailors outside of that context, check out
&lt;a href="https://workflows.tidymodels.org/dev/reference/add_tailor.html#data-usage" target="_blank" rel="noopener">this documentation section&lt;/a> in &lt;code>add_tailor()&lt;/code>.&lt;/p>
&lt;h2 id="whats-to-come">What&amp;rsquo;s to come
&lt;a href="#whats-to-come">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We&amp;rsquo;re excited about how this work is shaping up and would love to hear yall&amp;rsquo;s thoughts on what we&amp;rsquo;ve brought together so far. Please do comment on our social media posts about this blog entry or leave issues on the
&lt;a href="https://github.com/tidymodels/tailor" target="_blank" rel="noopener">tailor GitHub repository&lt;/a> and let us know what you think!&lt;/p>
&lt;p>Before these changes head out to CRAN, we&amp;rsquo;ll also be implementing tuning functionality for postprocessors. You&amp;rsquo;ll be able to tag arguments like &lt;code>adjust_probability_threshold(threshold)&lt;/code> or &lt;code>adjust_probability_calibration(method)&lt;/code> with &lt;code>tune()&lt;/code> to optimize across several values. Besides that, post-processing with tidymodels should &amp;ldquo;just work&amp;rdquo; on the developmental versions of our packages&amp;mdash;let us know if you come across anything wonky.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Postprocessing support has been a longstanding feature request across many of our repositories; we&amp;rsquo;re grateful for the community discussions there for shaping this work. Additionally, we thank Ryan Tibshirani and Daniel McDonald for fruitful discussions on how we might scope these features.&lt;/p></description></item><item><title>Q1 2024 tidymodels digest</title><link>https://www.tidyverse.org/blog/2024/04/tidymodels-2024-q1/</link><pubDate>Wed, 24 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2024/04/tidymodels-2024-q1/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;p>Since the beginning of 2021, we have been publishing
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">quarterly updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like these posts from the past couple of months:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2024/04/tidymodels-survival-analysis/" target="_blank" rel="noopener">Survival analysis for time-to-event data with tidymodels&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2024/03/tidymodels-fairness/" target="_blank" rel="noopener">Fair machine learning with tidymodels&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2024/04/tune-1-2-0/" target="_blank" rel="noopener">tune 1.2.0&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Additionally, we have published several related articles on
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels.org&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidymodels.org/learn/statistics/survival-case-study/" target="_blank" rel="noopener">How long until building complaints are dispositioned? A survival analysis case study&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidymodels.org/learn/statistics/survival-metrics/" target="_blank" rel="noopener">Dynamic Performance Metrics for Event Time Data&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidymodels.org/learn/statistics/survival-metrics-details/" target="_blank" rel="noopener">Accounting for Censoring in Performance Metrics for Event Time Data&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidymodels.org/learn/work/fairness-detectors/" target="_blank" rel="noopener">Are GPT detectors fair? A machine learning fairness case study&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidymodels.org/learn/work/fairness-readmission/" target="_blank" rel="noopener">Fair prediction of hospital readmission: a machine learning fairness case study&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidymodels.org/learn/models/bootstrap-metrics/" target="_blank" rel="noopener">Confidence Intervals for Performance Metrics&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2024/01/tidymodels-2023-q4/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been CRAN releases of 21 tidymodels packages. Here are links to their NEWS files:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>baguette
&lt;a href="https://baguette.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.2)&lt;/a>&lt;/li>
&lt;li>brulee
&lt;a href="https://brulee.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.3.0)&lt;/a>&lt;/li>
&lt;li>butcher
&lt;a href="https://butcher.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.3.4)&lt;/a>&lt;/li>
&lt;li>censored
&lt;a href="https://censored.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.3.0)&lt;/a>&lt;/li>
&lt;li>dials
&lt;a href="https://dials.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.1)&lt;/a>&lt;/li>
&lt;li>embed
&lt;a href="https://embed.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.4)&lt;/a>&lt;/li>
&lt;li>finetune
&lt;a href="https://finetune.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.0)&lt;/a>&lt;/li>
&lt;li>hardhat
&lt;a href="https://hardhat.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.3.1)&lt;/a>&lt;/li>
&lt;li>modeldata
&lt;a href="https://modeldata.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.3.0)&lt;/a>&lt;/li>
&lt;li>parsnip
&lt;a href="https://parsnip.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.1)&lt;/a>&lt;/li>
&lt;li>probably
&lt;a href="https://probably.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.3)&lt;/a>&lt;/li>
&lt;li>recipes
&lt;a href="https://recipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.10)&lt;/a>&lt;/li>
&lt;li>rsample
&lt;a href="https://rsample.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.1)&lt;/a>&lt;/li>
&lt;li>shinymodels
&lt;a href="https://shinymodels.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.1.1)&lt;/a>&lt;/li>
&lt;li>stacks
&lt;a href="https://stacks.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.4)&lt;/a>&lt;/li>
&lt;li>tidyclust
&lt;a href="https://tidyclust.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.2.1)&lt;/a>&lt;/li>
&lt;li>tidymodels
&lt;a href="https://tidymodels.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.0)&lt;/a>&lt;/li>
&lt;li>tune
&lt;a href="https://tune.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.0)&lt;/a>&lt;/li>
&lt;li>workflows
&lt;a href="https://workflows.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.4)&lt;/a>&lt;/li>
&lt;li>workflowsets
&lt;a href="https://workflowsets.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;li>yardstick
&lt;a href="https://yardstick.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.3.1)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;ll highlight a few especially notable changes below: new prediction options in censored, consistency in augmenting parsnip models and workflows, as well as a new autoplot type for workflow sets.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://github.com/tidymodels/censored'>censored&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="new-prediction-options-in-censored">New prediction options in censored
&lt;a href="#new-prediction-options-in-censored">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>As part of the framework-wide integration of survival analysis, the parsnip extension package censored has received some love in the form of new prediction options.&lt;/p>
&lt;p>Random forests with the &lt;code>&amp;quot;aorsf&amp;quot;&lt;/code> engine can now predict survival time, thanks to the new feature in the
&lt;a href="https://docs.ropensci.org/aorsf/" target="_blank" rel="noopener">aorsf&lt;/a> package itself. This means that all engines in censored can now predict survival time.&lt;/p>
&lt;p>Let&amp;rsquo;s predict survival time for the first five rows of the lung cancer dataset, survival analysis&amp;rsquo; &lt;code>mtcars&lt;/code>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>rf_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/rand_forest.html'>rand_forest&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"aorsf"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/set_args.html'>set_mode&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"censored regression"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>rf_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nv'>rf_spec&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/fit.html'>fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>time&lt;/span>, &lt;span class='nv'>status&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>age&lt;/span> &lt;span class='o'>+&lt;/span> &lt;span class='nv'>sex&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>lung&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>lung_5&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nv'>lung&lt;/span>&lt;span class='o'>[&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>:&lt;/span>&lt;span class='m'>5&lt;/span>, &lt;span class='o'>]&lt;/span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>rf_fit&lt;/span>, new_data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>lung_5&lt;/span>, type &lt;span class='o'>=&lt;/span> &lt;span class='s'>"time"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 5 × 1&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_time&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> 217.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> 240.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>3&lt;/span> 236.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>4&lt;/span> 236.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>5&lt;/span> 254.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Some models allow for predictions based on different values for tuning parameter without having to refit the model. In parsnip, we refer to this as
&lt;a href="https://parsnip.tidymodels.org/articles/Submodels.html" target="_blank" rel="noopener">&amp;ldquo;the submodel trick.&amp;quot;&lt;/a> Some of those models are regularized models fitted with the
&lt;a href="https://glmnet.stanford.edu/" target="_blank" rel="noopener">glmnet&lt;/a> engine. In censored, the corresponding
&lt;a href="https://parsnip.tidymodels.org/reference/multi_predict.html" target="_blank" rel="noopener">&lt;code>multi_predict()&lt;/code>&lt;/a> method has now gained the prediction types &lt;code>&amp;quot;time&amp;quot;&lt;/code> and &lt;code>&amp;quot;raw&amp;quot;&lt;/code> in addition to the existing types &lt;code>&amp;quot;survival&amp;quot;&lt;/code> and &lt;code>&amp;quot;linear_pred&amp;quot;&lt;/code>.&lt;/p>
&lt;p>Let&amp;rsquo;s fit a regularized Cox model to illustrate. Note how we set the &lt;code>penalty&lt;/code> to a fixed value of &lt;code>0.1&lt;/code>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>cox_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/proportional_hazards.html'>proportional_hazards&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>penalty &lt;span class='o'>=&lt;/span> &lt;span class='m'>0.1&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"glmnet"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/set_args.html'>set_mode&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"censored regression"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/fit.html'>fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>time&lt;/span>, &lt;span class='nv'>status&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>lung&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Predictions made with
&lt;a href="https://rdrr.io/r/stats/predict.html" target="_blank" rel="noopener">&lt;code>predict()&lt;/code>&lt;/a> use that penalty value of 0.1. With
&lt;a href="https://parsnip.tidymodels.org/reference/multi_predict.html" target="_blank" rel="noopener">&lt;code>multi_predict()&lt;/code>&lt;/a>, we can change that value to something different without having to refit. Conveniently, we can predict for multiple penalty values as well.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>cox_fit&lt;/span>, new_data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>lung_5&lt;/span>, type &lt;span class='o'>=&lt;/span> &lt;span class='s'>"time"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 5 × 1&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_time&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> 425.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>3&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>4&lt;/span> 350.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>5&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>mpred&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/multi_predict.html'>multi_predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>cox_fit&lt;/span>, new_data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>lung_5&lt;/span>, type &lt;span class='o'>=&lt;/span> &lt;span class='s'>"time"&lt;/span>, &lt;/span>
&lt;span> penalty &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>0.01&lt;/span>, &lt;span class='m'>0.1&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;/span>
&lt;span>&lt;span class='nv'>mpred&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 5 × 1&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [2 × 2]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [2 × 2]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>3&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [2 × 2]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>4&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [2 × 2]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>5&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [2 × 2]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The resulting tibble is nested by observation to follow the convention of one row per observation. For each observation, the predictions are stored in a tibble containing the penalty value along with the prediction.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>mpred&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>.pred&lt;/span>&lt;span class='o'>[[&lt;/span>&lt;span class='m'>2&lt;/span>&lt;span class='o'>]&lt;/span>&lt;span class='o'>]&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 2 × 2&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; penalty .pred_time&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> 0.01 461.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> 0.1 425.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>You can see that the predicted value from
&lt;a href="https://rdrr.io/r/stats/predict.html" target="_blank" rel="noopener">&lt;code>predict()&lt;/code>&lt;/a> matches the predicted value from
&lt;a href="https://parsnip.tidymodels.org/reference/multi_predict.html" target="_blank" rel="noopener">&lt;code>multi_predict()&lt;/code>&lt;/a> with a penalty of 0.1.&lt;/p>
&lt;h2 id="consistent-augment-for-workflows-and-parsnip-models">Consistent &lt;code>augment()&lt;/code> for workflows and parsnip models
&lt;a href="#consistent-augment-for-workflows-and-parsnip-models">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>If you are interested in exploring predictions in relation to predictors,
&lt;a href="https://generics.r-lib.org/reference/augment.html" target="_blank" rel="noopener">&lt;code>augment()&lt;/code>&lt;/a> is your extended
&lt;a href="https://rdrr.io/r/stats/predict.html" target="_blank" rel="noopener">&lt;code>predict()&lt;/code>&lt;/a> method: it will augment the inputted dataset with its predictions. For classification, it will add hard class predictions as well as class probabilities. For regression, it will add the numeric prediction. If the outcome variable is part of the dataset, it also calculates residuals. This has already been the case for fitted parsnip models, and the
&lt;a href="https://generics.r-lib.org/reference/augment.html" target="_blank" rel="noopener">&lt;code>augment()&lt;/code>&lt;/a> method for workflows will now also calculate residuals.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>spec_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/fit.html'>fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/linear_reg.html'>linear_reg&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>, &lt;span class='nv'>mpg&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>wflow_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>workflow&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mpg&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/linear_reg.html'>linear_reg&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span> &lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/fit.html'>fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/augment.html'>augment&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>spec_fit&lt;/span>, &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 32 × 13&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred .resid mpg cyl disp hp drat wt qsec vs am gear&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> 22.6 -&lt;span style='color: #BB0000;'>1.60&lt;/span> 21 6 160 110 3.9 2.62 16.5 0 1 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> 22.1 -&lt;span style='color: #BB0000;'>1.11&lt;/span> 21 6 160 110 3.9 2.88 17.0 0 1 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> 26.3 -&lt;span style='color: #BB0000;'>3.45&lt;/span> 22.8 4 108 93 3.85 2.32 18.6 1 1 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> 21.2 0.163 21.4 6 258 110 3.08 3.22 19.4 1 0 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> 17.7 1.01 18.7 8 360 175 3.15 3.44 17.0 0 0 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> 20.4 -&lt;span style='color: #BB0000;'>2.28&lt;/span> 18.1 6 225 105 2.76 3.46 20.2 1 0 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> 14.4 -&lt;span style='color: #BB0000;'>0.086&lt;/span>&lt;span style='color: #BB0000; text-decoration: underline;'>3&lt;/span> 14.3 8 360 245 3.21 3.57 15.8 0 0 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> 22.5 1.90 24.4 4 147. 62 3.69 3.19 20 1 0 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> 24.4 -&lt;span style='color: #BB0000;'>1.62&lt;/span> 22.8 4 141. 95 3.92 3.15 22.9 1 0 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> 18.7 0.501 19.2 6 168. 123 3.92 3.44 18.3 1 0 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 22 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 1 more variable: carb &amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/augment.html'>augment&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>wflow_fit&lt;/span>, &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 32 × 13&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred .resid mpg cyl disp hp drat wt qsec vs am gear&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>*&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> 22.6 -&lt;span style='color: #BB0000;'>1.60&lt;/span> 21 6 160 110 3.9 2.62 16.5 0 1 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> 22.1 -&lt;span style='color: #BB0000;'>1.11&lt;/span> 21 6 160 110 3.9 2.88 17.0 0 1 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> 26.3 -&lt;span style='color: #BB0000;'>3.45&lt;/span> 22.8 4 108 93 3.85 2.32 18.6 1 1 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> 21.2 0.163 21.4 6 258 110 3.08 3.22 19.4 1 0 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> 17.7 1.01 18.7 8 360 175 3.15 3.44 17.0 0 0 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> 20.4 -&lt;span style='color: #BB0000;'>2.28&lt;/span> 18.1 6 225 105 2.76 3.46 20.2 1 0 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> 14.4 -&lt;span style='color: #BB0000;'>0.086&lt;/span>&lt;span style='color: #BB0000; text-decoration: underline;'>3&lt;/span> 14.3 8 360 245 3.21 3.57 15.8 0 0 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> 22.5 1.90 24.4 4 147. 62 3.69 3.19 20 1 0 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> 24.4 -&lt;span style='color: #BB0000;'>1.62&lt;/span> 22.8 4 141. 95 3.92 3.15 22.9 1 0 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> 18.7 0.501 19.2 6 168. 123 3.92 3.44 18.3 1 0 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 22 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 1 more variable: carb &amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Both methods also append on the left-hand side of the data frame, rather than the right-hand side. This means that prediction columns are always visible when printed, even for data frames with many columns. As you might expect, the order of the columns is the same for both methods as well.&lt;/p>
&lt;h2 id="new-autoplot-type-for-workflow-sets">New autoplot type for workflow sets
&lt;a href="#new-autoplot-type-for-workflow-sets">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Many tidymodels objects have
&lt;a href="https://ggplot2.tidyverse.org/reference/autoplot.html" target="_blank" rel="noopener">&lt;code>autoplot()&lt;/code>&lt;/a> methods for quickly getting a sense of the most important aspects of an object. For workflow sets, the method shows the value of the calculated performance metrics, as well as the respective rank of each workflow in the set. Let&amp;rsquo;s put together a workflow set on the actual &lt;code>mtcars&lt;/code> data and take a look at the default autoplot.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>mt_rec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mpg&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>mt_rec2&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nv'>mt_rec&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span> &lt;span class='nf'>step_normalize&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_numeric_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>mt_rec3&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nv'>mt_rec&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span> &lt;span class='nf'>step_YeoJohnson&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_numeric_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>wflow_set&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>workflow_set&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/list.html'>list&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>plain &lt;span class='o'>=&lt;/span> &lt;span class='nv'>mt_rec&lt;/span>, normalize &lt;span class='o'>=&lt;/span> &lt;span class='nv'>mt_rec2&lt;/span>, yeo_johnson &lt;span class='o'>=&lt;/span> &lt;span class='nv'>mt_rec3&lt;/span>&lt;span class='o'>)&lt;/span>, &lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/list.html'>list&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/linear_reg.html'>linear_reg&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>wflow_set_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>workflow_map&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nv'>wflow_set&lt;/span>, &lt;/span>
&lt;span> &lt;span class='s'>"fit_resamples"&lt;/span>, &lt;/span>
&lt;span> resamples &lt;span class='o'>=&lt;/span> &lt;span class='nf'>bootstraps&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://ggplot2.tidyverse.org/reference/autoplot.html'>autoplot&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>wflow_set_fit&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="figs/workflowsets-autoplot-1.png" width="700px" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>This allows you to grasp the metric values and rank of a workflow and let&amp;rsquo;s you distinguish the type of preprocessor and model. In our case, we only have one type of model, and even just one type of preprocessor, a recipe. What we are much more interested in is which recipe corresponds to which rank. The new option of &lt;code>type = &amp;quot;wflow_id&amp;quot;&lt;/code> lets us see which values and ranks correspond with which workflow and thus also with which recipe.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://ggplot2.tidyverse.org/reference/autoplot.html'>autoplot&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>wflow_set_fit&lt;/span>, type &lt;span class='o'>=&lt;/span> &lt;span class='s'>"wflow_id"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="figs/workflowsets-autoplot-new-1.png" width="700px" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>This makes it easy to spot that it&amp;rsquo;s the Yeo-Johnson transformation that makes the difference here!&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We&amp;rsquo;d like to thank those in the community that contributed to tidymodels in the last quarter:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>baguette:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>brulee:
&lt;a href="https://github.com/jrosell" target="_blank" rel="noopener">@jrosell&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>butcher:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>.&lt;/li>
&lt;li>censored:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/tripartio" target="_blank" rel="noopener">@tripartio&lt;/a>.&lt;/li>
&lt;li>dials:
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>embed:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>.&lt;/li>
&lt;li>finetune:
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jrosell" target="_blank" rel="noopener">@jrosell&lt;/a>,
&lt;a href="https://github.com/mfansler" target="_blank" rel="noopener">@mfansler&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>hardhat:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>modeldata:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>parsnip:
&lt;a href="https://github.com/birbritto" target="_blank" rel="noopener">@birbritto&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jmunyoon" target="_blank" rel="noopener">@jmunyoon&lt;/a>,
&lt;a href="https://github.com/marcelglueck" target="_blank" rel="noopener">@marcelglueck&lt;/a>,
&lt;a href="https://github.com/mattheaphy" target="_blank" rel="noopener">@mattheaphy&lt;/a>,
&lt;a href="https://github.com/mesdi" target="_blank" rel="noopener">@mesdi&lt;/a>,
&lt;a href="https://github.com/nipnipj" target="_blank" rel="noopener">@nipnipj&lt;/a>,
&lt;a href="https://github.com/pgg1309" target="_blank" rel="noopener">@pgg1309&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/wzbillings" target="_blank" rel="noopener">@wzbillings&lt;/a>.&lt;/li>
&lt;li>probably:
&lt;a href="https://github.com/brshallo" target="_blank" rel="noopener">@brshallo&lt;/a>,
&lt;a href="https://github.com/Jeffrothschild" target="_blank" rel="noopener">@Jeffrothschild&lt;/a>,
&lt;a href="https://github.com/jgaeb" target="_blank" rel="noopener">@jgaeb&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>recipes:
&lt;a href="https://github.com/DemetriPananos" target="_blank" rel="noopener">@DemetriPananos&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/jdonland" target="_blank" rel="noopener">@jdonland&lt;/a>,
&lt;a href="https://github.com/JiahuaQu" target="_blank" rel="noopener">@JiahuaQu&lt;/a>,
&lt;a href="https://github.com/joranE" target="_blank" rel="noopener">@joranE&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/olivroy" target="_blank" rel="noopener">@olivroy&lt;/a>,
&lt;a href="https://github.com/SantiagoD999" target="_blank" rel="noopener">@SantiagoD999&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/stufield" target="_blank" rel="noopener">@stufield&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>rsample:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/paulcbauer" target="_blank" rel="noopener">@paulcbauer&lt;/a>,
&lt;a href="https://github.com/StevenWallaert" target="_blank" rel="noopener">@StevenWallaert&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/ZWael" target="_blank" rel="noopener">@ZWael&lt;/a>.&lt;/li>
&lt;li>shinymodels:
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>stacks:
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>tidyclust:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>, and
&lt;a href="https://github.com/katieburak" target="_blank" rel="noopener">@katieburak&lt;/a>.&lt;/li>
&lt;li>tidymodels:
&lt;a href="https://github.com/jkylearmstrong" target="_blank" rel="noopener">@jkylearmstrong&lt;/a>,
&lt;a href="https://github.com/mine-cetinkaya-rundel" target="_blank" rel="noopener">@mine-cetinkaya-rundel&lt;/a>,
&lt;a href="https://github.com/nikosGeography" target="_blank" rel="noopener">@nikosGeography&lt;/a>,
&lt;a href="https://github.com/nipnipj" target="_blank" rel="noopener">@nipnipj&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>tune:
&lt;a href="https://github.com/AlbertoImg" target="_blank" rel="noopener">@AlbertoImg&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/joranE" target="_blank" rel="noopener">@joranE&lt;/a>,
&lt;a href="https://github.com/joshuagi" target="_blank" rel="noopener">@joshuagi&lt;/a>,
&lt;a href="https://github.com/lionel-" target="_blank" rel="noopener">@lionel-&lt;/a>,
&lt;a href="https://github.com/marcozanotti" target="_blank" rel="noopener">@marcozanotti&lt;/a>,
&lt;a href="https://github.com/Peter4801" target="_blank" rel="noopener">@Peter4801&lt;/a>,
&lt;a href="https://github.com/rfsaldanha" target="_blank" rel="noopener">@rfsaldanha&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/walkerjameschris" target="_blank" rel="noopener">@walkerjameschris&lt;/a>.&lt;/li>
&lt;li>workflows:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/mesdi" target="_blank" rel="noopener">@mesdi&lt;/a>,
&lt;a href="https://github.com/Milardkh" target="_blank" rel="noopener">@Milardkh&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>workflowsets:
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>yardstick:
&lt;a href="https://github.com/asb2111" target="_blank" rel="noopener">@asb2111&lt;/a>,
&lt;a href="https://github.com/Dpananos" target="_blank" rel="noopener">@Dpananos&lt;/a>,
&lt;a href="https://github.com/EduMinsky" target="_blank" rel="noopener">@EduMinsky&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/tripartio" target="_blank" rel="noopener">@tripartio&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;re grateful for all of the tidymodels community, from observers to users to contributors. Happy modeling!&lt;/p></description></item><item><title>Q4 2023 tidymodels digest</title><link>https://www.tidyverse.org/blog/2024/01/tidymodels-2023-q4/</link><pubDate>Tue, 09 Jan 2024 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2024/01/tidymodels-2023-q4/</guid><description>&lt;!--
TODO:
* [ ] Look over / edit the post's title in the yaml
* [ ] Edit (or delete) the description; note this appears in the Twitter card
* [ ] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [ ] Find photo &amp; update yaml metadata
* [ ] Create `thumbnail-sq.jpg`; height and width should be equal
* [ ] Create `thumbnail-wd.jpg`; width should be >5x height
* [ ] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [ ] Add intro sentence, e.g. the standard tagline for the package
* [ ] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;p>Since the beginning of 2021, we have been publishing
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">quarterly updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like this post from the past couple of months:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2023/11/tidymodels-errors-q4/" target="_blank" rel="noopener">Three ways errors are about to get better in tidymodels&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2022/12/tidymodels-2022-q4/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been CRAN releases of 7 tidymodels packages. Here are links to their NEWS files:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>embed
&lt;a href="https://embed.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.3)&lt;/a>&lt;/li>
&lt;li>modeldb
&lt;a href="https://modeldb.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.3.0)&lt;/a>&lt;/li>
&lt;li>recipes
&lt;a href="https://recipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.9)&lt;/a>&lt;/li>
&lt;li>spatialsample
&lt;a href="https://spatialsample.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.5.1)&lt;/a>&lt;/li>
&lt;li>stacks
&lt;a href="https://stacks.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.3)&lt;/a>&lt;/li>
&lt;li>textrecipes
&lt;a href="https://textrecipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.6)&lt;/a>&lt;/li>
&lt;li>tidyposterior
&lt;a href="https://tidyposterior.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;ll highlight a few especially notable changes below: updated warnings when normalizing, and better error messages in recipes.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/data.html'>data&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"ames"&lt;/span>, package &lt;span class='o'>=&lt;/span> &lt;span class='s'>"modeldata"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="updated-warnings-when-normalizing">Updated warnings when normalizing
&lt;a href="#updated-warnings-when-normalizing">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The latest release of recipes features an overhaul of the warnings and error messages to use the
&lt;a href="https://cli.r-lib.org/" target="_blank" rel="noopener">cli&lt;/a> package. With this, we are starting the project of providing more information signaling when things don&amp;rsquo;t go well.&lt;/p>
&lt;p>The first type of issue we now signal for is when you try to normalize data that contains elements such as &lt;code>NA&lt;/code> or &lt;code>Inf&lt;/code>. These can sneak in for several reasons, and before this release, it happened silently. Below we are creating a recipe using the &lt;code>ames&lt;/code> data set, and before we normalize, we are taking the logarithms of all variables that pertain to square footage.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>rec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_log&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>contains&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"SF"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_normalize&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_numeric_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Warning: Columns `BsmtFin_SF_1`, `BsmtFin_SF_2`, `Bsmt_Unf_SF`, `Total_Bsmt_SF`,&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; `Second_Flr_SF`, `Wood_Deck_SF`, and `Open_Porch_SF` returned NaN, because&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; variance cannot be calculated and scaling cannot be used. Consider avoiding&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; `Inf` or `-Inf` values and/or setting `na_rm = TRUE` before normalizing.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>We now get a warning that something happened, telling us that it encountered &lt;code>Inf&lt;/code> or &lt;code>-Inf&lt;/code>. Knowing that, we can go back and investigate what went wrong. If we exclude &lt;code>step_normalize()&lt;/code> and &lt;code>bake()&lt;/code> the recipe, we see that a number of &lt;code>-Inf&lt;/code> values appear.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_log&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>contains&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"SF"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>bake&lt;/span>&lt;span class='o'>(&lt;/span>new_data &lt;span class='o'>=&lt;/span> &lt;span class='kc'>NULL&lt;/span>, &lt;span class='nf'>contains&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"SF"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>glimpse&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Rows: 2,930&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Columns: 8&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ BsmtFin_SF_1 &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.6931472, 1.7917595, 0.0000000, 0.0000000, 1.0986123, 1…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ BsmtFin_SF_2 &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> -Inf, 4.969813, -Inf, -Inf, -Inf, -Inf, -Inf, -Inf, -Inf…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Bsmt_Unf_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 6.089045, 5.598422, 6.006353, 6.951772, 4.919981, 5.7807…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Total_Bsmt_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 6.984716, 6.782192, 7.192182, 7.654443, 6.833032, 6.8308…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ First_Flr_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 7.412160, 6.797940, 7.192182, 7.654443, 6.833032, 6.8308…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Second_Flr_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> -Inf, -Inf, -Inf, -Inf, 6.552508, 6.519147, -Inf, -Inf, …&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Wood_Deck_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 5.347108, 4.941642, 5.973810, -Inf, 5.356586, 5.886104, …&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Open_Porch_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 4.127134, -Inf, 3.583519, -Inf, 3.526361, 3.583519, -Inf…&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Looking at the bare data set, we notice that the &lt;code>-Inf&lt;/code> all appear where there are &lt;code>0&lt;/code>, which makes sense since &lt;code>log(0)&lt;/code> is undefined.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>ames&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>select&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>contains&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"SF"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>glimpse&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Rows: 2,930&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Columns: 8&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ BsmtFin_SF_1 &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 2, 6, 1, 1, 3, 3, 3, 1, 3, 7, 7, 1, 7, 3, 3, 1, 3, 3, 4,…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ BsmtFin_SF_2 &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0, 144, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1120, 0, 0, …&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Bsmt_Unf_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 441, 270, 406, 1045, 137, 324, 722, 1017, 415, 994, 763,…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Total_Bsmt_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 1080, 882, 1329, 2110, 928, 926, 1338, 1280, 1595, 994, …&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ First_Flr_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> 1656, 896, 1329, 2110, 928, 926, 1338, 1280, 1616, 1028,…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Second_Flr_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> 0, 0, 0, 0, 701, 678, 0, 0, 0, 776, 892, 0, 676, 0, 0, 1…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Wood_Deck_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> 210, 140, 393, 0, 212, 360, 0, 0, 237, 140, 157, 483, 0,…&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Open_Porch_SF &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> 62, 0, 36, 0, 34, 36, 0, 82, 152, 60, 84, 21, 75, 0, 54,…&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Knowing that it was &lt;code>0&lt;/code> that caused the problem, we can set an &lt;code>offset&lt;/code> to avoid taking &lt;code>log(0)&lt;/code>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>rec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_log&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>contains&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"SF"&lt;/span>&lt;span class='o'>)&lt;/span>, offset &lt;span class='o'>=&lt;/span> &lt;span class='m'>0.5&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_normalize&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_numeric_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>These warnings appear in &lt;code>step_scale()&lt;/code>, &lt;code>step_normalize()&lt;/code>, &lt;code>step_center()&lt;/code> or &lt;code>step_range()&lt;/code>.&lt;/p>
&lt;h2 id="better-error-messages-in-recipes">Better error messages in recipes
&lt;a href="#better-error-messages-in-recipes">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Another problem that happens a lot when using recipes, is accidentally selecting variables that have the wrong types. Previously this caused the following error:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_dummy&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>starts_with&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"Lot_"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Error in `step_dummy()`:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Caused by error in `prep()`:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; ! All columns selected for the step should be string, factor, or ordered.&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>In the newest release, it will detail the offending variables and what was wrong with them.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_dummy&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>starts_with&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"Lot_"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>bake&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00; font-weight: bold;'>Error&lt;/span>&lt;span style='font-weight: bold;'> in `step_dummy()`:&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='font-weight: bold;'>Caused by error in `prep()`:&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BB0000;'>✖&lt;/span> All columns selected for the step should be factor or ordered.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>•&lt;/span> 1 double variable found: `Lot_Frontage`&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>•&lt;/span> 1 integer variable found: `Lot_Area`&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="coming-attractions">Coming Attractions
&lt;a href="#coming-attractions">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>In the next month or so we are planning a cascade of CRAN releases. There is a lot of new functionality coming your way, especially in the tune package.&lt;/p>
&lt;p>A number of our packages will (finally) be able to cohesively fit, evaluate, tune, and predict models for event times (a.k.a.,
&lt;a href="https://en.wikipedia.org/wiki/Survival_analysis" target="_blank" rel="noopener">survival analysis&lt;/a>). If you don&amp;rsquo;t do this type of work, you might not notice the new capabilities. However, if you do, tidymodels will be able to do a lot more for you.&lt;/p>
&lt;p>We&amp;rsquo;ve also implemented a number of features related to model fairness. These tools allow tidymodels users to identify when machine learning models behave unfairly towards certain groups of people, and will also be included in the upcoming releases of tidymodels packages in Q1.&lt;/p>
&lt;p>We&amp;rsquo;ll highlight a lot of these new capabilities in blog posts here as well as tutorials on
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">&lt;code>tidymodels.org&lt;/code>&lt;/a>.&lt;/p>
&lt;p>So, there&amp;rsquo;s a lot more coming! We are very excited to have these features officially available and to see what people can do with them.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We&amp;rsquo;d like to thank those in the community that contributed to tidymodels in the last quarter:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>embed:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>.&lt;/li>
&lt;li>modeldb:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hadley" target="_blank" rel="noopener">@hadley&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>recipes:
&lt;a href="https://github.com/atusy" target="_blank" rel="noopener">@atusy&lt;/a>,
&lt;a href="https://github.com/bcadenato" target="_blank" rel="noopener">@bcadenato&lt;/a>,
&lt;a href="https://github.com/collinberke" target="_blank" rel="noopener">@collinberke&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/gfronk" target="_blank" rel="noopener">@gfronk&lt;/a>,
&lt;a href="https://github.com/jkennel" target="_blank" rel="noopener">@jkennel&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/jxu" target="_blank" rel="noopener">@jxu&lt;/a>,
&lt;a href="https://github.com/mastoffel" target="_blank" rel="noopener">@mastoffel&lt;/a>,
&lt;a href="https://github.com/matthewgson" target="_blank" rel="noopener">@matthewgson&lt;/a>,
&lt;a href="https://github.com/millermc38" target="_blank" rel="noopener">@millermc38&lt;/a>,
&lt;a href="https://github.com/ray-p144" target="_blank" rel="noopener">@ray-p144&lt;/a>,
&lt;a href="https://github.com/sebsfox" target="_blank" rel="noopener">@sebsfox&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>spatialsample:
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>.&lt;/li>
&lt;li>stacks:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>textrecipes:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/jd4ds" target="_blank" rel="noopener">@jd4ds&lt;/a>, and
&lt;a href="https://github.com/masurp" target="_blank" rel="noopener">@masurp&lt;/a>.&lt;/li>
&lt;li>tidyposterior:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;re grateful for all of the tidymodels community, from observers to users to contributors. Happy modeling!&lt;/p></description></item><item><title>Q3 2023 tidymodels digest</title><link>https://www.tidyverse.org/blog/2023/10/tidymodels-2023-q3/</link><pubDate>Thu, 05 Oct 2023 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2023/10/tidymodels-2023-q3/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;p>Since the beginning of 2021, we have been publishing
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">quarterly updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like this post from the past couple of months:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2023/08/validation-split-as-3-way-split/" target="_blank" rel="noopener">New interface to validation splits&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2022/12/tidymodels-2022-q4/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been CRAN releases of 11 tidymodels packages. Here are links to their NEWS files:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>butcher
&lt;a href="https://butcher.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.3.3)&lt;/a>&lt;/li>
&lt;li>embed
&lt;a href="https://embed.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.2)&lt;/a>&lt;/li>
&lt;li>modeldata
&lt;a href="https://modeldata.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.0)&lt;/a>&lt;/li>
&lt;li>parsnip
&lt;a href="https://parsnip.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.1)&lt;/a>&lt;/li>
&lt;li>recipes
&lt;a href="https://recipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.8)&lt;/a>&lt;/li>
&lt;li>rsample
&lt;a href="https://rsample.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.0)&lt;/a>&lt;/li>
&lt;li>textrecipes
&lt;a href="https://textrecipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.4)&lt;/a>&lt;/li>
&lt;li>themis
&lt;a href="https://themis.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.2)&lt;/a>&lt;/li>
&lt;li>tidyclust
&lt;a href="https://tidyclust.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.2.0)&lt;/a>&lt;/li>
&lt;li>tidymodels
&lt;a href="https://tidymodels.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.1)&lt;/a>&lt;/li>
&lt;li>tune
&lt;a href="https://tune.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.2)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;ll highlight a few especially notable changes below: Updated workshop material, new K-means engines and quality of life improvements in rsample. First, loading the collection of packages:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://github.com/tidymodels/tidyclust'>tidyclust&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/data.html'>data&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"ames"&lt;/span>, package &lt;span class='o'>=&lt;/span> &lt;span class='s'>"modeldata"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="workshops">Workshops
&lt;a href="#workshops">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>One of the biggest areas of work for our team this quarter was getting ready for this year&amp;rsquo;s
&lt;a href="https://posit.co/conference/" target="_blank" rel="noopener">posit::conf&lt;/a>. This year, two 1-day workshops were available: &amp;ldquo;Introduction to tidymodels&amp;rdquo; and &amp;ldquo;Advanced tidymodels&amp;rdquo;. All the material can be found on our workshop website
&lt;a href="https://workshops.tidymodels.org/" target="_blank" rel="noopener">workshops.tidymodels.org&lt;/a>, with these workshops being archived as
&lt;a href="https://workshops.tidymodels.org/archive/2023-09-posit-conf/" target="_blank" rel="noopener">posit::conf 2023 workshops&lt;/a>.&lt;/p>
&lt;p>Unless otherwise noted (i.e. not an original creation and reused from another source), these educational materials are licensed under Creative Commons Attribution
&lt;a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener">CC BY-SA 4.0&lt;/a>.&lt;/p>
&lt;h2 id="tidyclust-update">Tidyclust update
&lt;a href="#tidyclust-update">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The latest release of tidyclust featured a round of bug fixes, documentation improvements and quality-of-life improvements.&lt;/p>
&lt;p>This release adds 2 new engines to the
&lt;a href="https://tidyclust.tidymodels.org/reference/k_means.html" target="_blank" rel="noopener">&lt;code>k_means()&lt;/code>&lt;/a> model.
&lt;a href="https://tidyclust.tidymodels.org/reference/details_k_means_klaR.html" target="_blank" rel="noopener">klaR&lt;/a> to run K-Modes models and
&lt;a href="https://tidyclust.tidymodels.org/reference/details_k_means_clustMixType.html" target="_blank" rel="noopener">clustMixType&lt;/a> to run K-prototypes. K-Modes is the categorical analog to K-means, meaning that it is intended to be used on only categorical data, and K-prototypes is the more general method that works with categorical and numeric data at the same time.&lt;/p>
&lt;p>If we were to fit a K-means model to a mixed-type data set such as &lt;code>ames&lt;/code>, it would work, but under the hood, the model would apply a dummy transformation on the categorical predictors.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>kmeans_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://tidyclust.tidymodels.org/reference/k_means.html'>k_means&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>num_clusters &lt;span class='o'>=&lt;/span> &lt;span class='m'>3&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"stats"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>kmeans_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nv'>kmeans_spec&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/fit.html'>fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>When extracting the cluster means, we see that the dummy variables were used when calculating the means, which can make it harder to interpret the output.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>kmeans_fit&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://tidyclust.tidymodels.org/reference/extract_centroids.html'>extract_centroids&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>select&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>101&lt;/span>&lt;span class='o'>:&lt;/span>&lt;span class='m'>112&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>glimpse&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Rows: 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Columns: 12&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Overall_CondGood &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.09009009, 0.17594787, 0.01234568&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Overall_CondVery_Good &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.02702703, 0.06694313, 0.01646091&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Overall_CondExcellent &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.01201201, 0.01303318, 0.02880658&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Overall_CondVery_Excellent &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0, 0, 0&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Year_Built &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 1989.645, 1956.471, 1999.572&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Year_Remod_Add &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 1996.090, 1974.518, 2003.379&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Roof_StyleGable &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.8238238, 0.8234597, 0.4444444&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Roof_StyleGambrel &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.005005005, 0.010071090, 0.000000000&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Roof_StyleHip &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.1531532, 0.1558057, 0.5555556&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Roof_StyleMansard &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.005005005, 0.003554502, 0.000000000&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Roof_StyleShed &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.003003003, 0.001184834, 0.000000000&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Roof_MatlCompShg &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 0.9759760, 0.9905213, 0.9876543&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Fitting a K-prototype model is done by setting the engine in
&lt;a href="https://tidyclust.tidymodels.org/reference/k_means.html" target="_blank" rel="noopener">&lt;code>k_means()&lt;/code>&lt;/a> to &lt;code>&amp;quot;clustMixType&amp;quot;&lt;/code>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>kproto_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://tidyclust.tidymodels.org/reference/k_means.html'>k_means&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>num_clusters &lt;span class='o'>=&lt;/span> &lt;span class='m'>3&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"clustMixType"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>kproto_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nv'>kproto_spec&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/fit.html'>fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The clusters can now be extracted on the original data format as categorical predictors are supported.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>kproto_fit&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://tidyclust.tidymodels.org/reference/extract_centroids.html'>extract_centroids&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>select&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>11&lt;/span>&lt;span class='o'>:&lt;/span>&lt;span class='m'>20&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>glimpse&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Rows: 3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Columns: 10&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Lot_Config &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> Inside, Inside, Inside&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Land_Slope &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> Gtl, Gtl, Gtl&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Neighborhood &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> College_Creek, North_Ames, Northridge_Heights&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Condition_1 &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> Norm, Norm, Norm&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Condition_2 &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> Norm, Norm, Norm&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Bldg_Type &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> OneFam, OneFam, OneFam&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ House_Style &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> Two_Story, One_Story, One_Story&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Overall_Cond &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> Average, Average, Average&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Year_Built &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 1989.977, 1953.793, 1998.765&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ Year_Remod_Add &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 1995.934, 1972.973, 2003.035&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="stricter-rsample-functions">Stricter rsample functions
&lt;a href="#stricter-rsample-functions">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Before version 1.2.0 of rsample, misspelled and wrongly used arguments would be swallowed silently by the functions. This could be a big source of confusion as it is easy to slip between the cracks. We have made changes to all rsample functions such that whenever possible they alert the user when something is wrong.&lt;/p>
&lt;p>Before 1.2.0 when you, for example, misspelled &lt;code>strata&lt;/code> as &lt;code>stata&lt;/code>, everything would go on like normal, with no indication that &lt;code>stata&lt;/code> was ignored.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">initial_split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ames&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">prop&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.75&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stata&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Neighborhood&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;Training/Testing/Total&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;2197/733/2930&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The same code will now error and point to the problematic arguments.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>initial_split&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames&lt;/span>, prop &lt;span class='o'>=&lt;/span> &lt;span class='m'>0.75&lt;/span>, stata &lt;span class='o'>=&lt;/span> &lt;span class='nv'>Neighborhood&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00; font-weight: bold;'>Error&lt;/span>&lt;span style='font-weight: bold;'> in `initial_split()`:&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00;'>!&lt;/span> `...` must be empty.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BB0000;'>✖&lt;/span> Problematic argument:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>•&lt;/span> stata = Neighborhood&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We&amp;rsquo;d like to thank those in the community that contributed to tidymodels in the last quarter:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>butcher:
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>.&lt;/li>
&lt;li>embed:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>, and
&lt;a href="https://github.com/wbuchanan" target="_blank" rel="noopener">@wbuchanan&lt;/a>.&lt;/li>
&lt;li>modeldata:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>parsnip:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/gmcmacran" target="_blank" rel="noopener">@gmcmacran&lt;/a>,
&lt;a href="https://github.com/SHo-JANG" target="_blank" rel="noopener">@SHo-JANG&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/vidarsumo" target="_blank" rel="noopener">@vidarsumo&lt;/a>.&lt;/li>
&lt;li>recipes:
&lt;a href="https://github.com/abichat" target="_blank" rel="noopener">@abichat&lt;/a>,
&lt;a href="https://github.com/andreranza" target="_blank" rel="noopener">@andreranza&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/jkennel" target="_blank" rel="noopener">@jkennel&lt;/a>,
&lt;a href="https://github.com/millermc38" target="_blank" rel="noopener">@millermc38&lt;/a>,
&lt;a href="https://github.com/nikosGeography" target="_blank" rel="noopener">@nikosGeography&lt;/a>,
&lt;a href="https://github.com/pgg1309" target="_blank" rel="noopener">@pgg1309&lt;/a>,
&lt;a href="https://github.com/rdavis120" target="_blank" rel="noopener">@rdavis120&lt;/a>,
&lt;a href="https://github.com/Sade154" target="_blank" rel="noopener">@Sade154&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/walrossker" target="_blank" rel="noopener">@walrossker&lt;/a>.&lt;/li>
&lt;li>rsample:
&lt;a href="https://github.com/godscloset" target="_blank" rel="noopener">@godscloset&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/MasterLuke84" target="_blank" rel="noopener">@MasterLuke84&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>textrecipes:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>, and
&lt;a href="https://github.com/gaohuachuan" target="_blank" rel="noopener">@gaohuachuan&lt;/a>.&lt;/li>
&lt;li>themis:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>.&lt;/li>
&lt;li>tidyclust:
&lt;a href="https://github.com/coforfe" target="_blank" rel="noopener">@coforfe&lt;/a>,
&lt;a href="https://github.com/cphaarmeyer" target="_blank" rel="noopener">@cphaarmeyer&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/michaelgrund" target="_blank" rel="noopener">@michaelgrund&lt;/a>,
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>, and
&lt;a href="https://github.com/trevorcampbell" target="_blank" rel="noopener">@trevorcampbell&lt;/a>.&lt;/li>
&lt;li>tidymodels:
&lt;a href="https://github.com/nikosGeography" target="_blank" rel="noopener">@nikosGeography&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>tune:
&lt;a href="https://github.com/dramanica" target="_blank" rel="noopener">@dramanica&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/forecastingEDs" target="_blank" rel="noopener">@forecastingEDs&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/kbodwin" target="_blank" rel="noopener">@kbodwin&lt;/a>,
&lt;a href="https://github.com/KJT-Habitat" target="_blank" rel="noopener">@KJT-Habitat&lt;/a>,
&lt;a href="https://github.com/MasterLuke84" target="_blank" rel="noopener">@MasterLuke84&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;re grateful for all of the tidymodels community, from observers to users to contributors. Happy modeling!&lt;/p></description></item><item><title>Q2 2023 tidymodels digest</title><link>https://www.tidyverse.org/blog/2023/07/tidymodels-2023-q2/</link><pubDate>Wed, 19 Jul 2023 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2023/07/tidymodels-2023-q2/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;p>Since the beginning of 2021, we have been publishing
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">quarterly updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like the
&lt;a href="https://www.tidyverse.org/blog/2023/05/desirability2/" target="_blank" rel="noopener">post&lt;/a> on the release of the new desirability2 package.&lt;/p>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2023/04/tidymodels-2023-q1/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been CRAN releases of 7 tidymodels packages. Here are links to their NEWS files:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>agua
&lt;a href="https://agua.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.1.3)&lt;/a>&lt;/li>
&lt;li>broom
&lt;a href="https://broom.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.5)&lt;/a>&lt;/li>
&lt;li>desirability2
&lt;a href="https://desirability2.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.0.1)&lt;/a>&lt;/li>
&lt;li>embed
&lt;a href="https://embed.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.1)&lt;/a>&lt;/li>
&lt;li>probably
&lt;a href="https://probably.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.2)&lt;/a>&lt;/li>
&lt;li>spatialsample
&lt;a href="https://spatialsample.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.4.0)&lt;/a>&lt;/li>
&lt;li>tidymodels
&lt;a href="https://tidymodels.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;ll highlight a few especially notable changes below: a new package with data for modeling, nearest neighbor distance matching cross-validation for spatial data, and a website refresh.&lt;/p>
&lt;p>First, loading the collection of packages:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="modeldatatoo">modeldatatoo
&lt;a href="#modeldatatoo">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Many of the datasets used in tidymodels examples are available in the modeldata package. The new modeldatatoo package now extends the collection by several bigger datasets. To allow for the bigger size, the package does not contain those datasets directly but rather provides functions to access them, prefixed with &lt;code>data_&lt;/code>. For example:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://github.com/tidymodels/modeldatatoo'>modeldatatoo&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://tidymodels.github.io/modeldatatoo/reference/data_animals.html'>data_animals&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 610 × 48&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; text colour lifespan weight kingdom class phylum diet conservation_status&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Aardv… Brown… 23 years 60kg … Animal… Mamm… Chord… Omni… Least Concern &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Abyss… Fawn,… &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Adeli… Black… 10 - 20… 3kg -… Animal… Aves Chord… Carn… Least Concern &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Affen… Black… &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Afgha… Black… &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Afric… Grey,… 60 - 70… 3,600… Animal… Mamm… Chord… Herb… Threatened &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Afric… Black… 15 - 20… 1.4kg… Animal… Mamm… Chord… Omni… Least Concern &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Afric… Brown… 8 - 15 … 25g -… Animal… Amph… Chord… Carn… Least Concern &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Afric… Grey,… 60 - 70… 900kg… Animal… Mamm… Chord… Herb… Endangered &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> &lt;span style='color: #555555;'>"&lt;/span>Afric… Black… 15 - 20… 1.4kg… Animal… Mamm… Chord… Omni… Least Concern &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 600 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 39 more variables: order &amp;lt;chr&amp;gt;, scientific_name &amp;lt;chr&amp;gt;, skin_type &amp;lt;chr&amp;gt;,&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># habitat &amp;lt;chr&amp;gt;, predators &amp;lt;chr&amp;gt;, family &amp;lt;chr&amp;gt;, lifestyle &amp;lt;chr&amp;gt;,&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># average_litter_size &amp;lt;chr&amp;gt;, genus &amp;lt;chr&amp;gt;, top_speed &amp;lt;chr&amp;gt;,&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># favourite_food &amp;lt;chr&amp;gt;, main_prey &amp;lt;chr&amp;gt;, type &amp;lt;chr&amp;gt;, common_name &amp;lt;chr&amp;gt;,&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># group &amp;lt;chr&amp;gt;, size &amp;lt;chr&amp;gt;, distinctive_features &amp;lt;chr&amp;gt;, size_l &amp;lt;chr&amp;gt;,&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># origin &amp;lt;chr&amp;gt;, special_features &amp;lt;chr&amp;gt;, location &amp;lt;chr&amp;gt;, …&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The new datasets are:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://tidymodels.github.io/modeldatatoo/reference/data_animals.html" target="_blank" rel="noopener">&lt;code>data_animals()&lt;/code>&lt;/a> contains a long-form description of the animal (in the &lt;code>text&lt;/code> column) as well as quite a bit of missing data and malformed fields.&lt;/li>
&lt;li>
&lt;a href="https://tidymodels.github.io/modeldatatoo/reference/data_chimiometrie_2019.html" target="_blank" rel="noopener">&lt;code>data_chimiometrie_2019()&lt;/code>&lt;/a> contains spectra measured at 550 (unknown) wavelengths, published as the challenge at the Chimiometrie 2019 conference.&lt;/li>
&lt;li>
&lt;a href="https://tidymodels.github.io/modeldatatoo/reference/data_elevators.html" target="_blank" rel="noopener">&lt;code>data_elevators()&lt;/code>&lt;/a> contains information on a subset of the elevators in New York City.&lt;/li>
&lt;/ul>
&lt;p>Because those datasets are stored online, accessing them requires an active internet connection. We plan on using those datasets mostly for workshops and websites. The datasets in the modeldata package are part of the package directly, so they can be used everywhere (regardless of an active internet connection). We typically use them for package documentation.&lt;/p>
&lt;h2 id="spatialsample">spatialsample
&lt;a href="#spatialsample">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>spatialsample is a package for spatial resampling, extending the rsample framework to help create spatial extrapolation between your analysis and assessment data sets.&lt;/p>
&lt;p>The latest release of spatialsample includes nearest neighbor distance matching (NNDM) cross-validation via
&lt;a href="https://spatialsample.tidymodels.org/reference/spatial_nndm_cv.html" target="_blank" rel="noopener">&lt;code>spatial_nndm_cv()&lt;/code>&lt;/a>. NNDM is a variant of leave-one-out cross-validation which assigns each observation to a single assessment fold, and then attempts to remove data from each analysis fold until the nearest neighbor distance distribution between assessment and analysis folds matches the nearest neighbor distance distribution between training data and the locations a model will be used to predict.
&lt;a href="https://doi.org/10.1111/2041-210X.13851" target="_blank" rel="noopener">Proposed by Milà et al. (2022)&lt;/a>, this method aims to provide accurate estimates of how well models will perform in the locations they will actually be predicting. This method was originally implemented in the CAST package and can now be used with spatialsample as well.&lt;/p>
&lt;p>Let&amp;rsquo;s use the Ames housing data and turn it from a regular tibble into a &lt;code>sf&lt;/code> object for spatial data.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://github.com/tidymodels/spatialsample'>spatialsample&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/data.html'>data&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames&lt;/span>, package &lt;span class='o'>=&lt;/span> &lt;span class='s'>"modeldata"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>ames_sf&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>sf&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://r-spatial.github.io/sf/reference/st_as_sf.html'>st_as_sf&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames&lt;/span>, coords &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"Longitude"&lt;/span>, &lt;span class='s'>"Latitude"&lt;/span>&lt;span class='o'>)&lt;/span>, crs &lt;span class='o'>=&lt;/span> &lt;span class='m'>4326&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Let&amp;rsquo;s assume that we are building a model to predict observations similar to this subset of the data:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>ames_prediction_sites&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nv'>ames_sf&lt;/span>&lt;span class='o'>[&lt;/span>&lt;span class='m'>2001&lt;/span>&lt;span class='o'>:&lt;/span>&lt;span class='m'>2100&lt;/span>, &lt;span class='o'>]&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Let&amp;rsquo;s create NNDM cross-validation folds from a reduced training set as an example, just to keep things light.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>ames_folds&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://spatialsample.tidymodels.org/reference/spatial_nndm_cv.html'>spatial_nndm_cv&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames_sf&lt;/span>&lt;span class='o'>[&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>:&lt;/span>&lt;span class='m'>100&lt;/span>, &lt;span class='o'>]&lt;/span>, &lt;span class='nv'>ames_prediction_sites&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The resulting &lt;code>rset&lt;/code> contains 100 splits of the data, always keeping 1 of the 100 data points in the assessment set.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>ames_folds&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 100 × 2&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; splits id &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [50/1]&amp;gt;&lt;/span> Fold001&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [83/1]&amp;gt;&lt;/span> Fold002&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [50/1]&amp;gt;&lt;/span> Fold003&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [50/1]&amp;gt;&lt;/span> Fold004&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [50/1]&amp;gt;&lt;/span> Fold005&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [50/1]&amp;gt;&lt;/span> Fold006&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [50/1]&amp;gt;&lt;/span> Fold007&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [76/1]&amp;gt;&lt;/span> Fold008&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [86/1]&amp;gt;&lt;/span> Fold009&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [88/1]&amp;gt;&lt;/span> Fold010&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 90 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Starting with all other 99 points in the analysis set, points are excluded until the distribution of nearest neighbor distances from the analysis set to the assessment set matches that of nearest neighbor distances from the training set to the prediction sites.&lt;/p>
&lt;p>Looking at one of the splits, we can see the single assessment point, the points included in the analysis set, and the points excluded as the buffer.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>get_rsplit&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames_folds&lt;/span>, &lt;span class='m'>3&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span> &lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://ggplot2.tidyverse.org/reference/autoplot.html'>autoplot&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="figs/unnamed-chunk-10-1.png" width="700px" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>The &lt;code>ames_fold&lt;/code> object can then be used with functions from the tune package as usual.&lt;/p>
&lt;h2 id="tidymodelsorg">tidymodels.org
&lt;a href="#tidymodelsorg">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The tidymodels website,
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels.org&lt;/a>, has been updated to use
&lt;a href="https://quarto.org/" target="_blank" rel="noopener">Quarto&lt;/a>. Things largely look the same as before but this change simplifies the build system which should make it easier for more people to contribute.&lt;/p>
&lt;p>This change to Quarto has also allowed us to improve the search functionality of the website. The tables for finding parsnip models, recipe steps, and broom tidiers at &lt;a href="https://www.tidymodels.org/find/">https://www.tidymodels.org/find/&lt;/a> now all list objects across all CRAN packages, not just tidymodels packages. This should make it much easier to find the right extension for your task, even if not implemented within tidymodels!&lt;/p>
&lt;p>And if it does not exist yet, open an issue on GitHub or browse the
&lt;a href="https://www.tidymodels.org/learn/#category=developer%20tools" target="_blank" rel="noopener">developer documentation for extending tidymodels&lt;/a>!&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We&amp;rsquo;d like to extend our thanks to all of the contributors to tidymodels in the last quarter:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>agua:
&lt;a href="https://github.com/gvelasq" target="_blank" rel="noopener">@gvelasq&lt;/a>.&lt;/li>
&lt;li>broom:
&lt;a href="https://github.com/awcm0n" target="_blank" rel="noopener">@awcm0n&lt;/a>,
&lt;a href="https://github.com/gregmacfarlane" target="_blank" rel="noopener">@gregmacfarlane&lt;/a>,
&lt;a href="https://github.com/jwilliman" target="_blank" rel="noopener">@jwilliman&lt;/a>,
&lt;a href="https://github.com/mccarthy-m-g" target="_blank" rel="noopener">@mccarthy-m-g&lt;/a>,
&lt;a href="https://github.com/RoyalTS" target="_blank" rel="noopener">@RoyalTS&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/ste-tuf" target="_blank" rel="noopener">@ste-tuf&lt;/a>.&lt;/li>
&lt;li>desirability2:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>embed:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>, and
&lt;a href="https://github.com/naveranoc" target="_blank" rel="noopener">@naveranoc&lt;/a>.&lt;/li>
&lt;li>probably:
&lt;a href="https://github.com/agormp" target="_blank" rel="noopener">@agormp&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>spatialsample:
&lt;a href="https://github.com/jamesgrecian" target="_blank" rel="noopener">@jamesgrecian&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>, and
&lt;a href="https://github.com/nipnipj" target="_blank" rel="noopener">@nipnipj&lt;/a>.&lt;/li>
&lt;li>tidymodels:
&lt;a href="https://github.com/forecastingEDs" target="_blank" rel="noopener">@forecastingEDs&lt;/a>,
&lt;a href="https://github.com/JosiahParry" target="_blank" rel="noopener">@JosiahParry&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div></description></item><item><title>Q1 2023 tidymodels digest</title><link>https://www.tidyverse.org/blog/2023/04/tidymodels-2023-q1/</link><pubDate>Fri, 28 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2023/04/tidymodels-2023-q1/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;p>Since the beginning of 2021, we have been publishing
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">quarterly updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like these posts from the past couple of months:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2023/04/tuning-delights/" target="_blank" rel="noopener">Tuning hyperparameters with tidymodels is a delight&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2023/04/censored-0-2-0/" target="_blank" rel="noopener">censored 0.2.0&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.simonpcouch.com/blog/speedups-2023/" target="_blank" rel="noopener">The tidymodels is getting a whole lot faster&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2022/12/tidymodels-2022-q4/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been CRAN releases of 24 tidymodels packages. Here are links to their NEWS files:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>agua
&lt;a href="https://agua.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.1.2)&lt;/a>&lt;/li>
&lt;li>baguette
&lt;a href="https://baguette.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>broom
&lt;a href="https://broom.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.4)&lt;/a>&lt;/li>
&lt;li>butcher
&lt;a href="https://butcher.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.3.2)&lt;/a>&lt;/li>
&lt;li>censored
&lt;a href="https://censored.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.2.0)&lt;/a>&lt;/li>
&lt;li>dials
&lt;a href="https://dials.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.0)&lt;/a>&lt;/li>
&lt;li>discrim
&lt;a href="https://discrim.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>embed
&lt;a href="https://embed.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;li>finetune
&lt;a href="https://finetune.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;li>hardhat
&lt;a href="https://hardhat.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.3.0)&lt;/a>&lt;/li>
&lt;li>modeldata
&lt;a href="https://modeldata.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;li>parsnip
&lt;a href="https://parsnip.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;li>recipes
&lt;a href="https://recipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.6)&lt;/a>&lt;/li>
&lt;li>rules
&lt;a href="https://rules.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.2)&lt;/a>&lt;/li>
&lt;li>spatialsample
&lt;a href="https://spatialsample.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.3.0)&lt;/a>&lt;/li>
&lt;li>stacks
&lt;a href="https://stacks.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.2)&lt;/a>&lt;/li>
&lt;li>textrecipes
&lt;a href="https://textrecipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.3)&lt;/a>&lt;/li>
&lt;li>themis
&lt;a href="https://themis.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>tidyclust
&lt;a href="https://tidyclust.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.1.2)&lt;/a>&lt;/li>
&lt;li>tidypredict
&lt;a href="https://tidypredict.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.5)&lt;/a>&lt;/li>
&lt;li>tune
&lt;a href="https://tune.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.1)&lt;/a>&lt;/li>
&lt;li>workflows
&lt;a href="https://workflows.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.3)&lt;/a>&lt;/li>
&lt;li>workflowsets
&lt;a href="https://workflowsets.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>yardstick
&lt;a href="https://yardstick.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.2.0)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;ll highlight a few especially notable changes below: more informative errors and faster code. First, loading the collection of packages:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://embed.tidymodels.org'>embed&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/data.html'>data&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"ames"&lt;/span>, package &lt;span class='o'>=&lt;/span> &lt;span class='s'>"modeldata"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="more-informative-errors">More informative errors
&lt;a href="#more-informative-errors">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>In the last few months we have been focused on refining error messages so that they are easier for the users to pinpoint what went wrong and where. Since the modeling pipeline can be quite complicated, getting uninformative errors is a no-go.&lt;/p>
&lt;p>Across the tidymodels, error messages will now indicate the user-facing function that caused the error rather than the internal function that it came from.&lt;/p>
&lt;p>From dials, an error that looked like&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">degree&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">range&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">1L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="m">5L&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">#&amp;gt; Error in `new_quant_param()`:&lt;/span>
&lt;span class="c1">#&amp;gt; ! Since `type = &amp;#39;double&amp;#39;`, please use that data type for the range.&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now says that the error came from &lt;code>degree()&lt;/code> rather than &lt;code>new_quant_param()&lt;/code>&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>degree&lt;/span>&lt;span class='o'>(&lt;/span>range &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>1L&lt;/span>, &lt;span class='m'>5L&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00; font-weight: bold;'>Error&lt;/span>&lt;span style='font-weight: bold;'> in `degree()`:&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00;'>!&lt;/span> Since `type = 'double'`, please use that data type for the range.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The same thing can be seen with the yardstick metrics&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">mtcars&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">accuracy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">am&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; Error in `dplyr::summarise()`:&lt;/span>
&lt;span class="c1">#&amp;gt; ℹ In argument: `.estimate = metric_fn(truth = vs, estimate = am, na_rm =&lt;/span>
&lt;span class="c1">#&amp;gt; na_rm)`.&lt;/span>
&lt;span class="c1">#&amp;gt; Caused by error in `validate_class()`:&lt;/span>
&lt;span class="c1">#&amp;gt; ! `truth` should be a factor but a numeric was supplied.&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>which now errors much more informatively&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>mtcars&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>accuracy&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>vs&lt;/span>, &lt;span class='nv'>am&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00; font-weight: bold;'>Error&lt;/span>&lt;span style='font-weight: bold;'> in `accuracy()`:&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00;'>!&lt;/span> `truth` should be a factor, not a `numeric`.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Lastly, one of the biggest improvements came in recipes, which now shows which step caused the error instead of saying it happened in
&lt;a href="https://recipes.tidymodels.org/reference/prep.html" target="_blank" rel="noopener">&lt;code>prep()&lt;/code>&lt;/a> or
&lt;a href="https://recipes.tidymodels.org/reference/bake.html" target="_blank" rel="noopener">&lt;code>bake()&lt;/code>&lt;/a>. This is a huge improvement since preprocessing pipelines which often string together many preprocessing steps.&lt;/p>
&lt;p>Before&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">.,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ames&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">step_novel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Neighborhood&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">new_level&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Gilbert&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">prep&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1">#&amp;gt; Error in `prep()`:&lt;/span>
&lt;span class="c1">#&amp;gt; ! Columns already contain the new level: Neighborhood&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/recipe.html'>recipe&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>~&lt;/span>&lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/step_novel.html'>step_novel&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Neighborhood&lt;/span>, new_level &lt;span class='o'>=&lt;/span> &lt;span class='s'>"Gilbert"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/prep.html'>prep&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00; font-weight: bold;'>Error&lt;/span>&lt;span style='font-weight: bold;'> in `step_novel()`:&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='font-weight: bold;'>Caused by error in `prep()` at recipes/R/recipe.R:437:8:&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00;'>!&lt;/span> Columns already contain the new level: Neighborhood&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Especially when calls to recipes functions are deeply nested inside the call stack, like in &lt;code>fit_resamples()&lt;/code> or &lt;code>tune_grid()&lt;/code>, these changes make a big difference.&lt;/p>
&lt;h2 id="things-are-getting-faster">Things are getting faster
&lt;a href="#things-are-getting-faster">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>As we have written about in
&lt;a href="https://www.simonpcouch.com/blog/speedups-2023/" target="_blank" rel="noopener">The tidymodels is getting a whole lot faster&lt;/a> and
&lt;a href="https://www.tidyverse.org/blog/2023/04/performant-packages/" target="_blank" rel="noopener">Writing performant code with tidy tools&lt;/a>, we have been working on tightening up the performance of the tidymodels code. These changes are mostly related to the infrastructure code, meaning that the speedup will bring you to closer underlying implementations.&lt;/p>
&lt;p>A different kind of speedup is found with the addition of the
&lt;a href="https://embed.tidymodels.org/reference/step_pca_truncated.html" target="_blank" rel="noopener">step_pca_truncated()&lt;/a> step added in the embed package.&lt;/p>
&lt;p>
&lt;a href="https://en.wikipedia.org/wiki/Principal_component_analysis" target="_blank" rel="noopener">Principal Component Analysis&lt;/a> is a really powerful and fast method for dimensionality reduction of large data sets. However, for data with many columns, it can be computationally expensive to calculate all the principal components.
&lt;a href="https://embed.tidymodels.org/reference/step_pca_truncated.html" target="_blank" rel="noopener">&lt;code>step_pca_truncated()&lt;/code>&lt;/a> works in much the same way as
&lt;a href="https://recipes.tidymodels.org/reference/step_pca.html" target="_blank" rel="noopener">&lt;code>step_pca()&lt;/code>&lt;/a> but it only calculates the number of components it needs&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>pca_normal&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/recipe.html'>recipe&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/step_dummy.html'>step_dummy&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/has_role.html'>all_nominal_predictors&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/step_pca.html'>step_pca&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/has_role.html'>all_numeric_predictors&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>, num_comp &lt;span class='o'>=&lt;/span> &lt;span class='m'>3&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>pca_truncated&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/recipe.html'>recipe&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/step_dummy.html'>step_dummy&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/has_role.html'>all_nominal_predictors&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://embed.tidymodels.org/reference/step_pca_truncated.html'>step_pca_truncated&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/has_role.html'>all_numeric_predictors&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>, num_comp &lt;span class='o'>=&lt;/span> &lt;span class='m'>3&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>tictoc&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/pkg/tictoc/man/tic.html'>tic&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/prep.html'>prep&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>pca_normal&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span> &lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/bake.html'>bake&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 2,930 × 4&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Sale_Price PC1 PC2 PC3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> &lt;span style='text-decoration: underline;'>215&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>31&lt;/span>&lt;span style='color: #BB0000;'>793.&lt;/span> &lt;span style='text-decoration: underline;'>4&lt;/span>151. -&lt;span style='color: #BB0000;'>197.&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> &lt;span style='text-decoration: underline;'>105&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>12&lt;/span>&lt;span style='color: #BB0000;'>198.&lt;/span> -&lt;span style='color: #BB0000;'>611.&lt;/span> -&lt;span style='color: #BB0000;'>524.&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> &lt;span style='text-decoration: underline;'>172&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>14&lt;/span>&lt;span style='color: #BB0000;'>911.&lt;/span> -&lt;span style='color: #BB0000;'>265.&lt;/span> &lt;span style='text-decoration: underline;'>7&lt;/span>568.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> &lt;span style='text-decoration: underline;'>244&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>12&lt;/span>&lt;span style='color: #BB0000;'>072.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>1&lt;/span>&lt;span style='color: #BB0000;'>813.&lt;/span> 918.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> &lt;span style='text-decoration: underline;'>189&lt;/span>900 -&lt;span style='color: #BB0000; text-decoration: underline;'>14&lt;/span>&lt;span style='color: #BB0000;'>418.&lt;/span> -&lt;span style='color: #BB0000;'>345.&lt;/span> -&lt;span style='color: #BB0000;'>302.&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> &lt;span style='text-decoration: underline;'>195&lt;/span>500 -&lt;span style='color: #BB0000; text-decoration: underline;'>10&lt;/span>&lt;span style='color: #BB0000;'>704.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>1&lt;/span>&lt;span style='color: #BB0000;'>367.&lt;/span> -&lt;span style='color: #BB0000;'>204.&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> &lt;span style='text-decoration: underline;'>213&lt;/span>500 -&lt;span style='color: #BB0000; text-decoration: underline;'>5&lt;/span>&lt;span style='color: #BB0000;'>858.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>2&lt;/span>&lt;span style='color: #BB0000;'>805.&lt;/span> 114.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> &lt;span style='text-decoration: underline;'>191&lt;/span>500 -&lt;span style='color: #BB0000; text-decoration: underline;'>5&lt;/span>&lt;span style='color: #BB0000;'>932.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>2&lt;/span>&lt;span style='color: #BB0000;'>762.&lt;/span> 131.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> &lt;span style='text-decoration: underline;'>236&lt;/span>500 -&lt;span style='color: #BB0000; text-decoration: underline;'>6&lt;/span>&lt;span style='color: #BB0000;'>368.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>2&lt;/span>&lt;span style='color: #BB0000;'>862.&lt;/span> 325.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> &lt;span style='text-decoration: underline;'>189&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>8&lt;/span>&lt;span style='color: #BB0000;'>368.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>2&lt;/span>&lt;span style='color: #BB0000;'>219.&lt;/span> 126.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 2,920 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='nf'>tictoc&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/pkg/tictoc/man/tic.html'>toc&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 0.782 sec elapsed&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>tictoc&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/pkg/tictoc/man/tic.html'>tic&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/prep.html'>prep&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>pca_truncated&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span> &lt;span class='nf'>&lt;a href='https://recipes.tidymodels.org/reference/bake.html'>bake&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 2,930 × 4&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Sale_Price PC1 PC2 PC3&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> &lt;span style='text-decoration: underline;'>215&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>31&lt;/span>&lt;span style='color: #BB0000;'>793.&lt;/span> &lt;span style='text-decoration: underline;'>4&lt;/span>151. -&lt;span style='color: #BB0000;'>197.&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> &lt;span style='text-decoration: underline;'>105&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>12&lt;/span>&lt;span style='color: #BB0000;'>198.&lt;/span> -&lt;span style='color: #BB0000;'>611.&lt;/span> -&lt;span style='color: #BB0000;'>524.&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> &lt;span style='text-decoration: underline;'>172&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>14&lt;/span>&lt;span style='color: #BB0000;'>911.&lt;/span> -&lt;span style='color: #BB0000;'>265.&lt;/span> &lt;span style='text-decoration: underline;'>7&lt;/span>568.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> &lt;span style='text-decoration: underline;'>244&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>12&lt;/span>&lt;span style='color: #BB0000;'>072.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>1&lt;/span>&lt;span style='color: #BB0000;'>813.&lt;/span> 918.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> &lt;span style='text-decoration: underline;'>189&lt;/span>900 -&lt;span style='color: #BB0000; text-decoration: underline;'>14&lt;/span>&lt;span style='color: #BB0000;'>418.&lt;/span> -&lt;span style='color: #BB0000;'>345.&lt;/span> -&lt;span style='color: #BB0000;'>302.&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> &lt;span style='text-decoration: underline;'>195&lt;/span>500 -&lt;span style='color: #BB0000; text-decoration: underline;'>10&lt;/span>&lt;span style='color: #BB0000;'>704.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>1&lt;/span>&lt;span style='color: #BB0000;'>367.&lt;/span> -&lt;span style='color: #BB0000;'>204.&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> &lt;span style='text-decoration: underline;'>213&lt;/span>500 -&lt;span style='color: #BB0000; text-decoration: underline;'>5&lt;/span>&lt;span style='color: #BB0000;'>858.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>2&lt;/span>&lt;span style='color: #BB0000;'>805.&lt;/span> 114.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> &lt;span style='text-decoration: underline;'>191&lt;/span>500 -&lt;span style='color: #BB0000; text-decoration: underline;'>5&lt;/span>&lt;span style='color: #BB0000;'>932.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>2&lt;/span>&lt;span style='color: #BB0000;'>762.&lt;/span> 131.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> &lt;span style='text-decoration: underline;'>236&lt;/span>500 -&lt;span style='color: #BB0000; text-decoration: underline;'>6&lt;/span>&lt;span style='color: #BB0000;'>368.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>2&lt;/span>&lt;span style='color: #BB0000;'>862.&lt;/span> 325.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> &lt;span style='text-decoration: underline;'>189&lt;/span>000 -&lt;span style='color: #BB0000; text-decoration: underline;'>8&lt;/span>&lt;span style='color: #BB0000;'>368.&lt;/span> -&lt;span style='color: #BB0000; text-decoration: underline;'>2&lt;/span>&lt;span style='color: #BB0000;'>219.&lt;/span> 126.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 2,920 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='nf'>tictoc&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/pkg/tictoc/man/tic.html'>toc&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 0.162 sec elapsed&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The speedup will be orders of magnitude larger for very wide data.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We&amp;rsquo;d like to thank those in the community that contributed to tidymodels in the last quarter:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>agua:
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>baguette:
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>broom:
&lt;a href="https://github.com/benwhalley" target="_blank" rel="noopener">@benwhalley&lt;/a>,
&lt;a href="https://github.com/dgrtwo" target="_blank" rel="noopener">@dgrtwo&lt;/a>,
&lt;a href="https://github.com/egosv" target="_blank" rel="noopener">@egosv&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/JorisChau" target="_blank" rel="noopener">@JorisChau&lt;/a>,
&lt;a href="https://github.com/mccarthy-m-g" target="_blank" rel="noopener">@mccarthy-m-g&lt;/a>,
&lt;a href="https://github.com/MichaelChirico" target="_blank" rel="noopener">@MichaelChirico&lt;/a>,
&lt;a href="https://github.com/paige-cho" target="_blank" rel="noopener">@paige-cho&lt;/a>,
&lt;a href="https://github.com/PoGibas" target="_blank" rel="noopener">@PoGibas&lt;/a>,
&lt;a href="https://github.com/rsbivand" target="_blank" rel="noopener">@rsbivand&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/ste-tuf" target="_blank" rel="noopener">@ste-tuf&lt;/a>, and
&lt;a href="https://github.com/victor-vscn" target="_blank" rel="noopener">@victor-vscn&lt;/a>.&lt;/li>
&lt;li>butcher:
&lt;a href="https://github.com/ashbythorpe" target="_blank" rel="noopener">@ashbythorpe&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/rdavis120" target="_blank" rel="noopener">@rdavis120&lt;/a>,
&lt;a href="https://github.com/rkb965" target="_blank" rel="noopener">@rkb965&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>censored:
&lt;a href="https://github.com/brunocarlin" target="_blank" rel="noopener">@brunocarlin&lt;/a>, and
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>.&lt;/li>
&lt;li>dials:
&lt;a href="https://github.com/amin0511ss" target="_blank" rel="noopener">@amin0511ss&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>discrim:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>, and
&lt;a href="https://github.com/tomwagstaff-opml" target="_blank" rel="noopener">@tomwagstaff-opml&lt;/a>.&lt;/li>
&lt;li>embed:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/jackobenco016" target="_blank" rel="noopener">@jackobenco016&lt;/a>, and
&lt;a href="https://github.com/skasowitz" target="_blank" rel="noopener">@skasowitz&lt;/a>.&lt;/li>
&lt;li>finetune:
&lt;a href="https://github.com/Freestyleyang" target="_blank" rel="noopener">@Freestyleyang&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>hardhat:
&lt;a href="https://github.com/cregouby" target="_blank" rel="noopener">@cregouby&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/frank113" target="_blank" rel="noopener">@frank113&lt;/a>, and
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>.&lt;/li>
&lt;li>modeldata:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>parsnip:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/emmafeuer" target="_blank" rel="noopener">@emmafeuer&lt;/a>,
&lt;a href="https://github.com/exsell-jc" target="_blank" rel="noopener">@exsell-jc&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/mariamaseng" target="_blank" rel="noopener">@mariamaseng&lt;/a>,
&lt;a href="https://github.com/SHo-JANG" target="_blank" rel="noopener">@SHo-JANG&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/Tripartio" target="_blank" rel="noopener">@Tripartio&lt;/a>.&lt;/li>
&lt;li>recipes:
&lt;a href="https://github.com/AshesITR" target="_blank" rel="noopener">@AshesITR&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jjcurtin" target="_blank" rel="noopener">@jjcurtin&lt;/a>,
&lt;a href="https://github.com/lang-benjamin" target="_blank" rel="noopener">@lang-benjamin&lt;/a>,
&lt;a href="https://github.com/lbui30" target="_blank" rel="noopener">@lbui30&lt;/a>,
&lt;a href="https://github.com/PeterKoffeldt" target="_blank" rel="noopener">@PeterKoffeldt&lt;/a>,
&lt;a href="https://github.com/rdavis120" target="_blank" rel="noopener">@rdavis120&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/StevenWallaert" target="_blank" rel="noopener">@StevenWallaert&lt;/a>,
&lt;a href="https://github.com/tellyshia" target="_blank" rel="noopener">@tellyshia&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/ttrodrigz" target="_blank" rel="noopener">@ttrodrigz&lt;/a>, and
&lt;a href="https://github.com/zecojls" target="_blank" rel="noopener">@zecojls&lt;/a>.&lt;/li>
&lt;li>rules:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jonthegeek" target="_blank" rel="noopener">@jonthegeek&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>spatialsample:
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>, and
&lt;a href="https://github.com/RaymondBalise" target="_blank" rel="noopener">@RaymondBalise&lt;/a>.&lt;/li>
&lt;li>stacks:
&lt;a href="https://github.com/amin0511ss" target="_blank" rel="noopener">@amin0511ss&lt;/a>,
&lt;a href="https://github.com/gundalav" target="_blank" rel="noopener">@gundalav&lt;/a>,
&lt;a href="https://github.com/jrosell" target="_blank" rel="noopener">@jrosell&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/pbulsink" target="_blank" rel="noopener">@pbulsink&lt;/a>,
&lt;a href="https://github.com/rdavis120" target="_blank" rel="noopener">@rdavis120&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>textrecipes:
&lt;a href="https://github.com/apsteinmetz" target="_blank" rel="noopener">@apsteinmetz&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/gary-mu" target="_blank" rel="noopener">@gary-mu&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/nipnipj" target="_blank" rel="noopener">@nipnipj&lt;/a>.&lt;/li>
&lt;li>themis:
&lt;a href="https://github.com/carlganz" target="_blank" rel="noopener">@carlganz&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/nipnipj" target="_blank" rel="noopener">@nipnipj&lt;/a>,
&lt;a href="https://github.com/rmurphy49" target="_blank" rel="noopener">@rmurphy49&lt;/a>, and
&lt;a href="https://github.com/rowanjh" target="_blank" rel="noopener">@rowanjh&lt;/a>.&lt;/li>
&lt;li>tidyclust:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/hsbadr" target="_blank" rel="noopener">@hsbadr&lt;/a>,
&lt;a href="https://github.com/jonthegeek" target="_blank" rel="noopener">@jonthegeek&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>tidypredict:
&lt;a href="https://github.com/edgararuiz" target="_blank" rel="noopener">@edgararuiz&lt;/a>, and
&lt;a href="https://github.com/sdcharle" target="_blank" rel="noopener">@sdcharle&lt;/a>.&lt;/li>
&lt;li>tune:
&lt;a href="https://github.com/BenoitLondon" target="_blank" rel="noopener">@BenoitLondon&lt;/a>,
&lt;a href="https://github.com/cphaarmeyer" target="_blank" rel="noopener">@cphaarmeyer&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jthomasmock" target="_blank" rel="noopener">@jthomasmock&lt;/a>,
&lt;a href="https://github.com/mrjujas" target="_blank" rel="noopener">@mrjujas&lt;/a>,
&lt;a href="https://github.com/MxNl" target="_blank" rel="noopener">@MxNl&lt;/a>,
&lt;a href="https://github.com/nabsiddiqui" target="_blank" rel="noopener">@nabsiddiqui&lt;/a>,
&lt;a href="https://github.com/rdavis120" target="_blank" rel="noopener">@rdavis120&lt;/a>,
&lt;a href="https://github.com/SHo-JANG" target="_blank" rel="noopener">@SHo-JANG&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/walrossker" target="_blank" rel="noopener">@walrossker&lt;/a>, and
&lt;a href="https://github.com/yusuftengriverdi" target="_blank" rel="noopener">@yusuftengriverdi&lt;/a>.&lt;/li>
&lt;li>workflows:
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>workflowsets:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/gsimchoni" target="_blank" rel="noopener">@gsimchoni&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>yardstick:
&lt;a href="https://github.com/77makr" target="_blank" rel="noopener">@77makr&lt;/a>,
&lt;a href="https://github.com/burch-cm" target="_blank" rel="noopener">@burch-cm&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/idavydov" target="_blank" rel="noopener">@idavydov&lt;/a>,
&lt;a href="https://github.com/kadyb" target="_blank" rel="noopener">@kadyb&lt;/a>,
&lt;a href="https://github.com/mawardivaz" target="_blank" rel="noopener">@mawardivaz&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/moloscripts" target="_blank" rel="noopener">@moloscripts&lt;/a>,
&lt;a href="https://github.com/nyambea" target="_blank" rel="noopener">@nyambea&lt;/a>,
&lt;a href="https://github.com/SHo-JANG" target="_blank" rel="noopener">@SHo-JANG&lt;/a>,
&lt;a href="https://github.com/simdadim" target="_blank" rel="noopener">@simdadim&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;re grateful for all of the tidymodels community, from observers to users to contributors. Happy modeling!&lt;/p></description></item><item><title>Tuning hyperparameters with tidymodels is a delight</title><link>https://www.tidyverse.org/blog/2023/04/tuning-delights/</link><pubDate>Thu, 20 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2023/04/tuning-delights/</guid><description>&lt;p>The tidymodels team recently released new versions of the tune, finetune, and workflowsets packages, and we&amp;rsquo;re super stoked about it! Each of these three packages facilitates tuning hyperparameters in tidymodels, and their new releases work to make the experience of hyperparameter tuning more joyful.&lt;/p>
&lt;p>You can install these releases from CRAN with:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/install.packages.html'>install.packages&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"tune"&lt;/span>, &lt;span class='s'>"workflowsets"&lt;/span>, &lt;span class='s'>"finetune"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This blog post will highlight some of new changes in these packages that we&amp;rsquo;re most excited about.&lt;/p>
&lt;p>You can see the full lists of changes in the release notes for each package:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://github.com/tidymodels/tune/releases/tag/v1.1.0" target="_blank" rel="noopener">tune v1.1.0&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://github.com/tidymodels/workflowsets/releases/tag/v1.0.1" target="_blank" rel="noopener">workflowsets v1.0.1&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://github.com/tidymodels/finetune/releases/tag/v1.1.0" target="_blank" rel="noopener">finetune v1.1.0&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://github.com/tidymodels/finetune'>finetune&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="a-shorthand-for-fitting-the-optimal-model">A shorthand for fitting the optimal model
&lt;a href="#a-shorthand-for-fitting-the-optimal-model">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>In tidymodels, the result of tuning a set of hyperparameters is a data structure describing the candidate models, their predictions, and the performance metrics associated with those predictions. For example, tuning the number of &lt;code>neighbors&lt;/code> in a &lt;code>nearest_neighbors()&lt;/code> model over a regular grid:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='c'># tune the `neighbors` hyperparameter&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>knn_model_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>nearest_neighbor&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"regression"&lt;/span>, neighbors &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://hardhat.tidymodels.org/reference/tune.html'>tune&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>tuning_res&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/tune_grid.html'>tune_grid&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nv'>knn_model_spec&lt;/span>,&lt;/span>
&lt;span> &lt;span class='nv'>mpg&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>,&lt;/span>
&lt;span> &lt;span class='nf'>bootstraps&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mtcars&lt;/span>, &lt;span class='m'>5&lt;/span>&lt;span class='o'>)&lt;/span>,&lt;/span>
&lt;span> control &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/control_grid.html'>control_grid&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>save_workflow &lt;span class='o'>=&lt;/span> &lt;span class='kc'>TRUE&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span> &lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='c'># check out the resulting object&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>tuning_res&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; # Tuning results&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; # Bootstrap sampling &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 5 × 4&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; splits id .metrics .notes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/11]&amp;gt;&lt;/span> Bootstrap1 &lt;span style='color: #555555;'>&amp;lt;tibble [20 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/12]&amp;gt;&lt;/span> Bootstrap2 &lt;span style='color: #555555;'>&amp;lt;tibble [20 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>3&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/11]&amp;gt;&lt;/span> Bootstrap3 &lt;span style='color: #555555;'>&amp;lt;tibble [20 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>4&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/10]&amp;gt;&lt;/span> Bootstrap4 &lt;span style='color: #555555;'>&amp;lt;tibble [20 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>5&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/12]&amp;gt;&lt;/span> Bootstrap5 &lt;span style='color: #555555;'>&amp;lt;tibble [20 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;/span>
&lt;span>&lt;span class='c'># examine proposed hyperparameters and associated metrics&lt;/span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/collect_predictions.html'>collect_metrics&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>tuning_res&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 20 × 7&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; neighbors .metric .estimator mean n std_err .config &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> 2 rmse standard 3.19 5 0.208 Preprocessor1_Model01&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> 2 rsq standard 0.664 5 0.086&lt;span style='text-decoration: underline;'>1&lt;/span> Preprocessor1_Model01&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> 3 rmse standard 3.13 5 0.266 Preprocessor1_Model02&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> 3 rsq standard 0.678 5 0.086&lt;span style='text-decoration: underline;'>8&lt;/span> Preprocessor1_Model02&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> 4 rmse standard 3.11 5 0.292 Preprocessor1_Model03&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> 4 rsq standard 0.684 5 0.085&lt;span style='text-decoration: underline;'>1&lt;/span> Preprocessor1_Model03&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> 5 rmse standard 3.10 5 0.287 Preprocessor1_Model04&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> 5 rsq standard 0.686 5 0.083&lt;span style='text-decoration: underline;'>9&lt;/span> Preprocessor1_Model04&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> 8 rmse standard 3.08 5 0.263 Preprocessor1_Model05&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> 8 rsq standard 0.689 5 0.084&lt;span style='text-decoration: underline;'>3&lt;/span> Preprocessor1_Model05&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>11&lt;/span> 9 rmse standard 3.07 5 0.256 Preprocessor1_Model06&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>12&lt;/span> 9 rsq standard 0.691 5 0.084&lt;span style='text-decoration: underline;'>5&lt;/span> Preprocessor1_Model06&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>13&lt;/span> 10 rmse standard 3.06 5 0.247 Preprocessor1_Model07&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>14&lt;/span> 10 rsq standard 0.693 5 0.083&lt;span style='text-decoration: underline;'>7&lt;/span> Preprocessor1_Model07&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>15&lt;/span> 11 rmse standard 3.05 5 0.241 Preprocessor1_Model08&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>16&lt;/span> 11 rsq standard 0.696 5 0.083&lt;span style='text-decoration: underline;'>3&lt;/span> Preprocessor1_Model08&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>17&lt;/span> 13 rmse standard 3.03 5 0.236 Preprocessor1_Model09&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>18&lt;/span> 13 rsq standard 0.701 5 0.082&lt;span style='text-decoration: underline;'>0&lt;/span> Preprocessor1_Model09&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>19&lt;/span> 14 rmse standard 3.02 5 0.235 Preprocessor1_Model10&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>20&lt;/span> 14 rsq standard 0.704 5 0.080&lt;span style='text-decoration: underline;'>8&lt;/span> Preprocessor1_Model10&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Given these tuning results, the next steps are to choose the &amp;ldquo;best&amp;rdquo; hyperparameters, assign those hyperparameters to the model, and fit the finalized model on the training set. Previously in tidymodels, this has felt like:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='c'># choose a method to define "best" and extract the resulting parameters&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>best_param&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/show_best.html'>select_best&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>tuning_res&lt;/span>, &lt;span class='s'>"rmse"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='c'># assign those parameters to model&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>knn_model_final&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/finalize_model.html'>finalize_model&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>knn_model_spec&lt;/span>, &lt;span class='nv'>best_param&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='c'># fit the finalized model to the training set&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>knn_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>fit&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>knn_model_final&lt;/span>, &lt;span class='nv'>mpg&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Voilà! &lt;code>knn_fit&lt;/code> is a properly resampled model that is ready to
&lt;a href="https://rdrr.io/r/stats/predict.html" target="_blank" rel="noopener">&lt;code>predict()&lt;/code>&lt;/a> on new data:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>knn_fit&lt;/span>, &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>[&lt;/span>&lt;span class='m'>1&lt;/span>, &lt;span class='o'>]&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 1 × 1&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> 22.0&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The newest release of tune introduced a shorthand interface for going from tuning results to final fit called
&lt;a href="https://tune.tidymodels.org/reference/fit_best.html" target="_blank" rel="noopener">&lt;code>fit_best()&lt;/code>&lt;/a>. The function wraps each of those three functions with sensible defaults to abbreviate the process described above.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>knn_fit_2&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/fit_best.html'>fit_best&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>tuning_res&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>knn_fit_2&lt;/span>, &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>[&lt;/span>&lt;span class='m'>1&lt;/span>, &lt;span class='o'>]&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 1 × 1&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> 22.0&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This function is closely related to the
&lt;a href="https://tune.tidymodels.org/reference/last_fit.html" target="_blank" rel="noopener">&lt;code>last_fit()&lt;/code>&lt;/a> function. They both give you access to a workflow fitted on the training data but are situated somewhat differently in the modeling workflow.
&lt;a href="https://tune.tidymodels.org/reference/fit_best.html" target="_blank" rel="noopener">&lt;code>fit_best()&lt;/code>&lt;/a> picks up after a tuning function like
&lt;a href="https://tune.tidymodels.org/reference/tune_grid.html" target="_blank" rel="noopener">&lt;code>tune_grid()&lt;/code>&lt;/a> to take you from tuning results to fitted workflow, ready for you to predict and assess further.
&lt;a href="https://tune.tidymodels.org/reference/last_fit.html" target="_blank" rel="noopener">&lt;code>last_fit()&lt;/code>&lt;/a> assumes you have made your choice of hyperparameters and finalized your workflow to then take you from finalized workflow to fitted workflow and further to performance assessment on the test data. While
&lt;a href="https://tune.tidymodels.org/reference/fit_best.html" target="_blank" rel="noopener">&lt;code>fit_best()&lt;/code>&lt;/a> gives a fitted workflow,
&lt;a href="https://tune.tidymodels.org/reference/last_fit.html" target="_blank" rel="noopener">&lt;code>last_fit()&lt;/code>&lt;/a> gives you the performance results. If you want the fitted workflow, you can extract it from the result of
&lt;a href="https://tune.tidymodels.org/reference/last_fit.html" target="_blank" rel="noopener">&lt;code>last_fit()&lt;/code>&lt;/a> via
&lt;a href="https://hardhat.tidymodels.org/reference/hardhat-extract.html" target="_blank" rel="noopener">&lt;code>extract_workflow()&lt;/code>&lt;/a>.&lt;/p>
&lt;p>The newest release of the workflowsets package also includes a
&lt;a href="https://tune.tidymodels.org/reference/fit_best.html" target="_blank" rel="noopener">&lt;code>fit_best()&lt;/code>&lt;/a> method for workflow set objects. Given a set of tuning results, that method will sift through all of the possible models to find and fit the optimal model configuration.&lt;/p>
&lt;h2 id="interactive-issue-logging">Interactive issue logging
&lt;a href="#interactive-issue-logging">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Imagine, in the previous example, we made some subtle error in specifying the tuning process. For example, passing a function to &lt;code>extract&lt;/code> elements of the proposed workflows that injects some warnings and errors into the tuning process:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>raise_concerns&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='kr'>function&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>x&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&amp;#123;&lt;/span>&lt;/span>
&lt;span> &lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/warning.html'>warning&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"Ummm, wait. :o"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span> &lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/stop.html'>stop&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"Eep! Nooo!"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>&amp;#125;&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>tuning_res&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/tune_grid.html'>tune_grid&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nv'>knn_model_spec&lt;/span>,&lt;/span>
&lt;span> &lt;span class='nv'>mpg&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>,&lt;/span>
&lt;span> &lt;span class='nf'>bootstraps&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mtcars&lt;/span>, &lt;span class='m'>5&lt;/span>&lt;span class='o'>)&lt;/span>,&lt;/span>
&lt;span> control &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/control_grid.html'>control_grid&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>extract &lt;span class='o'>=&lt;/span> &lt;span class='nv'>raise_concerns&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span> &lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Warnings and errors can come up in all sorts of places while tuning hyperparameters. Often, with obvious issues, we can raise errors early on and halt the tuning process, but with more subtle concerns, we don&amp;rsquo;t want to be too restrictive; it&amp;rsquo;s sometimes better to defer to the underlying modeling packages to decide what&amp;rsquo;s a dire issue versus something that can be worked around.&lt;/p>
&lt;p>In the past, we&amp;rsquo;ve raised warnings and issues as they occur, printing context on the issue to the console before logging the issue in the tuning result. In the above example, this would look like:&lt;/p>
&lt;pre>&lt;code>! Bootstrap1: preprocessor 1/1, model 1/1 (extracts): Ummm, wait. :o
x Bootstrap1: preprocessor 1/1, model 1/1 (extracts): Error in extractor(object): Eep! Nooo!
! Bootstrap2: preprocessor 1/1, model 1/1 (extracts): Ummm, wait. :o
x Bootstrap2: preprocessor 1/1, model 1/1 (extracts): Error in extractor(object): Eep! Nooo!
! Bootstrap3: preprocessor 1/1, model 1/1 (extracts): Ummm, wait. :o
x Bootstrap3: preprocessor 1/1, model 1/1 (extracts): Error in extractor(object): Eep! Nooo!
! Bootstrap4: preprocessor 1/1, model 1/1 (extracts): Ummm, wait. :o
x Bootstrap4: preprocessor 1/1, model 1/1 (extracts): Error in extractor(object): Eep! Nooo!
! Bootstrap5: preprocessor 1/1, model 1/1 (extracts): Ummm, wait. :o
x Bootstrap5: preprocessor 1/1, model 1/1 (extracts): Error in extractor(object): Eep! Nooo!
&lt;/code>&lt;/pre>
&lt;p>The above messages are super descriptive about where issues occur&amp;mdash;they note in which resample, from which proposed modeling workflow, and in which part of the fitting process the issues occurred in. At the same time, they are quite repetitive; if there&amp;rsquo;s an issue during hyperparameter tuning, it probably occurs in every resample, always in the same place. If, instead, we were evaluating this model against 1,000 resamples, or there were more than just two issues, this output could get very overwhelming very quickly.&lt;/p>
&lt;p>The new releases of our tuning packages include tools to determine which tuning issues are unique, and for each unique issue, only print out the message once while maintaining a dynamic count of how many times the issue occurred. With the new tune release, the same output would look like:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;span>&lt;span class='c'>#&amp;gt; → &lt;span style='color: #BBBB00; font-weight: bold;'>A&lt;/span> | &lt;span style='color: #BBBB00;'>warning&lt;/span>: Ummm, wait. :o&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;span class='c'>#&amp;gt; → &lt;span style='color: #BB0000; font-weight: bold;'>B&lt;/span> | &lt;span style='color: #BB0000;'>error&lt;/span>: Eep! Nooo!&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; There were issues with some computations &lt;span style='color: #BBBB00; font-weight: bold;'>A&lt;/span>: x5 &lt;span style='color: #BB0000; font-weight: bold;'>B&lt;/span>: x5&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This interface is hopefully less overwhelming for users. When the messages attached to these issues aren&amp;rsquo;t enough to debug the issue, the complete set of information about the issues lives inside of the tuning result object, and can be retrieved with &lt;code>collect_notes(tuning_res)&lt;/code>. To turn off the interactive logging, set the &lt;code>verbose&lt;/code> control option to &lt;code>TRUE&lt;/code>.&lt;/p>
&lt;h2 id="speedups">Speedups
&lt;a href="#speedups">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Each of these three releases, as well as releases of core tidymodels packages they depend on like parsnip, recipes, and hardhat, include a plethora of changes meant to optimize computational performance. Especially for modeling practitioners who work with many resamples and/or small data sets, our modeling workflows will feel a whole lot snappier:&lt;/p>
&lt;p>&lt;img src="https://simonpcouch.com/blog/speedups-2023/index_files/figure-html/unnamed-chunk-10-1.png" alt="A ggplot2 line graph plotting relative change in time to evaluate model fits with the tidymodels packages. Fits on datasets with 100 training rows are 2 to 3 times faster, while fits on datasets with 100,000 or more rows take about the same amount of time as they used to.">&lt;/p>
&lt;p>With 100-row training data sets, the time to resample models with tune and friends has been at least halved. These releases are the first iteration of a set of changes to reduce the evaluation time of tidymodels code, and users can expect further optimizations in coming releases! See
&lt;a href="https://www.simonpcouch.com/blog/speedups-2023/" target="_blank" rel="noopener">this post on my blog&lt;/a> for more information about those speedups.&lt;/p>
&lt;h2 id="bonus-points">Bonus points
&lt;a href="#bonus-points">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Although they&amp;rsquo;re smaller in scope, we wanted to highlight two additional developments in tuning hyperparameters with tidymodels.&lt;/p>
&lt;h3 id="workflow-set-support-for-tidyclust">Workflow set support for tidyclust
&lt;a href="#workflow-set-support-for-tidyclust">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>The recent tidymodels package
&lt;a href="github.com/tidymodels/tidyclust">tidyclust&lt;/a> introduced support for fitting and tuning clustering models in tidymodels. That package&amp;rsquo;s function
&lt;a href="https://tidyclust.tidymodels.org/reference/tune_cluster.html" target="_blank" rel="noopener">&lt;code>tune_cluster()&lt;/code>&lt;/a> is now an option for tuning in
&lt;a href="https://workflowsets.tidymodels.org/reference/workflow_map.html" target="_blank" rel="noopener">&lt;code>workflow_map()&lt;/code>&lt;/a>, meaning that users can fit sets of clustering models and preprocessors using workflow sets. These changes further integrate the tidyclust package into tidymodels framework.&lt;/p>
&lt;h3 id="refined-retrieval-of-intermediate-results">Refined retrieval of intermediate results
&lt;a href="#refined-retrieval-of-intermediate-results">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h3>&lt;p>The &lt;code>.Last.tune.result&lt;/code> helper stores the most recent tuning result in the object &lt;code>.Last.tune.result&lt;/code> as a fail-safe in cases of interrupted tuning, uncaught tuning errors, and simply forgetting to assign tuning results to an object.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='c'># be a silly goose and forget to assign results&lt;/span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/tune_grid.html'>tune_grid&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nv'>knn_model_spec&lt;/span>,&lt;/span>
&lt;span> &lt;span class='nv'>mpg&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>,&lt;/span>
&lt;span> &lt;span class='nf'>bootstraps&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mtcars&lt;/span>, &lt;span class='m'>5&lt;/span>&lt;span class='o'>)&lt;/span>,&lt;/span>
&lt;span> control &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/control_grid.html'>control_grid&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>save_workflow &lt;span class='o'>=&lt;/span> &lt;span class='kc'>TRUE&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; # Tuning results&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; # Bootstrap sampling &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 5 × 4&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; splits id .metrics .notes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/11]&amp;gt;&lt;/span> Bootstrap1 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/14]&amp;gt;&lt;/span> Bootstrap2 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>3&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/13]&amp;gt;&lt;/span> Bootstrap3 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>4&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/12]&amp;gt;&lt;/span> Bootstrap4 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>5&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/11]&amp;gt;&lt;/span> Bootstrap5 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;/span>
&lt;span>&lt;span class='c'># all is not lost!&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>.Last.tune.result&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; # Tuning results&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; # Bootstrap sampling &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 5 × 4&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; splits id .metrics .notes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;list&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/11]&amp;gt;&lt;/span> Bootstrap1 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/14]&amp;gt;&lt;/span> Bootstrap2 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>3&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/13]&amp;gt;&lt;/span> Bootstrap3 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>4&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/12]&amp;gt;&lt;/span> Bootstrap4 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>5&lt;/span> &lt;span style='color: #555555;'>&amp;lt;split [32/11]&amp;gt;&lt;/span> Bootstrap5 &lt;span style='color: #555555;'>&amp;lt;tibble [18 × 5]&amp;gt;&lt;/span> &lt;span style='color: #555555;'>&amp;lt;tibble [0 × 3]&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;span>&lt;/span>
&lt;span>&lt;span class='c'># assign to object after the fact&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>res&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nv'>.Last.tune.result&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>These three releases introduce support for the &lt;code>.Last.tune.result&lt;/code> object in more settings and refine support in existing implementations.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Thanks to
&lt;a href="https://github.com/walrossker" target="_blank" rel="noopener">@walrossker&lt;/a>,
&lt;a href="https://github.com/Freestyleyang" target="_blank" rel="noopener">@Freestyleyang&lt;/a>, and
&lt;a href="https://github.com/Jeffrothschild" target="_blank" rel="noopener">@Jeffrothschild&lt;/a> for their contributions to these packages since their last releases.&lt;/p>
&lt;p>Happy modeling, y&amp;rsquo;all!&lt;/p></description></item><item><title>Q4 2022 tidymodels digest</title><link>https://www.tidyverse.org/blog/2022/12/tidymodels-2022-q4/</link><pubDate>Thu, 29 Dec 2022 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2022/12/tidymodels-2022-q4/</guid><description>&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;p>Since the beginning of 2021, we have been publishing
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">quarterly updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like these posts from the past couple months:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/12/tidyclust-0-1-0/" target="_blank" rel="noopener">tidyclust is on CRAN&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/11/model-calibration/" target="_blank" rel="noopener">Model calibration&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/10/parsnip-checking-1-0-2/" target="_blank" rel="noopener">Improvements to model specification checking in tidymodels&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2022/10/tidymodels-2022-q3/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been CRAN releases of 9 tidymodels packages. Here are links to their NEWS files:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>bonsai
&lt;a href="https://bonsai.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.2.1)&lt;/a>&lt;/li>
&lt;li>broom
&lt;a href="https://broom.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.2)&lt;/a>&lt;/li>
&lt;li>butcher
&lt;a href="https://butcher.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.3.1)&lt;/a>&lt;/li>
&lt;li>dials
&lt;a href="https://dials.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;li>parsnip
&lt;a href="https://parsnip.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.3)&lt;/a>&lt;/li>
&lt;li>recipes
&lt;a href="https://recipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.3)&lt;/a>&lt;/li>
&lt;li>rsample
&lt;a href="https://rsample.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.1)&lt;/a>&lt;/li>
&lt;li>stacks
&lt;a href="https://stacks.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>workflows
&lt;a href="https://workflows.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.2)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;ll highlight a few especially notable changes below: more specialized role selectors in recipes, extended support for grouped resampling in rsample, and a big speedup in parsnip. First, loading the collection of packages:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="specialized-role-selectors">Specialized role selectors
&lt;a href="#specialized-role-selectors">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The
&lt;a href="https://recipes.tidymodels.org/" target="_blank" rel="noopener">recipes package for preprocessing&lt;/a> supports tidyselect-style variable selection, and includes some of its own selectors to support common modeling workflows.&lt;/p>
&lt;p>To illustrate, we&amp;rsquo;ll make use of a dataset &lt;code>goofy_data&lt;/code> with a number of different variable types:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/str.html'>str&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>goofy_data&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; tibble [100 × 10] (S3: tbl_df/tbl/data.frame)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ class: Factor w/ 2 levels "class_1","class_2": 1 1 2 1 2 1 1 2 2 2 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ a : Factor w/ 7 levels "-3","-2","-1",..: 4 4 3 2 4 5 2 2 3 5 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ b : Factor w/ 9 levels "-4","-3","-2",..: 9 5 4 3 4 7 4 2 3 6 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ c : int [1:100] 0 0 0 0 0 0 0 -1 0 1 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ d : int [1:100] 0 1 1 1 0 1 1 0 0 1 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ e : int [1:100] 1 0 1 0 0 1 1 0 1 1 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ f : num [1:100] 1.01 -1.99 2.18 2.3 -3.01 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ g : num [1:100] -0.845 1.456 1.948 1.354 1.085 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ h : num [1:100] -0.285 0.59 -0.938 1.447 0.424 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; $ i : chr [1:100] "white" "maroon" "maroon" "maroon" ...&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Imagine a classification problem on the &lt;code>goofy_data&lt;/code> where we&amp;rsquo;d like to predict &lt;code>class&lt;/code> using the remaining variables as predictors. The selector functions allow us to perform operations on only the predictors with a certain class. For instance, centering and scaling all numeric predictors:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>class&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, &lt;span class='nv'>goofy_data&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_normalize&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_numeric_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Recipe&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Inputs:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; role #variables&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; outcome 1&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; predictor 9&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Training data contained 100 data points and no missing data.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Operations:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Centering and scaling for c, d, e, f, g, h [trained]&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Or making dummy variables out of each of the nominal predictors:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>class&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, &lt;span class='nv'>goofy_data&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_dummy&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_nominal_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Recipe&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Inputs:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; role #variables&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; outcome 1&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; predictor 9&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Training data contained 100 data points and no missing data.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Operations:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Dummy variables from a, b, i [trained]&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Operations like those above have been long-standing functionality in recipes, and are powerful tools for effective modeling. The most recent release of recipes introduced
&lt;a href="https://fosstodon.org/@emilhvitfeldt/109315135944110742" target="_blank" rel="noopener">finer-grain selectors&lt;/a> for variable types. For instance, we may want to only center and scale the &lt;em>double&lt;/em> (i.e. real-valued) predictors, excluding the integers. With the new release of recipes, we can easily do so:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>class&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, &lt;span class='nv'>goofy_data&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_normalize&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_double_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Recipe&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Inputs:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; role #variables&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; outcome 1&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; predictor 9&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Training data contained 100 data points and no missing data.&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Operations:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Centering and scaling for f, g, h [trained]&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This is one of a number of new selectors:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>The &lt;code>all_nominal()&lt;/code> selector now has finer-grained versions &lt;code>all_string()&lt;/code>, &lt;code>all_factor()&lt;/code>, &lt;code>all_unordered()&lt;/code>, and &lt;code>all_ordered()&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;code>all_numeric()&lt;/code> selector now has finer-grained versions &lt;code>all_double()&lt;/code>, and &lt;code>all_integer()&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>New &lt;code>all_logical()&lt;/code>, &lt;code>all_date()&lt;/code>, and &lt;code>all_datetime()&lt;/code> selectors.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>All new selectors have &lt;code>*_predictors()&lt;/code> variants. You can read more about recipes 1.0.3 in the
&lt;a href="https://recipes.tidymodels.org/news/index.html#recipes-103" target="_blank" rel="noopener">release notes&lt;/a>.&lt;/p>
&lt;h2 id="grouped-resampling">Grouped resampling
&lt;a href="#grouped-resampling">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The most recent release of rsample introduced support for stratification with grouped resampling. Consider the following toy data set on the number of melons in a household:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>melons&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 4,928 × 3&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; household n_melons chops&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> 1 114 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> 1 179 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> 1 163 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> 1 35 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> 1 93 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> 1 55 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> 1 165 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> 1 30 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> 1 140 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> 1 7 Yes &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># … with 4,918 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>There are 100 different households in this dataset. Each member of the household has some number of melons &lt;code>n_melons&lt;/code> in their fridge. A household, i.e., all its members, either &lt;code>chops&lt;/code> their melons or keeps them whole.&lt;/p>
&lt;p>Each of the resampling functions in rsample have a &lt;code>group_*&lt;/code>ed analogue. From rsample&amp;rsquo;s
&lt;a href="https://rsample.tidymodels.org/articles/Common_Patterns.html#grouped-resampling" target="_blank" rel="noopener">&amp;ldquo;Common Patterns&amp;rdquo; article&lt;/a>:&lt;/p>
&lt;blockquote>
&lt;p>Often, some observations in your data will be &amp;ldquo;more related&amp;rdquo; to each other than would be probable under random chance, for instance because they represent repeated measurements of the same subject or were all collected at a single location. In these situations, you often want to assign all related observations to either the analysis or assessment fold as a group, to avoid having assessment data that's closely related to the data used to fit a model.&lt;/p>
&lt;/blockquote>
&lt;p>For example, the grouped &lt;code>initial_split()&lt;/code> variant will allot the training and testing set mutually exclusive levels of the &lt;code>group&lt;/code> variable:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>resample&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>group_initial_split&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>melons&lt;/span>, group &lt;span class='o'>=&lt;/span> &lt;span class='nv'>household&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/sum.html'>sum&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/unique.html'>unique&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>training&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>resample&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>household&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://rdrr.io/r/base/match.html'>%in%&lt;/a>&lt;/span> &lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/unique.html'>unique&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>testing&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>resample&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>household&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; [1] 0&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>However, note that there are only a few households that don&amp;rsquo;t chop their melons, and those households tend to have many more melons to chop!&lt;/p>
&lt;div class="highlight">
&lt;p>&lt;img src="figs/melon-plot-1.png" alt="A ggplot histogram displaying the mean number of melons per household, filled by whether the household chops their melons or not. The plot shows that there are relatively few households that don't chop their melons, but those households have many more melons to chop. Households that chop their melons have around 80 to chop, while those that don't have around 200." width="700px" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>If we&amp;rsquo;re ultimately interested in modeling whether a household chops their melons, we ought to ensure that both values of &lt;code>chops&lt;/code> are well-represented in both the training and testing set. The argument &lt;code>strata = chops&lt;/code> indicates that sampling by &lt;code>household&lt;/code> will occur within values of &lt;code>chops&lt;/code>. Note that the strata must be constant in each group, so here, all members of a household need to either chop or not.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>resample_stratified&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>group_initial_split&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>melons&lt;/span>, group &lt;span class='o'>=&lt;/span> &lt;span class='nv'>household&lt;/span>, strata &lt;span class='o'>=&lt;/span> &lt;span class='nv'>chops&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Note that this resampling scheme still resulted in different &lt;code>household&lt;/code>s being allotted to training and testing:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/sum.html'>sum&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/unique.html'>unique&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>training&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>resample_stratified&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>household&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://rdrr.io/r/base/match.html'>%in%&lt;/a>&lt;/span> &lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/unique.html'>unique&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>testing&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>resample_stratified&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>household&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; [1] 0&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Also, though, it ensured that similar proportions of &lt;code>chops&lt;/code> values are allotted to the training and testing set:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/diff.html'>diff&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/mean.html'>mean&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>training&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>resample_stratified&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>chops&lt;/span> &lt;span class='o'>==&lt;/span> &lt;span class='s'>"Yes"&lt;/span>&lt;span class='o'>)&lt;/span>,&lt;/span>
&lt;span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/mean.html'>mean&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>testing&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>resample_stratified&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>chops&lt;/span> &lt;span class='o'>==&lt;/span> &lt;span class='s'>"Yes"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; [1] 0.01000042&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>You can read more about rsample 1.1.1 in the
&lt;a href="https://rsample.tidymodels.org/news/index.html#rsample-111" target="_blank" rel="noopener">release notes&lt;/a>.&lt;/p>
&lt;h2 id="performance-speedup">Performance speedup
&lt;a href="#performance-speedup">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We recently made a performance tweak, released as part of parsnip 1.0.3, that resulted in a substantial speedup in fit time. Fitting models via parsnip is a fundamental operation in the tidymodels, so the speedup can be observed across many modeling workflows.&lt;/p>
&lt;p>The figure below demonstrates this speedup in
&lt;a href="https://gist.github.com/simonpcouch/651d0ea4d968b455ded8194578dabf52" target="_blank" rel="noopener">an experiment&lt;/a> involving fitting a simple linear regression model on resamples of simulated data. Simulated datasets with between one hundred and one million rows were partitioned into five, ten, or twenty folds and fitted with the new version of parsnip as well as the version preceding it. With smaller datasets, the speedup is negligible, but fit times decrease by a factor of three to five once training data reaches one million rows.&lt;/p>
&lt;div class="highlight">
&lt;p>&lt;img src="figs/speedup-1.png" alt="A ggplot line plot displaying the relative speedup between parsnip 1.0.2 and 1.0.3. The number of rows in training data is on the x axis, ranging from one hundred to one million, and the factor of speedup (1.0.2 over 1.0.3) is on the y axis, ranging from 1 to 5. Three lines, colored by 'number of folds,' noting 5, 10, or 20 resamples, stretch from the bottom left to top right of the plot. This shows that, as training data gets larger, the magnitude of speedup with the new parsnip version gets larger and larger." width="100%" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>You can read more about parsnip 1.0.3 in the
&lt;a href="https://parsnip.tidymodels.org/news/index.html#parsnip-103" target="_blank" rel="noopener">release notes&lt;/a>.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We&amp;rsquo;d like to thank those in the community that contributed to tidymodels in the last quarter:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>bonsai:
&lt;a href="https://github.com/HenrikBengtsson" target="_blank" rel="noopener">@HenrikBengtsson&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>broom:
&lt;a href="https://github.com/amorris28" target="_blank" rel="noopener">@amorris28&lt;/a>,
&lt;a href="https://github.com/capnrefsmmat" target="_blank" rel="noopener">@capnrefsmmat&lt;/a>,
&lt;a href="https://github.com/larmarange" target="_blank" rel="noopener">@larmarange&lt;/a>,
&lt;a href="https://github.com/lukepilling" target="_blank" rel="noopener">@lukepilling&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>butcher:
&lt;a href="https://github.com/galen-ft" target="_blank" rel="noopener">@galen-ft&lt;/a>, and
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>.&lt;/li>
&lt;li>dials:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/Tadge-Analytics" target="_blank" rel="noopener">@Tadge-Analytics&lt;/a>.&lt;/li>
&lt;li>parsnip:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/exsell-jc" target="_blank" rel="noopener">@exsell-jc&lt;/a>,
&lt;a href="https://github.com/fkohrt" target="_blank" rel="noopener">@fkohrt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jonthegeek" target="_blank" rel="noopener">@jonthegeek&lt;/a>,
&lt;a href="https://github.com/Marwolaeth" target="_blank" rel="noopener">@Marwolaeth&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/schoonees" target="_blank" rel="noopener">@schoonees&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/sweiner123" target="_blank" rel="noopener">@sweiner123&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>recipes:
&lt;a href="https://github.com/andeek" target="_blank" rel="noopener">@andeek&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>, and
&lt;a href="https://github.com/mobius-eng" target="_blank" rel="noopener">@mobius-eng&lt;/a>.&lt;/li>
&lt;li>rsample:
&lt;a href="https://github.com/bschneidr" target="_blank" rel="noopener">@bschneidr&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/pgg1309" target="_blank" rel="noopener">@pgg1309&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>stacks:
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>workflows:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/talegari" target="_blank" rel="noopener">@talegari&lt;/a>, and
&lt;a href="https://github.com/xiaochi-liu" target="_blank" rel="noopener">@xiaochi-liu&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;re grateful for all of the tidymodels community, from observers to users to contributors, and wish you all a happy new year!&lt;/p></description></item><item><title>Q3 2022 tidymodels digest</title><link>https://www.tidyverse.org/blog/2022/10/tidymodels-2022-q3/</link><pubDate>Wed, 19 Oct 2022 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2022/10/tidymodels-2022-q3/</guid><description>&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;p>Since the beginning of 2021, we have been publishing
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">quarterly updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like these from the past month or so:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/10/parsnip-checking-1-0-2/" target="_blank" rel="noopener">Improvements to model specification checking in tidymodels&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/09/brulee-0-2-0/" target="_blank" rel="noopener">brulee 0.2.0&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/09/bundle-0-1-0/" target="_blank" rel="noopener">Announcing bundle&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/08/censored-0-1-0/" target="_blank" rel="noopener">censored 0.1.0&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/08/rsample-1-1-0/" target="_blank" rel="noopener">rsample 1.1.0&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2022/07/tidymodels-2022-q2/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been CRAN releases of 22 tidymodels packages. Here are links to their NEWS files:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>agua
&lt;a href="https://agua.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.1.0)&lt;/a>&lt;/li>
&lt;li>applicable
&lt;a href="https://github.com/tidymodels/applicable/blob/develop/NEWS.md" target="_blank" rel="noopener">(0.1.0)&lt;/a>&lt;/li>
&lt;li>bonsai
&lt;a href="https://bonsai.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.2.0)&lt;/a>&lt;/li>
&lt;li>broom
&lt;a href="https://broom.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>brulee
&lt;a href="https://brulee.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.2.0)&lt;/a>&lt;/li>
&lt;li>butcher
&lt;a href="https://butcher.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.3.0)&lt;/a>&lt;/li>
&lt;li>censored
&lt;a href="https://censored.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.1.1)&lt;/a>&lt;/li>
&lt;li>corrr
&lt;a href="https://corrr.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.4.4)&lt;/a>&lt;/li>
&lt;li>finetune
&lt;a href="https://finetune.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>modeldata
&lt;a href="https://modeldata.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>modeldb
&lt;a href="https://modeldb.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.2.3)&lt;/a>&lt;/li>
&lt;li>parsnip
&lt;a href="https://parsnip.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.2)&lt;/a>&lt;/li>
&lt;li>plsmod
&lt;a href="https://plsmod.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.0)&lt;/a>&lt;/li>
&lt;li>poissonreg
&lt;a href="https://poissonreg.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>probably
&lt;a href="https://probably.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.1.0)&lt;/a>&lt;/li>
&lt;li>recipes
&lt;a href="https://recipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.2)&lt;/a>&lt;/li>
&lt;li>rsample
&lt;a href="https://rsample.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;li>spatialsample
&lt;a href="https://spatialsample.tidymodels.org/news/index.html" target="_blank" rel="noopener">(0.2.1)&lt;/a>&lt;/li>
&lt;li>textrecipes
&lt;a href="https://textrecipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>tune
&lt;a href="https://tune.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.0.1)&lt;/a>&lt;/li>
&lt;li>workflows
&lt;a href="https://workflows.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;li>yardstick
&lt;a href="https://yardstick.tidymodels.org/news/index.html" target="_blank" rel="noopener">(1.1.0)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>We&amp;rsquo;ll highlight two specific upgrades: one for agua and another for recipes.&lt;/p>
&lt;h2 id="a-big-upgrade-for-agua">A big upgrade for agua
&lt;a href="#a-big-upgrade-for-agua">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>With version 3.38.0.1 of the
&lt;a href="https://cran.r-project.org/package=h2o" target="_blank" rel="noopener">h2o&lt;/a> package, agua can now tune h2o models as if they were any other type of model engine.&lt;/p>
&lt;p>
&lt;a href="https://h2o.ai" target="_blank" rel="noopener">h2o&lt;/a> has an excellent server-based computational engine for fitting a variety of different machine learning and statistical models. The h2o server can run locally or on some external high performance computing server. The downside is that it is light on tools for feature engineering and interactive data analysis.&lt;/p>
&lt;p>Using h2o with tidymodels enables users to leverage the benefits of packages like recipes along with fast, server-based parallel processing.&lt;/p>
&lt;p>While the syntax for model fitting and tuning are the same as any other non-h2o model, there are different ways to parallelize the work:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>The h2o server has the ability to internally parallelize individual model computations. For example, when fitting trees, the search for the best split can be done using multiple threads. The number of threads that each model should be used is set with
&lt;a href="https://docs.h2o.ai/h2o/latest-stable/h2o-r/docs/reference/h2o.init.html" target="_blank" rel="noopener">h2o.init(nthreads)&lt;/a>. The default (&lt;code>-1&lt;/code>) is to use all CPUs on the host.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>When using grid search,
&lt;a href="https://docs.h2o.ai/h2o/latest-stable/h2o-r/docs/reference/h2o.grid.html" target="_blank" rel="noopener">h2o.grid(parallelism)&lt;/a> determines how many models the h2o server should process at the same time. The default (&lt;code>1&lt;/code>) constrains the server to run the models sequentially.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>R has external parallelization tools (such as the foreach and future packages) that can start new R processes to simultaneously do work. This would run many models in parallel. For h2o, this determines how many models the agua package could send to the server at once. This does not appear to be constrained by the &lt;code>parallelism&lt;/code> argument to &lt;code>h2o.grid()&lt;/code>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>With h2o and tidymodels, you should probably &lt;strong>use h2o&amp;rsquo;s parallelization&lt;/strong>. Using multiple approaches &lt;em>can&lt;/em> work but only for some technologies. It&amp;rsquo;s still
&lt;a href="https://github.com/topepo/agua-h2o-benchmark" target="_blank" rel="noopener">pretty complicated&lt;/a> but we are working on un-complicating it.&lt;/p>
&lt;p>To set up h2o parallelization, there is a new control argument called &lt;code>backend_options&lt;/code>. If you were doing a grid search, you first define how many threads the h2o server should use:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tidymodels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">agua&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">finetune&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">h2o_thread_spec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">agua_backend_options&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">parallelism&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Then, pass the output to any of the existing control functions:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">grid_ctrl&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">control_grid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">backend_options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">h2o_thread_spec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now h2o can parallel process 10 models at once.&lt;/p>
&lt;p>Here is an example using a simulated data set with a numeric outcome:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://agua.tidymodels.org/'>agua&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://github.com/tidymodels/finetune'>finetune&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='c'># Simulate the data&lt;/span>
&lt;span class='nv'>n_train&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='m'>200&lt;/span>
&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>6147&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>sim_dat&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>sim_regression&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>n_train&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='c'># Resample using 10-fold cross-validation&lt;/span>
&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>91&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>sim_rs&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>vfold_cv&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>sim_dat&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>We&amp;rsquo;ll use grid search to tune a boosted tree:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nv'>boost_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>
&lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/boost_tree.html'>boost_tree&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>
trees &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://hardhat.tidymodels.org/reference/tune.html'>tune&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>,
min_n &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://hardhat.tidymodels.org/reference/tune.html'>tune&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>,
tree_depth &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://hardhat.tidymodels.org/reference/tune.html'>tune&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>,
learn_rate &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://hardhat.tidymodels.org/reference/tune.html'>tune&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>,
loss_reduction &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://hardhat.tidymodels.org/reference/tune.html'>tune&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>
&lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"h2o"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>
&lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/set_args.html'>set_mode&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"regression"&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Now, let&amp;rsquo;s parallel process our computations.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='c'># Start the h2o server&lt;/span>
&lt;span class='nf'>h2o&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/pkg/h2o/man/h2o.init.html'>h2o.init&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='c'># Multi-thread the model fits&lt;/span>
&lt;span class='nv'>h2o_thread_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://agua.tidymodels.org/reference/h2o_tune.html'>agua_backend_options&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>parallelism &lt;span class='o'>=&lt;/span> &lt;span class='m'>10&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>grid_ctrl&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/control_grid.html'>control_grid&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>backend_options &lt;span class='o'>=&lt;/span> &lt;span class='nv'>h2o_thread_spec&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>We&amp;rsquo;ll evaluate a very small grid at first:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>7616&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>grid_res&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>
&lt;span class='nv'>boost_spec&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>
&lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/tune_grid.html'>tune_grid&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>outcome&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, resamples &lt;span class='o'>=&lt;/span> &lt;span class='nv'>sim_rs&lt;/span>, grid &lt;span class='o'>=&lt;/span> &lt;span class='m'>10&lt;/span>, control &lt;span class='o'>=&lt;/span> &lt;span class='nv'>grid_ctrl&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;/code>&lt;/pre>
&lt;/div>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nf'>&lt;a href='https://tune.tidymodels.org/reference/show_best.html'>show_best&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>grid_res&lt;/span>, metric &lt;span class='o'>=&lt;/span> &lt;span class='s'>"rmse"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span> &lt;span class='nf'>select&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>-&lt;/span>&lt;span class='nv'>.config&lt;/span>, &lt;span class='o'>-&lt;/span>&lt;span class='nv'>.metric&lt;/span>, &lt;span class='o'>-&lt;/span>&lt;span class='nv'>.estimator&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 5 × 8&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; trees min_n tree_depth learn_rate loss_reduction mean n std_err&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> &lt;span style='text-decoration: underline;'>1&lt;/span>954 17 13 0.031&lt;span style='text-decoration: underline;'>8&lt;/span> 6.08&lt;span style='color: #555555;'>e&lt;/span>&lt;span style='color: #BB0000;'>-8&lt;/span> 13.1 10 0.828&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> 184 25 4 0.000&lt;span style='text-decoration: underline;'>000&lt;/span>001&lt;span style='text-decoration: underline;'>64&lt;/span> 6.56&lt;span style='color: #555555;'>e&lt;/span>&lt;span style='color: #BB0000;'>-1&lt;/span> 15.7 10 1.03 &lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>3&lt;/span> &lt;span style='text-decoration: underline;'>1&lt;/span>068 10 8 0.000&lt;span style='text-decoration: underline;'>040&lt;/span>9 1.19&lt;span style='color: #555555;'>e&lt;/span>+1 17.4 10 1.08 &lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>4&lt;/span> &lt;span style='text-decoration: underline;'>1&lt;/span>500 37 10 0.000&lt;span style='text-decoration: underline;'>010&lt;/span>8 9.97&lt;span style='color: #555555;'>e&lt;/span>&lt;span style='color: #BB0000;'>-9&lt;/span> 18.3 10 1.03 &lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>5&lt;/span> 985 18 7 0.000&lt;span style='text-decoration: underline;'>000&lt;/span>045&lt;span style='text-decoration: underline;'>4&lt;/span> 1.84&lt;span style='color: #555555;'>e&lt;/span>&lt;span style='color: #BB0000;'>-3&lt;/span> 18.4 10 1.04&lt;/span>
&lt;span class='nf'>&lt;a href='https://ggplot2.tidyverse.org/reference/autoplot.html'>autoplot&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>grid_res&lt;/span>, metric &lt;span class='o'>=&lt;/span> &lt;span class='s'>"rmse"&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="figs/grid-plot-1.svg" width="90%" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>It was a small grid and most of the configurations were not especially good. We can further optimize the results by applying simulated annealing search to the best grid results.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nv'>sa_ctrl&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://finetune.tidymodels.org/reference/control_sim_anneal.html'>control_sim_anneal&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>backend_options &lt;span class='o'>=&lt;/span> &lt;span class='nv'>h2o_thread_spec&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>4&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>sa_res&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>
&lt;span class='nv'>boost_spec&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>
&lt;span class='nf'>&lt;a href='https://finetune.tidymodels.org/reference/tune_sim_anneal.html'>tune_sim_anneal&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>
&lt;span class='nv'>outcome&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>,
resamples &lt;span class='o'>=&lt;/span> &lt;span class='nv'>sim_rs&lt;/span>,
initial &lt;span class='o'>=&lt;/span> &lt;span class='nv'>grid_res&lt;/span>,
iter &lt;span class='o'>=&lt;/span> &lt;span class='m'>25&lt;/span>,
control &lt;span class='o'>=&lt;/span> &lt;span class='nv'>sa_ctrl&lt;/span>
&lt;span class='o'>)&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>Optimizing rmse&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>Initial best: 13.06400&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'> 1 &lt;/span>&lt;span style='color: #00BB00;'>♥ new best &lt;/span>&lt;span style='color: #000000;'> rmse=12.688 (+/-0.7899)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'> 2 &lt;/span>&lt;span style='color: #BBBB00;'>◯ accept suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=12.849 (+/-0.8304)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'> 3 &lt;/span>&lt;span style='color: #BBBB00;'>◯ accept suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=13.129 (+/-0.8266)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'> 4 &lt;/span>&lt;span style='color: #BBBB00;'>◯ accept suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=13.678 (+/-0.9544)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'> 5 &lt;/span>&lt;span style='color: #00BB00;'>+ better suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=13.433 (+/-0.792)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'> 6 &lt;/span>&lt;span style='color: #00BB00;'>+ better suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=12.99 (+/-0.9031)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'> 7 &lt;/span>&lt;span style='color: #BB0000;'>─ discard suboptimal&lt;/span>&lt;span style='color: #000000;'> rmse=16.531 (+/-1.027)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'> 8 &lt;/span>&lt;span style='color: #BB0000;'>─ discard suboptimal&lt;/span>&lt;span style='color: #000000;'> rmse=13.522 (+/-0.9802)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'> 9 &lt;/span>&lt;span style='color: #BB0000;'>✖ restart from best &lt;/span>&lt;span style='color: #000000;'> rmse=13.097 (+/-0.8109)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>10 &lt;/span>&lt;span style='color: #00BB00;'>♥ new best &lt;/span>&lt;span style='color: #000000;'> rmse=12.66 (+/-0.8028)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>11 &lt;/span>&lt;span style='color: #BBBB00;'>◯ accept suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=13.116 (+/-0.8135)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>12 &lt;/span>&lt;span style='color: #00BB00;'>+ better suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=12.714 (+/-0.7747)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>13 &lt;/span>&lt;span style='color: #BB0000;'>─ discard suboptimal&lt;/span>&lt;span style='color: #000000;'> rmse=13.074 (+/-0.6598)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>14 &lt;/span>&lt;span style='color: #BB0000;'>─ discard suboptimal&lt;/span>&lt;span style='color: #000000;'> rmse=14.489 (+/-1.028)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>15 &lt;/span>&lt;span style='color: #BBBB00;'>◯ accept suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=12.715 (+/-0.8043)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>16 &lt;/span>&lt;span style='color: #BB0000;'>─ discard suboptimal&lt;/span>&lt;span style='color: #000000;'> rmse=13.788 (+/-1.027)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>17 &lt;/span>&lt;span style='color: #BB0000;'>─ discard suboptimal&lt;/span>&lt;span style='color: #000000;'> rmse=13.057 (+/-0.7716)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>18 &lt;/span>&lt;span style='color: #BB0000;'>✖ restart from best &lt;/span>&lt;span style='color: #000000;'> rmse=13.064 (+/-0.7095)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>19 &lt;/span>&lt;span style='color: #00BB00;'>♥ new best &lt;/span>&lt;span style='color: #000000;'> rmse=12.645 (+/-0.7706)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>20 &lt;/span>&lt;span style='color: #BBBB00;'>◯ accept suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=12.7 (+/-0.821)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>21 &lt;/span>&lt;span style='color: #BB0000;'>─ discard suboptimal&lt;/span>&lt;span style='color: #000000;'> rmse=13.018 (+/-0.8047)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>22 &lt;/span>&lt;span style='color: #BB0000;'>─ discard suboptimal&lt;/span>&lt;span style='color: #000000;'> rmse=14.812 (+/-1.017)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>23 &lt;/span>&lt;span style='color: #BB0000;'>─ discard suboptimal&lt;/span>&lt;span style='color: #000000;'> rmse=13.098 (+/-0.921)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>24 &lt;/span>&lt;span style='color: #BBBB00;'>◯ accept suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=12.708 (+/-0.7538)&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #000000;'>25 &lt;/span>&lt;span style='color: #BBBB00;'>◯ accept suboptimal &lt;/span>&lt;span style='color: #000000;'> rmse=13.054 (+/-0.9046)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Again, h2o is doing all of the computational work for fitting models and tidymodels is proposing new parameter configurations.&lt;/p>
&lt;p>One other nice feature of the new agua release is the h2o engine for the
&lt;a href="https://parsnip.tidymodels.org/reference/auto_ml.html" target="_blank" rel="noopener">&lt;code>auto_ml()&lt;/code>&lt;/a> model. This builds a stacked ensemble on a set of different models (not unlike our
&lt;a href="https://stacks.tidymodels.org" target="_blank" rel="noopener">stacks&lt;/a> package but with far less code).&lt;/p>
&lt;p>There is a great worked example
&lt;a href="https://agua.tidymodels.org/articles/auto_ml.html" target="_blank" rel="noopener">on the agua website&lt;/a> so make sure to check this out!&lt;/p>
&lt;h2 id="more-spline-recipe-steps">More spline recipe steps
&lt;a href="#more-spline-recipe-steps">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Spline techniques allow linear models to produce nonlinear model curves. These are called
&lt;a href="https://bookdown.org/max/FES/numeric-one-to-many.html#numeric-basis-functions" target="_blank" rel="noopener">basis expansion methods&lt;/a> since they take a single numeric predictor and make additional nonlinear feature columns.&lt;/p>
&lt;p>If you have ever used &lt;code>geom:smooth()&lt;/code>, you have probably used a spline function.&lt;/p>
&lt;p>The recipes package now has an expanded set of spline functions (with a common naming convention):&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/dev/reference/step_spline_b.html" target="_blank" rel="noopener">&lt;code>step_spline_b()&lt;/code>&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/dev/reference/step_spline_convex.html" target="_blank" rel="noopener">&lt;code>step_spline_convex()&lt;/code>&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/dev/reference/step_spline_monotone.html" target="_blank" rel="noopener">&lt;code>step_spline_monotone()&lt;/code>&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/dev/reference/step_spline_natural.html" target="_blank" rel="noopener">&lt;code>step_spline_natural()&lt;/code>&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/dev/reference/step_spline_nonnegative.html" target="_blank" rel="noopener">&lt;code>step_spline_nonnegative()&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>There is also another step to make polynomial functions:
&lt;a href="https://recipes.tidymodels.org/dev/reference/step_poly_bernstein.html" target="_blank" rel="noopener">&lt;code>step_poly_bernstein()&lt;/code>&lt;/a>&lt;/p>
&lt;p>These functions take different approaches to creating the new set of features. Take a look at the references to see the technical details.&lt;/p>
&lt;p>Here is a simple example using the
&lt;a href="https://www.tmwr.org/ames.html" target="_blank" rel="noopener">Ames data&lt;/a> where we model the sale price as a nonlinear function of the longitude using a convex basis function:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/data.html'>data&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>ames&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Log.html'>log10&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>spline_rec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Sale_Price&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>Longitude&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>
&lt;span class='nf'>step_spline_convex&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Longitude&lt;/span>, deg_free &lt;span class='o'>=&lt;/span> &lt;span class='m'>25&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>spline_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>
&lt;span class='nv'>spline_rec&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>
&lt;span class='nf'>workflow&lt;/span>&lt;span class='o'>(&lt;/span> &lt;span class='nf'>&lt;a href='https://parsnip.tidymodels.org/reference/linear_reg.html'>linear_reg&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>
&lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/fit.html'>fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>spline_fit&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>
&lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/augment.html'>augment&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>ames&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>&lt;a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&amp;gt;%&lt;/a>&lt;/span>
&lt;span class='nf'>ggplot&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>aes&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>Longitude&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>+&lt;/span>
&lt;span class='nf'>geom_point&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>aes&lt;/span>&lt;span class='o'>(&lt;/span>y &lt;span class='o'>=&lt;/span> &lt;span class='nv'>Sale_Price&lt;/span>&lt;span class='o'>)&lt;/span>, alpha &lt;span class='o'>=&lt;/span> &lt;span class='m'>1&lt;/span> &lt;span class='o'>/&lt;/span> &lt;span class='m'>3&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>+&lt;/span>
&lt;span class='nf'>geom_line&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>aes&lt;/span>&lt;span class='o'>(&lt;/span>y &lt;span class='o'>=&lt;/span> &lt;span class='nv'>.pred&lt;/span>&lt;span class='o'>)&lt;/span>, col &lt;span class='o'>=&lt;/span> &lt;span class='s'>"red"&lt;/span>, lwd &lt;span class='o'>=&lt;/span> &lt;span class='m'>1.5&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="figs/Longitude-1.svg" width="70%" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;p>Not too bad but the model clearly over-fits on the extreme right tail of the predictor distribution.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>It&amp;rsquo;s important that we thank everyone in the community that contributed to tidymodels:&lt;/p>
&lt;div class="highlight">
&lt;ul>
&lt;li>agua:
&lt;a href="https://github.com/coforfe" target="_blank" rel="noopener">@coforfe&lt;/a>,
&lt;a href="https://github.com/gouthaman87" target="_blank" rel="noopener">@gouthaman87&lt;/a>,
&lt;a href="https://github.com/jeliason" target="_blank" rel="noopener">@jeliason&lt;/a>,
&lt;a href="https://github.com/qiushiyan" target="_blank" rel="noopener">@qiushiyan&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>applicable:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>bonsai:
&lt;a href="https://github.com/barrettlayman" target="_blank" rel="noopener">@barrettlayman&lt;/a>,
&lt;a href="https://github.com/DesmondChoy" target="_blank" rel="noopener">@DesmondChoy&lt;/a>,
&lt;a href="https://github.com/dfsnow" target="_blank" rel="noopener">@dfsnow&lt;/a>,
&lt;a href="https://github.com/dpprdan" target="_blank" rel="noopener">@dpprdan&lt;/a>,
&lt;a href="https://github.com/jameslamb" target="_blank" rel="noopener">@jameslamb&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>broom:
&lt;a href="https://github.com/AaronRendahl" target="_blank" rel="noopener">@AaronRendahl&lt;/a>,
&lt;a href="https://github.com/AmeliaMN" target="_blank" rel="noopener">@AmeliaMN&lt;/a>,
&lt;a href="https://github.com/bbolker" target="_blank" rel="noopener">@bbolker&lt;/a>,
&lt;a href="https://github.com/capnrefsmmat" target="_blank" rel="noopener">@capnrefsmmat&lt;/a>,
&lt;a href="https://github.com/corybrunson" target="_blank" rel="noopener">@corybrunson&lt;/a>,
&lt;a href="https://github.com/ddsjoberg" target="_blank" rel="noopener">@ddsjoberg&lt;/a>,
&lt;a href="https://github.com/friendly" target="_blank" rel="noopener">@friendly&lt;/a>,
&lt;a href="https://github.com/johanneskoch94" target="_blank" rel="noopener">@johanneskoch94&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>brulee:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>butcher:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>censored:
&lt;a href="https://github.com/bcjaeger" target="_blank" rel="noopener">@bcjaeger&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/therneau" target="_blank" rel="noopener">@therneau&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>corrr:
&lt;a href="https://github.com/jagodap" target="_blank" rel="noopener">@jagodap&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>finetune:
&lt;a href="https://github.com/DMozzanica" target="_blank" rel="noopener">@DMozzanica&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/qiushiyan" target="_blank" rel="noopener">@qiushiyan&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>modeldata:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>modeldb:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>parsnip:
&lt;a href="https://github.com/barnabywalker" target="_blank" rel="noopener">@barnabywalker&lt;/a>,
&lt;a href="https://github.com/bcjaeger" target="_blank" rel="noopener">@bcjaeger&lt;/a>,
&lt;a href="https://github.com/ben-e" target="_blank" rel="noopener">@ben-e&lt;/a>,
&lt;a href="https://github.com/CarmenCiardiello" target="_blank" rel="noopener">@CarmenCiardiello&lt;/a>,
&lt;a href="https://github.com/daniel-althoff" target="_blank" rel="noopener">@daniel-althoff&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/gustavomodelli" target="_blank" rel="noopener">@gustavomodelli&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/john-b-edwards" target="_blank" rel="noopener">@john-b-edwards&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mdneuzerling" target="_blank" rel="noopener">@mdneuzerling&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/mrkaye97" target="_blank" rel="noopener">@mrkaye97&lt;/a>,
&lt;a href="https://github.com/qiushiyan" target="_blank" rel="noopener">@qiushiyan&lt;/a>,
&lt;a href="https://github.com/siegfried" target="_blank" rel="noopener">@siegfried&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/TylerGrantSmith" target="_blank" rel="noopener">@TylerGrantSmith&lt;/a>, and
&lt;a href="https://github.com/zhaoliang0302" target="_blank" rel="noopener">@zhaoliang0302&lt;/a>.&lt;/li>
&lt;li>plsmod:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>poissonreg:
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/li>
&lt;li>probably:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>.&lt;/li>
&lt;li>recipes:
&lt;a href="https://github.com/abichat" target="_blank" rel="noopener">@abichat&lt;/a>,
&lt;a href="https://github.com/adisarid" target="_blank" rel="noopener">@adisarid&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/JamesHWade" target="_blank" rel="noopener">@JamesHWade&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/luisDVA" target="_blank" rel="noopener">@luisDVA&lt;/a>,
&lt;a href="https://github.com/naveranoc" target="_blank" rel="noopener">@naveranoc&lt;/a>,
&lt;a href="https://github.com/nhward" target="_blank" rel="noopener">@nhward&lt;/a>,
&lt;a href="https://github.com/RMHogervorst" target="_blank" rel="noopener">@RMHogervorst&lt;/a>,
&lt;a href="https://github.com/ruddnr" target="_blank" rel="noopener">@ruddnr&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/zhaoliang0302" target="_blank" rel="noopener">@zhaoliang0302&lt;/a>.&lt;/li>
&lt;li>rsample:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>, and
&lt;a href="https://github.com/tjmahr" target="_blank" rel="noopener">@tjmahr&lt;/a>.&lt;/li>
&lt;li>spatialsample:
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>.&lt;/li>
&lt;li>textrecipes:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hadley" target="_blank" rel="noopener">@hadley&lt;/a>, and
&lt;a href="https://github.com/PursuitOfDataScience" target="_blank" rel="noopener">@PursuitOfDataScience&lt;/a>.&lt;/li>
&lt;li>tune:
&lt;a href="https://github.com/Athospd" target="_blank" rel="noopener">@Athospd&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/frankhezemans" target="_blank" rel="noopener">@frankhezemans&lt;/a>,
&lt;a href="https://github.com/kevin199011" target="_blank" rel="noopener">@kevin199011&lt;/a>,
&lt;a href="https://github.com/misken" target="_blank" rel="noopener">@misken&lt;/a>,
&lt;a href="https://github.com/PursuitOfDataScience" target="_blank" rel="noopener">@PursuitOfDataScience&lt;/a>,
&lt;a href="https://github.com/qiushiyan" target="_blank" rel="noopener">@qiushiyan&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>workflows:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/JosiahParry" target="_blank" rel="noopener">@JosiahParry&lt;/a>,
&lt;a href="https://github.com/lrossouw" target="_blank" rel="noopener">@lrossouw&lt;/a>,
&lt;a href="https://github.com/msberends" target="_blank" rel="noopener">@msberends&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;li>yardstick:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/deschen1" target="_blank" rel="noopener">@deschen1&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/leonhGeis" target="_blank" rel="noopener">@leonhGeis&lt;/a>,
&lt;a href="https://github.com/PriitPaluoja" target="_blank" rel="noopener">@PriitPaluoja&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div></description></item><item><title>Q2 2022 tidymodels digest</title><link>https://www.tidyverse.org/blog/2022/07/tidymodels-2022-q2/</link><pubDate>Tue, 19 Jul 2022 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2022/07/tidymodels-2022-q2/</guid><description>&lt;!--
TODO:
* [X] Look over / edit the post's title in the yaml
* [X] Edit (or delete) the description; note this appears in the Twitter card
* [X] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [X] Find photo &amp; update yaml metadata
* [X] Create `thumbnail-sq.jpg`; height and width should be equal
* [X] Create `thumbnail-wd.jpg`; width should be >5x height
* [X] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [X] Add intro sentence, e.g. the standard tagline for the package
* [X] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidymodels.tidymodels.org'>tidymodels&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='c'>#&amp;gt; ── &lt;span style='font-weight: bold;'>Attaching packages&lt;/span> ────────────────────────────────────── tidymodels 1.0.0 ──&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>broom &lt;/span> 1.0.0 &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>recipes &lt;/span> 1.0.1&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>dials &lt;/span> 1.0.0 &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>rsample &lt;/span> 1.0.0&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>dplyr &lt;/span> 1.0.9 &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>tibble &lt;/span> 3.1.7&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>ggplot2 &lt;/span> 3.3.6 &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>tidyr &lt;/span> 1.2.0&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>infer &lt;/span> 1.0.2 &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>tune &lt;/span> 1.0.0&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>modeldata &lt;/span> 1.0.0 &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>workflows &lt;/span> 1.0.0&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>parsnip &lt;/span> 1.0.0 &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>workflowsets&lt;/span> 1.0.0&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>purrr &lt;/span> 0.3.4 &lt;span style='color: #00BB00;'>✔&lt;/span> &lt;span style='color: #0000BB;'>yardstick &lt;/span> 1.0.0&lt;/span>
&lt;span class='c'>#&amp;gt; ── &lt;span style='font-weight: bold;'>Conflicts&lt;/span> ───────────────────────────────────────── tidymodels_conflicts() ──&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #BB0000;'>✖&lt;/span> &lt;span style='color: #0000BB;'>purrr&lt;/span>::&lt;span style='color: #00BB00;'>discard()&lt;/span> masks &lt;span style='color: #0000BB;'>scales&lt;/span>::discard()&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #BB0000;'>✖&lt;/span> &lt;span style='color: #0000BB;'>dplyr&lt;/span>::&lt;span style='color: #00BB00;'>filter()&lt;/span> masks &lt;span style='color: #0000BB;'>stats&lt;/span>::filter()&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #BB0000;'>✖&lt;/span> &lt;span style='color: #0000BB;'>dplyr&lt;/span>::&lt;span style='color: #00BB00;'>lag()&lt;/span> masks &lt;span style='color: #0000BB;'>stats&lt;/span>::lag()&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #BB0000;'>✖&lt;/span> &lt;span style='color: #0000BB;'>recipes&lt;/span>::&lt;span style='color: #00BB00;'>step()&lt;/span> masks &lt;span style='color: #0000BB;'>stats&lt;/span>::step()&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #0000BB;'>•&lt;/span> Search for functions across packages at &lt;span style='color: #00BB00;'>https://www.tidymodels.org/find/&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Since the beginning of last year, we have been publishing
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">quarterly updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like these from the past month or so:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/06/spatialsample-0-2-0/" target="_blank" rel="noopener">spatialsample&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/05/recipes-update-05-20222/" target="_blank" rel="noopener">recipes and its extension packages&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/06/bonsai-0-1-0/" target="_blank" rel="noopener">bonsai&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2022/04/tidymodels-2022-q1/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been CRAN releases of 25 tidymodels packages. You can install these updates from CRAN with:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/install.packages.html'>install.packages&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>
&lt;span class='s'>"rsample"&lt;/span>, &lt;span class='s'>"spatialsample"&lt;/span>, &lt;span class='s'>"parsnip"&lt;/span>, &lt;span class='s'>"baguette"&lt;/span>, &lt;span class='s'>"multilevelmod"&lt;/span>, &lt;span class='s'>"discrim"&lt;/span>,
&lt;span class='s'>"plsmod"&lt;/span>, &lt;span class='s'>"poissonreg"&lt;/span>, &lt;span class='s'>"rules"&lt;/span>, &lt;span class='s'>"recipes"&lt;/span>, &lt;span class='s'>"embed"&lt;/span>, &lt;span class='s'>"themis"&lt;/span>, &lt;span class='s'>"textrecipes"&lt;/span>,
&lt;span class='s'>"workflows"&lt;/span>, &lt;span class='s'>"workflowsets"&lt;/span>, &lt;span class='s'>"tune"&lt;/span>, &lt;span class='s'>"yardstick"&lt;/span>, &lt;span class='s'>"broom"&lt;/span>, &lt;span class='s'>"dials"&lt;/span>, &lt;span class='s'>"butcher"&lt;/span>,
&lt;span class='s'>"hardhat"&lt;/span>, &lt;span class='s'>"infer"&lt;/span>, &lt;span class='s'>"stacks"&lt;/span>, &lt;span class='s'>"tidyposterior"&lt;/span>, &lt;span class='s'>"tidypredict"&lt;/span>
&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;ul>
&lt;li>
&lt;a href="https://baguette.tidymodels.org/news/index.html#baguette-100" target="_blank" rel="noopener">baguette&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://broom.tidymodels.org/news/index.html#broom-080" target="_blank" rel="noopener">broom&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://butcher.tidymodels.org/news/index.html#butcher-020" target="_blank" rel="noopener">butcher&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://dials.tidymodels.org/news/index.html#dials-100" target="_blank" rel="noopener">dials&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://discrim.tidymodels.org/news/index.html#discrim-100" target="_blank" rel="noopener">discrim&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://embed.tidymodels.org/news/index.html#embed-100" target="_blank" rel="noopener">embed&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://hardhat.tidymodels.org/news/index.html#hardhat-120" target="_blank" rel="noopener">hardhat&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://infer.tidymodels.org/news/index.html#infer-v102" target="_blank" rel="noopener">infer&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://modeldata.tidymodels.org/news/index.html#modeldata-100" target="_blank" rel="noopener">modeldata&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://multilevelmod.tidymodels.org/news/index.html#multilevelmod-100" target="_blank" rel="noopener">multilevelmod&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://parsnip.tidymodels.org/news/index.html#parsnip-100" target="_blank" rel="noopener">parsnip&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://poissonreg.tidymodels.org/news/index.html#poissonreg-100" target="_blank" rel="noopener">poissonreg&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/news/index.html#recipes-101" target="_blank" rel="noopener">recipes&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://rsample.tidymodels.org/news/index.html#rsample-100" target="_blank" rel="noopener">rsample&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://rules.tidymodels.org/news/index.html#rules-100" target="_blank" rel="noopener">rules&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://spatialsample.tidymodels.org/news/index.html#spatialsample-020" target="_blank" rel="noopener">spatialsample&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://stacks.tidymodels.org/news/index.html#stacks-023" target="_blank" rel="noopener">stacks&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://textrecipes.tidymodels.org/news/index.html#textrecipes-100" target="_blank" rel="noopener">textrecipes&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://themis.tidymodels.org/news/index.html#themis-100" target="_blank" rel="noopener">themis&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tidymodels.tidymodels.org/news/index.html#tidymodels-100" target="_blank" rel="noopener">tidymodels&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tidyposterior.tidymodels.org/news/index.html#tidyposterior-100" target="_blank" rel="noopener">tidyposterior&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tidypredict.tidymodels.org/news/index.html#tidypredict-049" target="_blank" rel="noopener">tidypredict&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tune.tidymodels.org/news/index.html#tune-100" target="_blank" rel="noopener">tune&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://workflows.tidymodels.org/news/index.html#workflows-100" target="_blank" rel="noopener">workflows&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://workflowsets.tidymodels.org/news/index.html#workflowsets-100" target="_blank" rel="noopener">workflowsets&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://yardstick.tidymodels.org/news/index.html#yardstick-100" target="_blank" rel="noopener">yardstick&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>NEWS&lt;/code> files are linked here for each package; you&amp;rsquo;ll notice that there are a lot! We know it may be bothersome to keep up with all these changes, so we want to draw your attention to our recent blog posts above and also highlight a few more useful updates in today&amp;rsquo;s blog post.&lt;/p>
&lt;p>We are confident that we have created a good foundation with our implementation across many of our packages and we are using this as an opportunity to bump the packages versions to 1.0.0.&lt;/p>
&lt;h2 id="case-weights">Case weights
&lt;a href="#case-weights">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Much of the work we have been doing so far this year has been related to case weights. For a more detailed account of the deliberations see this earlier post about the
&lt;a href="https://www.tidyverse.org/blog/2022/05/case-weights/" target="_blank" rel="noopener">use of case weights with tidymodels&lt;/a>.&lt;/p>
&lt;p>A full worked example can be found in the
&lt;a href="tidyverse.org/blog/2022/05/case-weights/#tidymodels-syntax">previous blog post&lt;/a> and on
&lt;a href="https://www.tidymodels.org/learn/work/case-weights/" target="_blank" rel="noopener">the tidymodels site&lt;/a>.&lt;/p>
&lt;p>As an example let&amp;rsquo;s go over how case weights are used within tidymodels. We start by simulating a data set using &lt;code>sim_classification()&lt;/code>, this data set is going to be unbalanced and we will be using importance weights to give more weight to the minority class. In tidymodels you can use &lt;code>importance_weights()&lt;/code> or &lt;code>frequency_weights()&lt;/code> to denote what type of weight you are working with. Setting the type of weight should be the first thing you do.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>training_sim&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>sim_classification&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>5000&lt;/span>, intercept &lt;span class='o'>=&lt;/span> &lt;span class='o'>-&lt;/span>&lt;span class='m'>25&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>mutate&lt;/span>&lt;span class='o'>(&lt;/span>
case_wts &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/ifelse.html'>ifelse&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>class&lt;/span> &lt;span class='o'>==&lt;/span> &lt;span class='s'>"class_1"&lt;/span>, &lt;span class='m'>60&lt;/span>, &lt;span class='m'>1&lt;/span>&lt;span class='o'>)&lt;/span>,
case_wts &lt;span class='o'>=&lt;/span> &lt;span class='nf'>importance_weights&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>case_wts&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>training_sim&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>relocate&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>case_wts&lt;/span>, .after &lt;span class='o'>=&lt;/span> &lt;span class='nv'>class&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 5,000 × 17&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; class case_wts two_factor_1 two_factor_2 non_linear_1 non_linear_2&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;imp_wts&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> class_2 1 0.092&lt;span style='text-decoration: underline;'>4&lt;/span> -&lt;span style='color: #BB0000;'>1.70&lt;/span> -&lt;span style='color: #BB0000;'>0.579&lt;/span> 0.201&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> class_2 1 -&lt;span style='color: #BB0000;'>0.136&lt;/span> 0.608 -&lt;span style='color: #BB0000;'>0.770&lt;/span> 0.114&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> class_2 1 -&lt;span style='color: #BB0000;'>0.080&lt;/span>&lt;span style='color: #BB0000; text-decoration: underline;'>6&lt;/span> -&lt;span style='color: #BB0000;'>2.07&lt;/span> -&lt;span style='color: #BB0000;'>0.709&lt;/span> 0.272&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> class_2 1 1.35 2.75 -&lt;span style='color: #BB0000;'>0.380&lt;/span> 0.785&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> class_2 1 -&lt;span style='color: #BB0000;'>0.238&lt;/span> 1.08 -&lt;span style='color: #BB0000;'>0.700&lt;/span> 0.638&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> class_2 1 -&lt;span style='color: #BB0000;'>0.322&lt;/span> -&lt;span style='color: #BB0000;'>1.79&lt;/span> 0.053&lt;span style='text-decoration: underline;'>4&lt;/span> 0.470&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> class_2 1 1.35 -&lt;span style='color: #BB0000;'>0.102&lt;/span> -&lt;span style='color: #BB0000;'>0.764&lt;/span> 0.827&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> class_2 1 0.595 1.30 -&lt;span style='color: #BB0000;'>0.045&lt;/span>&lt;span style='color: #BB0000; text-decoration: underline;'>4&lt;/span> 0.493&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> class_2 1 0.563 0.916 -&lt;span style='color: #BB0000;'>0.383&lt;/span> 0.775&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> class_2 1 -&lt;span style='color: #BB0000;'>0.327&lt;/span> -&lt;span style='color: #BB0000;'>0.457&lt;/span> -&lt;span style='color: #BB0000;'>0.390&lt;/span> 0.704&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># … with 4,990 more rows, and 11 more variables: non_linear_3 &amp;lt;dbl&amp;gt;,&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># linear_01 &amp;lt;dbl&amp;gt;, linear_02 &amp;lt;dbl&amp;gt;, linear_03 &amp;lt;dbl&amp;gt;, linear_04 &amp;lt;dbl&amp;gt;,&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># linear_05 &amp;lt;dbl&amp;gt;, linear_06 &amp;lt;dbl&amp;gt;, linear_07 &amp;lt;dbl&amp;gt;, linear_08 &amp;lt;dbl&amp;gt;,&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># linear_09 &amp;lt;dbl&amp;gt;, linear_10 &amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Now that we have the data we can the resamples we want. We assigned weights before creating the resamples so that information is being carried into the resamples. The weights are not used in the creation of the resamples.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>2&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>sim_folds&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>vfold_cv&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>training_sim&lt;/span>, strata &lt;span class='o'>=&lt;/span> &lt;span class='nv'>class&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>When creating the model specification we don&amp;rsquo;t need to do anything special, as parsnip will apply case weights when there is support for it. If you are unsure if a model supports case weights you can consult the documentation or the &lt;code>show_model_info()&lt;/code> function, like so: &lt;code>show_model_info(&amp;quot;logistic_reg&amp;quot;)&lt;/code>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nv'>lr_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>
&lt;span class='nf'>logistic_reg&lt;/span>&lt;span class='o'>(&lt;/span>penalty &lt;span class='o'>=&lt;/span> &lt;span class='nf'>tune&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>, mixture &lt;span class='o'>=&lt;/span> &lt;span class='m'>1&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>set_engine&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"glmnet"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Next, we will set up a recipe for preprocessing&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nv'>sim_rec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>
&lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>class&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>training_sim&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>step_ns&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>starts_with&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"non_linear"&lt;/span>&lt;span class='o'>)&lt;/span>, deg_free &lt;span class='o'>=&lt;/span> &lt;span class='m'>10&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>step_normalize&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_numeric_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>sim_rec&lt;/span>
&lt;span class='c'>#&amp;gt; Recipe&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; Inputs:&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; role #variables&lt;/span>
&lt;span class='c'>#&amp;gt; case_weights 1&lt;/span>
&lt;span class='c'>#&amp;gt; outcome 1&lt;/span>
&lt;span class='c'>#&amp;gt; predictor 15&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; Operations:&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; Natural splines on starts_with("non_linear")&lt;/span>
&lt;span class='c'>#&amp;gt; Centering and scaling for all_numeric_predictors()&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The recipe automatically detects the case weights even though they are captured by the dot on the right-hand side of the formula. The recipe automatically sets its role and will error if that column is changed in any way.&lt;/p>
&lt;p>As mentioned above, any unsupervised steps are unaffected by importance weights so neither &lt;code>step_ns()&lt;/code> or &lt;code>step_normalize()&lt;/code> use the weights in their calculations.&lt;/p>
&lt;p>When using case weights, we would like to encourage users to keep their model and preprocessing tool within a workflow. The workflows package now has an add_case_weights() function to help here:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nv'>lr_wflow&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>
&lt;span class='nf'>workflow&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>add_model&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>lr_spec&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>add_recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>sim_rec&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>add_case_weights&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>case_wts&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>lr_wflow&lt;/span>
&lt;span class='c'>#&amp;gt; ══ Workflow ════════════════════════════════════════════════════════════════════&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='font-style: italic;'>Preprocessor:&lt;/span> Recipe&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='font-style: italic;'>Model:&lt;/span> logistic_reg()&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; ── Preprocessor ────────────────────────────────────────────────────────────────&lt;/span>
&lt;span class='c'>#&amp;gt; 2 Recipe Steps&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; • step_ns()&lt;/span>
&lt;span class='c'>#&amp;gt; • step_normalize()&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; ── Case Weights ────────────────────────────────────────────────────────────────&lt;/span>
&lt;span class='c'>#&amp;gt; case_wts&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; ── Model ───────────────────────────────────────────────────────────────────────&lt;/span>
&lt;span class='c'>#&amp;gt; Logistic Regression Model Specification (classification)&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; Main Arguments:&lt;/span>
&lt;span class='c'>#&amp;gt; penalty = tune()&lt;/span>
&lt;span class='c'>#&amp;gt; mixture = 1&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;/span>
&lt;span class='c'>#&amp;gt; Computational engine: glmnet&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>And that is all you need to use case weights, the remaining functions from the tune and yardstick package know how to deal with case weights depending on the type of weight.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nv'>cls_metrics&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>metric_set&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>sensitivity&lt;/span>, &lt;span class='nv'>specificity&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>grid&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>tibble&lt;/span>&lt;span class='o'>(&lt;/span>penalty &lt;span class='o'>=&lt;/span> &lt;span class='m'>10&lt;/span>&lt;span class='o'>^&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/seq.html'>seq&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>-&lt;/span>&lt;span class='m'>3&lt;/span>, &lt;span class='m'>0&lt;/span>, length.out &lt;span class='o'>=&lt;/span> &lt;span class='m'>20&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/Random.html'>set.seed&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='m'>3&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>lr_res&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span>
&lt;span class='nv'>lr_wflow&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>tune_grid&lt;/span>&lt;span class='o'>(&lt;/span>resamples &lt;span class='o'>=&lt;/span> &lt;span class='nv'>sim_folds&lt;/span>, grid &lt;span class='o'>=&lt;/span> &lt;span class='nv'>grid&lt;/span>, metrics &lt;span class='o'>=&lt;/span> &lt;span class='nv'>cls_metrics&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nf'>autoplot&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>lr_res&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="figs/unnamed-chunk-8-1.png" width="700px" style="display: block; margin: auto;" />&lt;/p>
&lt;/div>
&lt;h2 id="non-standard-roles-in-recipes">Non-standard roles in recipes
&lt;a href="#non-standard-roles-in-recipes">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The recipes package use the idea of roles to determine how and when the different variables are used. The main roles are &lt;code>&amp;quot;outcome&amp;quot;&lt;/code>, &lt;code>&amp;quot;predictor&amp;quot;&lt;/code>, and now &lt;code>&amp;quot;case_weights&amp;quot;&lt;/code>. You are also able to change the roles of these variables using &lt;code>add_role()&lt;/code> and &lt;code>update_role()&lt;/code>.&lt;/p>
&lt;p>With a recent addition of case weights as another type of standard role, we have made recipes more robust. It now checks that all columns in the &lt;code>data&lt;/code> supplied to &lt;code>recipe()&lt;/code> are also present in the &lt;code>new_data&lt;/code> supplied to &lt;code>bake()&lt;/code>. An exception is made for columns with roles of either &lt;code>&amp;quot;outcome&amp;quot;&lt;/code> or &lt;code>&amp;quot;case_weights&amp;quot;&lt;/code> because these are typically not required at &lt;code>bake()&lt;/code> time.&lt;/p>
&lt;p>This change for stricter checking of roles will mean that you might need to make some small changes to your code if you are using non-standard roles.&lt;/p>
&lt;p>Let&amp;rsquo;s look at the &lt;code>tate_text&lt;/code> data set as an example:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/data.html'>data&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"tate_text"&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nf'>glimpse&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>tate_text&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='c'>#&amp;gt; Rows: 4,284&lt;/span>
&lt;span class='c'>#&amp;gt; Columns: 5&lt;/span>
&lt;span class='c'>#&amp;gt; $ id &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 21926, 20472, 20474, 20473, 20513, 21389, 121187, 19455, 20938,…&lt;/span>
&lt;span class='c'>#&amp;gt; $ artist &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> "Absalon", "Auerbach, Frank", "Auerbach, Frank", "Auerbach, Fra…&lt;/span>
&lt;span class='c'>#&amp;gt; $ title &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> "Proposals for a Habitat", "Michael", "Geoffrey", "Jake", "To t…&lt;/span>
&lt;span class='c'>#&amp;gt; $ medium &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> "Video, monitor or projection, colour and sound (stereo)", "Etc…&lt;/span>
&lt;span class='c'>#&amp;gt; $ year &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> 1990, 1990, 1990, 1990, 1990, 1990, 1990, 1990, 1990, 1990, 199…&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This data set includes an &lt;code>id&lt;/code> variable that shouldn&amp;rsquo;t have any predictive power and a &lt;code>title&lt;/code> variable that we want to ignore for now. We can let the recipe know that we don&amp;rsquo;t want it to treat &lt;code>id&lt;/code> and &lt;code>title&lt;/code> as predictors by giving them a different role which we will call &lt;code>&amp;quot;id&amp;quot;&lt;/code> here:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nv'>tate_rec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>year&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>tate_text&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>update_role&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>id&lt;/span>, &lt;span class='nv'>title&lt;/span>, new_role &lt;span class='o'>=&lt;/span> &lt;span class='s'>"id"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>step_dummy_extract&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>artist&lt;/span>, &lt;span class='nv'>medium&lt;/span>, sep &lt;span class='o'>=&lt;/span> &lt;span class='s'>", "&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>tate_rec_prepped&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>tate_rec&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This will now error when we try to apply the recipe to new data that contains only our predictors:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nv'>new_painting&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>tibble&lt;/span>&lt;span class='o'>(&lt;/span>
artist &lt;span class='o'>=&lt;/span> &lt;span class='s'>"Hamilton, Richard"&lt;/span>,
medium &lt;span class='o'>=&lt;/span> &lt;span class='s'>"Letterpress on paper"&lt;/span>
&lt;span class='o'>)&lt;/span>
&lt;span class='nf'>bake&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>tate_rec_prepped&lt;/span>, &lt;span class='nv'>new_painting&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00; font-weight: bold;'>Error&lt;/span>&lt;span style='font-weight: bold;'> in `bake()`:&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #BBBB00;'>!&lt;/span> The following required columns are missing from `new_data`: "id", "title".&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #0000BB;'>ℹ&lt;/span> These columns have one of the following roles, which are required at `bake()` time: "id".&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #0000BB;'>ℹ&lt;/span> If these roles are not required at `bake()` time, use `update_role_requirements(role = "your_role", bake = FALSE)`.&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>It complains because the recipe is expecting the &lt;code>id&lt;/code> and &lt;code>title&lt;/code> variables to be in the data set passed to &lt;code>bake()&lt;/code>. We can use
&lt;a href="https://recipes.tidymodels.org/reference/update_role_requirements.html" target="_blank" rel="noopener">update_role_requirements()&lt;/a> to tell the recipe that variables of role &lt;code>&amp;quot;id&amp;quot;&lt;/code> are not required when baking and we are good to go!&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span class='nv'>tate_rec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>year&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>tate_text&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>update_role&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>id&lt;/span>, &lt;span class='nv'>title&lt;/span>, new_role &lt;span class='o'>=&lt;/span> &lt;span class='s'>"id"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>update_role_requirements&lt;/span>&lt;span class='o'>(&lt;/span>role &lt;span class='o'>=&lt;/span> &lt;span class='s'>"id"&lt;/span>, bake &lt;span class='o'>=&lt;/span> &lt;span class='kc'>FALSE&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>%&amp;gt;%&lt;/span>
&lt;span class='nf'>step_dummy_extract&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>artist&lt;/span>, &lt;span class='nv'>medium&lt;/span>, sep &lt;span class='o'>=&lt;/span> &lt;span class='s'>", "&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nv'>tate_rec_prepped&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>prep&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>tate_rec&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='nf'>bake&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>tate_rec_prepped&lt;/span>, &lt;span class='nv'>new_painting&lt;/span>&lt;span class='o'>)&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 1 × 2,675&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; artist_Abigail artist_Abraham artist_Absalon artist_Abts artist_Achill&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> 0 0 0 0 0&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># … with 2,670 more variables: artist_Ackroyd &amp;lt;dbl&amp;gt;, artist_Adam &amp;lt;dbl&amp;gt;,&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># artist_Agnes &amp;lt;dbl&amp;gt;, artist_Ahtila &amp;lt;dbl&amp;gt;, artist_Ai &amp;lt;dbl&amp;gt;,&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># artist_Akram &amp;lt;dbl&amp;gt;, artist_Aksel &amp;lt;dbl&amp;gt;, artist_Al &amp;lt;dbl&amp;gt;,&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># artist_Al.Ani &amp;lt;dbl&amp;gt;, artist_Alan &amp;lt;dbl&amp;gt;, artist_Albert &amp;lt;dbl&amp;gt;,&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># artist_Aleksandra &amp;lt;dbl&amp;gt;, artist_Alex &amp;lt;dbl&amp;gt;, artist_Alexander &amp;lt;dbl&amp;gt;,&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># artist_Alexandre.da &amp;lt;dbl&amp;gt;, artist_Alfredo &amp;lt;dbl&amp;gt;, artist_Alice &amp;lt;dbl&amp;gt;,&lt;/span>&lt;/span>
&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># artist_Alimpiev &amp;lt;dbl&amp;gt;, artist_Alison &amp;lt;dbl&amp;gt;, artist_Allen &amp;lt;dbl&amp;gt;, …&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>applicable
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/marlycormar" target="_blank" rel="noopener">@marlycormar&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>baguette:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>bonsai:
&lt;a href="https://github.com/bwilkowski" target="_blank" rel="noopener">@bwilkowski&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/pinogl" target="_blank" rel="noopener">@pinogl&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>broom:
&lt;a href="https://github.com/behrman" target="_blank" rel="noopener">@behrman&lt;/a>,
&lt;a href="https://github.com/corybrunson" target="_blank" rel="noopener">@corybrunson&lt;/a>,
&lt;a href="https://github.com/fschaffner" target="_blank" rel="noopener">@fschaffner&lt;/a>,
&lt;a href="https://github.com/gjones1219" target="_blank" rel="noopener">@gjones1219&lt;/a>,
&lt;a href="https://github.com/grantmcdermott" target="_blank" rel="noopener">@grantmcdermott&lt;/a>,
&lt;a href="https://github.com/mfansler" target="_blank" rel="noopener">@mfansler&lt;/a>,
&lt;a href="https://github.com/michaeltopper1" target="_blank" rel="noopener">@michaeltopper1&lt;/a>,
&lt;a href="https://github.com/ray-p144" target="_blank" rel="noopener">@ray-p144&lt;/a>,
&lt;a href="https://github.com/RichardJActon" target="_blank" rel="noopener">@RichardJActon&lt;/a>,
&lt;a href="https://github.com/russHyde" target="_blank" rel="noopener">@russHyde&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/tappek" target="_blank" rel="noopener">@tappek&lt;/a>,
&lt;a href="https://github.com/Timelessprod" target="_blank" rel="noopener">@Timelessprod&lt;/a>, and
&lt;a href="https://github.com/vincentarelbundock" target="_blank" rel="noopener">@vincentarelbundock&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>butcher:
&lt;a href="https://github.com/cregouby" target="_blank" rel="noopener">@cregouby&lt;/a>,
&lt;a href="https://github.com/davidkane9" target="_blank" rel="noopener">@davidkane9&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>censored:
&lt;a href="https://github.com/bcjaeger" target="_blank" rel="noopener">@bcjaeger&lt;/a>,
&lt;a href="https://github.com/brunocarlin" target="_blank" rel="noopener">@brunocarlin&lt;/a>,
&lt;a href="https://github.com/erikvona" target="_blank" rel="noopener">@erikvona&lt;/a>,
&lt;a href="https://github.com/gvelasq" target="_blank" rel="noopener">@gvelasq&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>corrr:
&lt;a href="https://github.com/astamm" target="_blank" rel="noopener">@astamm&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/john-s-f" target="_blank" rel="noopener">@john-s-f&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/thisisdaryn" target="_blank" rel="noopener">@thisisdaryn&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>dials:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/franzbischoff" target="_blank" rel="noopener">@franzbischoff&lt;/a>,
&lt;a href="https://github.com/hadley" target="_blank" rel="noopener">@hadley&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/py9mrg" target="_blank" rel="noopener">@py9mrg&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>discrim:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jmarshallnz" target="_blank" rel="noopener">@jmarshallnz&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>embed:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/exsell-jc" target="_blank" rel="noopener">@exsell-jc&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mkhansa" target="_blank" rel="noopener">@mkhansa&lt;/a>,
&lt;a href="https://github.com/talegari" target="_blank" rel="noopener">@talegari&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>hardhat:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/jonthegeek" target="_blank" rel="noopener">@jonthegeek&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>infer:
&lt;a href="https://github.com/gdbassett" target="_blank" rel="noopener">@gdbassett&lt;/a>,
&lt;a href="https://github.com/liubao210" target="_blank" rel="noopener">@liubao210&lt;/a>,
&lt;a href="https://github.com/nipnipj" target="_blank" rel="noopener">@nipnipj&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>modeldata:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/jbkunst" target="_blank" rel="noopener">@jbkunst&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>multilevelmod:
&lt;a href="https://github.com/a-difabio" target="_blank" rel="noopener">@a-difabio&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/sitendug" target="_blank" rel="noopener">@sitendug&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/YiweiZhu" target="_blank" rel="noopener">@YiweiZhu&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>parsnip:
&lt;a href="https://github.com/bappa10085" target="_blank" rel="noopener">@bappa10085&lt;/a>,
&lt;a href="https://github.com/brunocarlin" target="_blank" rel="noopener">@brunocarlin&lt;/a>,
&lt;a href="https://github.com/cb12991" target="_blank" rel="noopener">@cb12991&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/deschen1" target="_blank" rel="noopener">@deschen1&lt;/a>,
&lt;a href="https://github.com/edgararuiz" target="_blank" rel="noopener">@edgararuiz&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/emmamendelsohn" target="_blank" rel="noopener">@emmamendelsohn&lt;/a>,
&lt;a href="https://github.com/exsell-jc" target="_blank" rel="noopener">@exsell-jc&lt;/a>,
&lt;a href="https://github.com/fdeoliveirag" target="_blank" rel="noopener">@fdeoliveirag&lt;/a>,
&lt;a href="https://github.com/gundalav" target="_blank" rel="noopener">@gundalav&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jmarshallnz" target="_blank" rel="noopener">@jmarshallnz&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/Npaffen" target="_blank" rel="noopener">@Npaffen&lt;/a>,
&lt;a href="https://github.com/oj713" target="_blank" rel="noopener">@oj713&lt;/a>,
&lt;a href="https://github.com/pmags" target="_blank" rel="noopener">@pmags&lt;/a>,
&lt;a href="https://github.com/PursuitOfDataScience" target="_blank" rel="noopener">@PursuitOfDataScience&lt;/a>,
&lt;a href="https://github.com/qiushiyan" target="_blank" rel="noopener">@qiushiyan&lt;/a>,
&lt;a href="https://github.com/salim-b" target="_blank" rel="noopener">@salim-b&lt;/a>,
&lt;a href="https://github.com/shosaco" target="_blank" rel="noopener">@shosaco&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/tolliam" target="_blank" rel="noopener">@tolliam&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>plsmod:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>poissonreg:
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>recipes:
&lt;a href="https://github.com/abichat" target="_blank" rel="noopener">@abichat&lt;/a>,
&lt;a href="https://github.com/albertiniufu" target="_blank" rel="noopener">@albertiniufu&lt;/a>,
&lt;a href="https://github.com/AndrewKostandy" target="_blank" rel="noopener">@AndrewKostandy&lt;/a>,
&lt;a href="https://github.com/aridf" target="_blank" rel="noopener">@aridf&lt;/a>,
&lt;a href="https://github.com/brunocarlin" target="_blank" rel="noopener">@brunocarlin&lt;/a>,
&lt;a href="https://github.com/cb12991" target="_blank" rel="noopener">@cb12991&lt;/a>,
&lt;a href="https://github.com/conorjudge" target="_blank" rel="noopener">@conorjudge&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/duccioa" target="_blank" rel="noopener">@duccioa&lt;/a>,
&lt;a href="https://github.com/edgararuiz" target="_blank" rel="noopener">@edgararuiz&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/exsell-jc" target="_blank" rel="noopener">@exsell-jc&lt;/a>,
&lt;a href="https://github.com/gundalav" target="_blank" rel="noopener">@gundalav&lt;/a>,
&lt;a href="https://github.com/hsbadr" target="_blank" rel="noopener">@hsbadr&lt;/a>,
&lt;a href="https://github.com/jkennel" target="_blank" rel="noopener">@jkennel&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/joranE" target="_blank" rel="noopener">@joranE&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/kendonB" target="_blank" rel="noopener">@kendonB&lt;/a>,
&lt;a href="https://github.com/krzjoa" target="_blank" rel="noopener">@krzjoa&lt;/a>,
&lt;a href="https://github.com/madprogramer" target="_blank" rel="noopener">@madprogramer&lt;/a>,
&lt;a href="https://github.com/mdporter" target="_blank" rel="noopener">@mdporter&lt;/a>,
&lt;a href="https://github.com/mdsteiner" target="_blank" rel="noopener">@mdsteiner&lt;/a>,
&lt;a href="https://github.com/nipnipj" target="_blank" rel="noopener">@nipnipj&lt;/a>,
&lt;a href="https://github.com/PursuitOfDataScience" target="_blank" rel="noopener">@PursuitOfDataScience&lt;/a>,
&lt;a href="https://github.com/r2evans" target="_blank" rel="noopener">@r2evans&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/szymonkusak" target="_blank" rel="noopener">@szymonkusak&lt;/a>,
&lt;a href="https://github.com/themichjam" target="_blank" rel="noopener">@themichjam&lt;/a>,
&lt;a href="https://github.com/tmastny" target="_blank" rel="noopener">@tmastny&lt;/a>,
&lt;a href="https://github.com/tomazweiss" target="_blank" rel="noopener">@tomazweiss&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/TylerGrantSmith" target="_blank" rel="noopener">@TylerGrantSmith&lt;/a>, and
&lt;a href="https://github.com/zenggyu" target="_blank" rel="noopener">@zenggyu&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>rsample:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/dfalbel" target="_blank" rel="noopener">@dfalbel&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/mdporter" target="_blank" rel="noopener">@mdporter&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/pgoodling-usgs" target="_blank" rel="noopener">@pgoodling-usgs&lt;/a>,
&lt;a href="https://github.com/sametsoekel" target="_blank" rel="noopener">@sametsoekel&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/wkdavis" target="_blank" rel="noopener">@wkdavis&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>rules:
&lt;a href="https://github.com/DesmondChoy" target="_blank" rel="noopener">@DesmondChoy&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/wdkeyzer" target="_blank" rel="noopener">@wdkeyzer&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>shinymodels:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>spatialsample:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/MxNl" target="_blank" rel="noopener">@MxNl&lt;/a>,
&lt;a href="https://github.com/nipnipj" target="_blank" rel="noopener">@nipnipj&lt;/a>, and
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>stacks:
&lt;a href="https://github.com/amcmahon17" target="_blank" rel="noopener">@amcmahon17&lt;/a>,
&lt;a href="https://github.com/domijan" target="_blank" rel="noopener">@domijan&lt;/a>,
&lt;a href="https://github.com/Jeffrothschild" target="_blank" rel="noopener">@Jeffrothschild&lt;/a>,
&lt;a href="https://github.com/mcavs" target="_blank" rel="noopener">@mcavs&lt;/a>,
&lt;a href="https://github.com/mvt-oviedo" target="_blank" rel="noopener">@mvt-oviedo&lt;/a>,
&lt;a href="https://github.com/osorensen" target="_blank" rel="noopener">@osorensen&lt;/a>,
&lt;a href="https://github.com/py9mrg" target="_blank" rel="noopener">@py9mrg&lt;/a>,
&lt;a href="https://github.com/rcannood" target="_blank" rel="noopener">@rcannood&lt;/a>,
&lt;a href="https://github.com/Saarialho" target="_blank" rel="noopener">@Saarialho&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/williamshell" target="_blank" rel="noopener">@williamshell&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>textrecipes:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/NLDataScientist" target="_blank" rel="noopener">@NLDataScientist&lt;/a>,
&lt;a href="https://github.com/PursuitOfDataScience" target="_blank" rel="noopener">@PursuitOfDataScience&lt;/a>, and
&lt;a href="https://github.com/raj-hubber" target="_blank" rel="noopener">@raj-hubber&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>themis:
&lt;a href="https://github.com/coforfe" target="_blank" rel="noopener">@coforfe&lt;/a>, and
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tidymodels:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EngrStudent" target="_blank" rel="noopener">@EngrStudent&lt;/a>,
&lt;a href="https://github.com/exsell-jc" target="_blank" rel="noopener">@exsell-jc&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/kcarnold" target="_blank" rel="noopener">@kcarnold&lt;/a>,
&lt;a href="https://github.com/scottlyden" target="_blank" rel="noopener">@scottlyden&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tidyposterior:
&lt;a href="https://github.com/jmgirard" target="_blank" rel="noopener">@jmgirard&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/mone27" target="_blank" rel="noopener">@mone27&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tidypredict:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mgirlich" target="_blank" rel="noopener">@mgirlich&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tune:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/dax44" target="_blank" rel="noopener">@dax44&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/felxcon" target="_blank" rel="noopener">@felxcon&lt;/a>,
&lt;a href="https://github.com/franzbischoff" target="_blank" rel="noopener">@franzbischoff&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/munoztd0" target="_blank" rel="noopener">@munoztd0&lt;/a>,
&lt;a href="https://github.com/nikhilpathiyil" target="_blank" rel="noopener">@nikhilpathiyil&lt;/a>,
&lt;a href="https://github.com/pgoodling-usgs" target="_blank" rel="noopener">@pgoodling-usgs&lt;/a>,
&lt;a href="https://github.com/py9mrg" target="_blank" rel="noopener">@py9mrg&lt;/a>,
&lt;a href="https://github.com/qiushiyan" target="_blank" rel="noopener">@qiushiyan&lt;/a>,
&lt;a href="https://github.com/siegfried" target="_blank" rel="noopener">@siegfried&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/thegargiulian" target="_blank" rel="noopener">@thegargiulian&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/williamshell" target="_blank" rel="noopener">@williamshell&lt;/a>, and
&lt;a href="https://github.com/wtbxsjy" target="_blank" rel="noopener">@wtbxsjy&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>usemodels:
&lt;a href="https://github.com/aloes2512" target="_blank" rel="noopener">@aloes2512&lt;/a>,
&lt;a href="https://github.com/amcmahon17" target="_blank" rel="noopener">@amcmahon17&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/larry77" target="_blank" rel="noopener">@larry77&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>workflows:
&lt;a href="https://github.com/CarstenLange" target="_blank" rel="noopener">@CarstenLange&lt;/a>,
&lt;a href="https://github.com/dajmcdon" target="_blank" rel="noopener">@dajmcdon&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/nipnipj" target="_blank" rel="noopener">@nipnipj&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/themichjam" target="_blank" rel="noopener">@themichjam&lt;/a>, and
&lt;a href="https://github.com/TylerGrantSmith" target="_blank" rel="noopener">@TylerGrantSmith&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>workflowsets:
&lt;a href="https://github.com/a-difabio" target="_blank" rel="noopener">@a-difabio&lt;/a>,
&lt;a href="https://github.com/BorisDelange" target="_blank" rel="noopener">@BorisDelange&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/wdefreitas" target="_blank" rel="noopener">@wdefreitas&lt;/a>, and
&lt;a href="https://github.com/yonicd" target="_blank" rel="noopener">@yonicd&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>yardstick:
&lt;a href="https://github.com/1lliter8" target="_blank" rel="noopener">@1lliter8&lt;/a>,
&lt;a href="https://github.com/amcmahon17" target="_blank" rel="noopener">@amcmahon17&lt;/a>,
&lt;a href="https://github.com/brshallo" target="_blank" rel="noopener">@brshallo&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/gsverhoeven" target="_blank" rel="noopener">@gsverhoeven&lt;/a>,
&lt;a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218&lt;/a>,
&lt;a href="https://github.com/parsifal9" target="_blank" rel="noopener">@parsifal9&lt;/a>, and
&lt;a href="https://github.com/sametsoekel" target="_blank" rel="noopener">@sametsoekel&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Q1 2022 tidymodels digest</title><link>https://www.tidyverse.org/blog/2022/04/tidymodels-2022-q1/</link><pubDate>Fri, 01 Apr 2022 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2022/04/tidymodels-2022-q1/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with `hugodown::tidy_show_meta()`)
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] `hugodown::use_tidy_thumbnails()`
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] `usethis::use_tidy_thanks()`
-->
&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tidymodels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; ── Attaching packages ──────────────────────────── tidymodels 0.2.0 ──&lt;/span>
&lt;span class="c1">#&amp;gt; ✓ broom 0.7.12 ✓ rsample 0.1.1 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ dials 0.1.0 ✓ tibble 3.1.6 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ dplyr 1.0.8 ✓ tidyr 1.2.0 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ infer 1.0.0 ✓ tune 0.2.0 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ modeldata 0.1.1 ✓ workflows 0.2.6 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ parsnip 0.2.1 ✓ workflowsets 0.2.1 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ purrr 0.3.4 ✓ yardstick 0.0.9 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ recipes 0.2.0&lt;/span>
&lt;span class="c1">#&amp;gt; ── Conflicts ─────────────────────────────── tidymodels_conflicts() ──&lt;/span>
&lt;span class="c1">#&amp;gt; x purrr::discard() masks scales::discard()&lt;/span>
&lt;span class="c1">#&amp;gt; x dplyr::filter() masks stats::filter()&lt;/span>
&lt;span class="c1">#&amp;gt; x dplyr::lag() masks stats::lag()&lt;/span>
&lt;span class="c1">#&amp;gt; x recipes::step() masks stats::step()&lt;/span>
&lt;span class="c1">#&amp;gt; • Dig deeper into tidy modeling with R at https://www.tmwr.org&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Since the beginning of last year, we have been publishing
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">quarterly updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like these from the past month or so:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/02/recipes-0-2-0/" target="_blank" rel="noopener">recipes&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/03/usemodels-0-2-0/" target="_blank" rel="noopener">usemodels&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://www.tidyverse.org/blog/2022/03/parsnip-roundup-2022/" target="_blank" rel="noopener">parsnip and its extension packages&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2021/12/tidymodels-2021-q4/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been 21 CRAN releases of tidymodels packages. You can install these updates from CRAN with:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">install.packages&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="s">&amp;#34;baguette&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;broom&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;brulee&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;dials&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;discrim&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;finetune&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;hardhat&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;multilevelmod&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;parsnip&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;plsmod&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;poissonreg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;recipes&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;rules&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;stacks&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;textrecipes&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;tune&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;tidymodels&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;usemodels&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;vetiver&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;workflows&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;workflowsets&amp;#34;&lt;/span>
&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>NEWS&lt;/code> files are linked here for each package; you&amp;rsquo;ll notice that there are a lot! We know it may be bothersome to keep up with all these changes, so we want to draw your attention to our recent blog posts above and also highlight a few more useful updates in today&amp;rsquo;s blog post.&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://baguette.tidymodels.org/news/index.html#baguette-020" target="_blank" rel="noopener">baguette&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://broom.tidymodels.org/news/index.html#broom-0711" target="_blank" rel="noopener">broom&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tidymodels.github.io/brulee/news/index.html#brulee-010" target="_blank" rel="noopener">brulee&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://dials.tidymodels.org/news/index.html#dials-010" target="_blank" rel="noopener">dials&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://finetune.tidymodels.org/news/index.html#finetune-020" target="_blank" rel="noopener">finetune&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://hardhat.tidymodels.org/news/index.html#hardhat-020" target="_blank" rel="noopener">hardhat&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://hardhat.tidymodels.org/news/index.html#hardhat-020" target="_blank" rel="noopener">hardhat&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://github.com/tidymodels/multilevelmod/blob/main/NEWS.md" target="_blank" rel="noopener">multilevelmod&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://parsnip.tidymodels.org/news/index.html#parsnip-021" target="_blank" rel="noopener">parsnip&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://plsmod.tidymodels.org/news/index.html#plsmod-012" target="_blank" rel="noopener">plsmod&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://poissonreg.tidymodels.org/news/index.html#poissonreg-020" target="_blank" rel="noopener">poissonreg&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://github.com/tidymodels/recipes/blob/HEAD/NEWS.md#recipes-020" target="_blank" rel="noopener">recipes&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://rules.tidymodels.org/news/index.html#rules-020" target="_blank" rel="noopener">rules&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://stacks.tidymodels.org/news/index.html#stacks-022" target="_blank" rel="noopener">stacks&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://textrecipes.tidymodels.org/news/index.html#textrecipes-050" target="_blank" rel="noopener">textrecipes&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tune.tidymodels.org/news/index.html#tune-020" target="_blank" rel="noopener">tune&lt;/a>&lt;/li>
&lt;li>the
&lt;a href="https://tidymodels.tidymodels.org/news/index.html#tidymodels-020" target="_blank" rel="noopener">tidymodels&lt;/a> metapackage itself&lt;/li>
&lt;li>
&lt;a href="https://usemodels.tidymodels.org/news/index.html#usemodels-020" target="_blank" rel="noopener">usemodels&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://vetiver.tidymodels.org/news/index.html#vetiver-012" target="_blank" rel="noopener">vetiver&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://workflows.tidymodels.org/news/index.html#workflows-025" target="_blank" rel="noopener">workflows&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://workflowsets.tidymodels.org/news/index.html#workflowsets-021" target="_blank" rel="noopener">workflowsets&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>We&amp;rsquo;re really excited about
&lt;a href="https://tidymodels.github.io/brulee/" target="_blank" rel="noopener">brulee&lt;/a> and
&lt;a href="https://vetiver.tidymodels.org/" target="_blank" rel="noopener">vetiver&lt;/a> but will share more in upcoming blog posts.&lt;/p>
&lt;h2 id="feature-hashing">Feature hashing
&lt;a href="#feature-hashing">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The newest
&lt;a href="https://textrecipes.tidymodels.org/" target="_blank" rel="noopener">textrecipes&lt;/a> release provides support for feature hashing, a feature engineering approach that can be helpful when working with high cardinality categorical data or text. A hashing function takes an input of variable size and maps it to an output of fixed size. Hashing functions are commonly used in cryptography and databases, and we can create a hash in R using &lt;code>rlang::hash()&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">textrecipes&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Sacramento&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">set.seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">123&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sac_split&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">initial_split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Sacramento&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">strata&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">price&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sac_train&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">training&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sac_split&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sac_test&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">testing&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sac_split&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">tibble&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sac_train&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">mutate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">zip_hash&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">map_chr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">zip&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rlang&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">hash&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">zip&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">zip_hash&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; # A tibble: 698 × 2&lt;/span>
&lt;span class="c1">#&amp;gt; zip zip_hash &lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;fct&amp;gt; &amp;lt;chr&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; 1 z95838 32cbb7d319c97f062be64075c2ae6c07&lt;/span>
&lt;span class="c1">#&amp;gt; 2 z95815 55d08d816f0d2e9ec16af15239826e91&lt;/span>
&lt;span class="c1">#&amp;gt; 3 z95824 235b72b9a37a6154552498eb3f90e9e3&lt;/span>
&lt;span class="c1">#&amp;gt; 4 z95841 d973597ab5cc48a0dfe54b84a91249e1&lt;/span>
&lt;span class="c1">#&amp;gt; 5 z95842 c44537f2eecd51707b19e69027228a85&lt;/span>
&lt;span class="c1">#&amp;gt; 6 z95820 e1b86cbed49c029f9fa25bba94ede11e&lt;/span>
&lt;span class="c1">#&amp;gt; 7 z95670 60ee71387789bb8c58748e4632089cc4&lt;/span>
&lt;span class="c1">#&amp;gt; 8 z95838 32cbb7d319c97f062be64075c2ae6c07&lt;/span>
&lt;span class="c1">#&amp;gt; 9 z95815 55d08d816f0d2e9ec16af15239826e91&lt;/span>
&lt;span class="c1">#&amp;gt; 10 z95822 8e212bdf9650ef39a1634e6e18529834&lt;/span>
&lt;span class="c1">#&amp;gt; # … with 688 more rows&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The variable &lt;code>zip&lt;/code> in this data on home sales in Sacramento, CA is of
&lt;a href="https://en.wikipedia.org/wiki/Cardinality_%28SQL_statements%29" target="_blank" rel="noopener">&amp;ldquo;high cardinality&amp;rdquo;&lt;/a> (as ZIP codes often are) with 67 unique values. When we &lt;code>hash()&lt;/code> the ZIP code, we get out, well, a hash value, and we will always get the same hash value for the same input (as you can see for ZIP code 95838 here). We can choose the fixed size of our hashed output to reduce the number of possible values to whatever we want; it turns out this works well in a lot of situations.&lt;/p>
&lt;p>Let&amp;rsquo;s use a hashing algorithm like this one (with an output size of 16) to create binary indicator variables for this high cardinality &lt;code>zip&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">hash_rec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">price&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">zip&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">beds&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">baths&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sac_train&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_dummy_hash&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">zip&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">signed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">FALSE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num_terms&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">16L&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">prep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hash_rec&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span> &lt;span class="nf">bake&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">new_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; # A tibble: 698 × 19&lt;/span>
&lt;span class="c1">#&amp;gt; dummyhash_zip_01 dummyhash_zip_02 dummyhash_zip_03 dummyhash_zip_04&lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 1 0 0 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; 2 0 1 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; 3 0 0 1 0&lt;/span>
&lt;span class="c1">#&amp;gt; 4 1 0 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; 5 0 0 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; 6 0 0 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; 7 0 1 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; 8 0 0 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; 9 0 1 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; 10 0 0 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; # … with 688 more rows, and 15 more variables:&lt;/span>
&lt;span class="c1">#&amp;gt; # dummyhash_zip_05 &amp;lt;dbl&amp;gt;, dummyhash_zip_06 &amp;lt;dbl&amp;gt;,&lt;/span>
&lt;span class="c1">#&amp;gt; # dummyhash_zip_07 &amp;lt;dbl&amp;gt;, dummyhash_zip_08 &amp;lt;dbl&amp;gt;,&lt;/span>
&lt;span class="c1">#&amp;gt; # dummyhash_zip_09 &amp;lt;dbl&amp;gt;, dummyhash_zip_10 &amp;lt;dbl&amp;gt;,&lt;/span>
&lt;span class="c1">#&amp;gt; # dummyhash_zip_11 &amp;lt;dbl&amp;gt;, dummyhash_zip_12 &amp;lt;dbl&amp;gt;,&lt;/span>
&lt;span class="c1">#&amp;gt; # dummyhash_zip_13 &amp;lt;dbl&amp;gt;, dummyhash_zip_14 &amp;lt;dbl&amp;gt;,&lt;/span>
&lt;span class="c1">#&amp;gt; # dummyhash_zip_15 &amp;lt;dbl&amp;gt;, dummyhash_zip_16 &amp;lt;dbl&amp;gt;, beds &amp;lt;int&amp;gt;, …&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We now have 16 columns for &lt;code>zip&lt;/code> (along with the other predictors and the outcome), instead of the over 60 we would have had by making regular dummy variables.&lt;/p>
&lt;p>For more on feature hashing including its benefits (fast and low memory!) and downsides (not directly interpretable!), check out
&lt;a href="https://smltar.com/mlregression.html#case-study-feature-hashing" target="_blank" rel="noopener">Section 6.7 of &lt;em>Supervised Machine Learning for Text Analysis with R&lt;/em>&lt;/a> and/or
&lt;a href="https://www.tmwr.org/categorical.html#feature-hashing" target="_blank" rel="noopener">Section 17.4 of &lt;em>Tidy Modeling with R&lt;/em>&lt;/a>.&lt;/p>
&lt;h2 id="more-customization-for-workflow-sets">More customization for workflow sets
&lt;a href="#more-customization-for-workflow-sets">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Last year about this time, we introduced
&lt;a href="https://www.tidyverse.org/blog/2021/03/workflowsets-0-0-1/" target="_blank" rel="noopener">workflowsets&lt;/a>, a new package for creating, handling, and tuning multiple workflows at once. See
&lt;a href="https://www.tmwr.org/workflows.html#workflow-sets-intro" target="_blank" rel="noopener">Section 7.5&lt;/a> and especially
&lt;a href="https://www.tmwr.org/workflow-sets.html" target="_blank" rel="noopener">Chapter 15&lt;/a> of &lt;em>Tidy Modeling with R&lt;/em> for more on workflow sets. In the latest release of
&lt;a href="https://workflowsets.tidymodels.org/" target="_blank" rel="noopener">workflowsets&lt;/a>, we provide finer control of customization for the workflows you create with workflowsets. First you can create a standard workflow set by crossing a set of models with a set of preprocessors (let&amp;rsquo;s just use the feature hashing recipe we already created):&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">glmnet_spec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">linear_reg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">penalty&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">tune&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">mixture&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">tune&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">set_engine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;glmnet&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">mars_spec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">mars&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">prod_degree&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">tune&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">set_engine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;earth&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">set_mode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;regression&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">old_set&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">workflow_set&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">preproc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hash&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">hash_rec&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="n">models&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MARS&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mars_spec&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">glmnet&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">glmnet_spec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="n">old_set&lt;/span>
&lt;span class="c1">#&amp;gt; # A workflow set/tibble: 2 × 4&lt;/span>
&lt;span class="c1">#&amp;gt; wflow_id info option result &lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;list&amp;gt; &amp;lt;list&amp;gt; &amp;lt;list&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; 1 hash_MARS &amp;lt;tibble [1 × 4]&amp;gt; &amp;lt;opts[0]&amp;gt; &amp;lt;list [0]&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 2 hash_glmnet &amp;lt;tibble [1 × 4]&amp;gt; &amp;lt;opts[0]&amp;gt; &amp;lt;list [0]&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>option&lt;/code> column is a placeholder for any arguments to use when we &lt;em>evaluate&lt;/em> the workflow; the possibilities here are any argument to functions like
&lt;a href="https://tune.tidymodels.org/reference/tune_grid.html" target="_blank" rel="noopener">&lt;code>tune_grid()&lt;/code>&lt;/a> or
&lt;a href="https://tune.tidymodels.org/reference/fit_resamples.html" target="_blank" rel="noopener">&lt;code>fit_resamples()&lt;/code>&lt;/a>. But what about arguments that belong not to the workflow as a whole, but to a recipe or a parsnip model? In the new release, we added support for customizing those kinds of arguments via &lt;code>update_workflow_model()&lt;/code> and &lt;code>update_workflow_recipe()&lt;/code>. This lets you, for example, say that you want to use a
&lt;a href="https://www.tidyverse.org/blog/2020/11/tidymodels-sparse-support/" target="_blank" rel="noopener">sparse blueprint&lt;/a> for fitting:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">sparse_bp&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="n">hardhat&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">default_recipe_blueprint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">composition&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;dgCMatrix&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">new_set&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="n">old_set&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">update_workflow_recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;hash_glmnet&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hash_rec&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">blueprint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sparse_bp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now we can tune this workflow set, with the sparse blueprint for the glmnet model, over a set of resampling folds.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">set.seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">123&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">folds&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">vfold_cv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sac_train&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">strata&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">price&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">new_set&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">workflow_map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">resamples&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">folds&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">grid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">verbose&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">TRUE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; i 1 of 2 tuning: hash_MARS&lt;/span>
&lt;span class="c1">#&amp;gt; ✓ 1 of 2 tuning: hash_MARS (2.2s)&lt;/span>
&lt;span class="c1">#&amp;gt; i 2 of 2 tuning: hash_glmnet&lt;/span>
&lt;span class="c1">#&amp;gt; ✓ 2 of 2 tuning: hash_glmnet (3.9s)&lt;/span>
&lt;span class="c1">#&amp;gt; # A workflow set/tibble: 2 × 4&lt;/span>
&lt;span class="c1">#&amp;gt; wflow_id info option result &lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;list&amp;gt; &amp;lt;list&amp;gt; &amp;lt;list&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; 1 hash_MARS &amp;lt;tibble [1 × 4]&amp;gt; &amp;lt;opts[2]&amp;gt; &amp;lt;tune[+]&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 2 hash_glmnet &amp;lt;tibble [1 × 4]&amp;gt; &amp;lt;opts[2]&amp;gt; &amp;lt;tune[+]&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>
&lt;h2 id="new-parameter-objects-and-parameter-handling">New parameter objects and parameter handling
&lt;a href="#new-parameter-objects-and-parameter-handling">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Even if you are a regular tidymodels user, you may not have thought much about
&lt;a href="https://dials.tidymodels.org/" target="_blank" rel="noopener">dials&lt;/a>. This is an infrastructure package that is used to create and manage model hyperparameters. In the latest release of dials, we provide a handful of new parameters for various models and feature engineering approaches. There are a handful of parameters
&lt;a href="https://parsnip.tidymodels.org/reference/bart.html" target="_blank" rel="noopener">for the new &lt;code>parsnip::bart()&lt;/code>&lt;/a>, i.e. Bayesian additive regression trees model:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">prior_outcome_range&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1">#&amp;gt; Prior for Outcome Range (quantitative)&lt;/span>
&lt;span class="c1">#&amp;gt; Range: (0, 5]&lt;/span>
&lt;span class="nf">prior_terminal_node_coef&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1">#&amp;gt; Terminal Node Prior Coefficient (quantitative)&lt;/span>
&lt;span class="c1">#&amp;gt; Range: (0, 1]&lt;/span>
&lt;span class="nf">prior_terminal_node_expo&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1">#&amp;gt; Terminal Node Prior Exponent (quantitative)&lt;/span>
&lt;span class="c1">#&amp;gt; Range: [0, 3]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>This version of dials, along with the new hardhat release, also provides new functions for extracting single parameters and parameter sets from modeling objects.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">price&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">zip&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">beds&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">baths&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sac_train&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_dummy_hash&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">zip&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">signed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">FALSE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num_terms&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">tune&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">extract_parameter_set_dials&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1">#&amp;gt; Collection of 1 parameters for tuning&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; identifier type object&lt;/span>
&lt;span class="c1">#&amp;gt; num_terms num_terms nparam[+]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can also extract a single parameter by name:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">mars_spec&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span> &lt;span class="nf">extract_parameter_dials&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;prod_degree&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; Degree of Interaction (quantitative)&lt;/span>
&lt;span class="c1">#&amp;gt; Range: [1, 2]&lt;/span>
&lt;span class="n">glmnet_spec&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span> &lt;span class="nf">extract_parameter_dials&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;penalty&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; Amount of Regularization (quantitative)&lt;/span>
&lt;span class="c1">#&amp;gt; Transformer: log-10 &lt;/span>
&lt;span class="c1">#&amp;gt; Range (transformed scale): [-10, 0]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We’d like to extend our thanks to all of the contributors who helped make these releases during Q1 possible!&lt;/p>
&lt;ul>
&lt;li>
&lt;p>baguette:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a> and
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>broom:
&lt;a href="https://github.com/cgoo4" target="_blank" rel="noopener">@cgoo4&lt;/a>,
&lt;a href="https://github.com/colinbrislawn" target="_blank" rel="noopener">@colinbrislawn&lt;/a>,
&lt;a href="https://github.com/DanChaltiel" target="_blank" rel="noopener">@DanChaltiel&lt;/a>,
&lt;a href="https://github.com/ddsjoberg" target="_blank" rel="noopener">@ddsjoberg&lt;/a>,
&lt;a href="https://github.com/fschaffner" target="_blank" rel="noopener">@fschaffner&lt;/a>,
&lt;a href="https://github.com/grantmcdermott" target="_blank" rel="noopener">@grantmcdermott&lt;/a>,
&lt;a href="https://github.com/hughjonesd" target="_blank" rel="noopener">@hughjonesd&lt;/a>,
&lt;a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc&lt;/a>,
&lt;a href="https://github.com/Marc-Girondot" target="_blank" rel="noopener">@Marc-Girondot&lt;/a>,
&lt;a href="https://github.com/MichaelChirico" target="_blank" rel="noopener">@MichaelChirico&lt;/a>,
&lt;a href="https://github.com/mlaviolet" target="_blank" rel="noopener">@mlaviolet&lt;/a>,
&lt;a href="https://github.com/oliverbothe" target="_blank" rel="noopener">@oliverbothe&lt;/a>,
&lt;a href="https://github.com/PursuitOfDataScience" target="_blank" rel="noopener">@PursuitOfDataScience&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/vincentarelbundock" target="_blank" rel="noopener">@vincentarelbundock&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>brulee:
&lt;a href="https://github.com/dfalbel" target="_blank" rel="noopener">@dfalbel&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>dials:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/py9mrg" target="_blank" rel="noopener">@py9mrg&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>discrim:
&lt;a href="https://github.com/deschen1" target="_blank" rel="noopener">@deschen1&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jmarshallnz" target="_blank" rel="noopener">@jmarshallnz&lt;/a>, and
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>finetune:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/Steviey" target="_blank" rel="noopener">@Steviey&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>hardhat:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/ddsjoberg" target="_blank" rel="noopener">@ddsjoberg&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/MasterLuke84" target="_blank" rel="noopener">@MasterLuke84&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>multilevelmod:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a> and
&lt;a href="https://github.com/sitendug" target="_blank" rel="noopener">@sitendug&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>parsnip:
&lt;a href="https://github.com/brunocarlin" target="_blank" rel="noopener">@brunocarlin&lt;/a>,
&lt;a href="https://github.com/dietrichson" target="_blank" rel="noopener">@dietrichson&lt;/a>,
&lt;a href="https://github.com/edgararuiz" target="_blank" rel="noopener">@edgararuiz&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jmarshallnz" target="_blank" rel="noopener">@jmarshallnz&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/nikhilpathiyil" target="_blank" rel="noopener">@nikhilpathiyil&lt;/a>,
&lt;a href="https://github.com/nvelden" target="_blank" rel="noopener">@nvelden&lt;/a>,
&lt;a href="https://github.com/t-kalinowski" target="_blank" rel="noopener">@t-kalinowski&lt;/a>,
&lt;a href="https://github.com/tiagomaie" target="_blank" rel="noopener">@tiagomaie&lt;/a>,
&lt;a href="https://github.com/tolliam" target="_blank" rel="noopener">@tolliam&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>plsmod:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a> and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>poissonreg:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a> and
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>recipes:
&lt;a href="https://github.com/agwalker82" target="_blank" rel="noopener">@agwalker82&lt;/a>,
&lt;a href="https://github.com/AndrewKostandy" target="_blank" rel="noopener">@AndrewKostandy&lt;/a>,
&lt;a href="https://github.com/aridf" target="_blank" rel="noopener">@aridf&lt;/a>,
&lt;a href="https://github.com/brunocarlin" target="_blank" rel="noopener">@brunocarlin&lt;/a>,
&lt;a href="https://github.com/DoktorMike" target="_blank" rel="noopener">@DoktorMike&lt;/a>,
&lt;a href="https://github.com/duccioa" target="_blank" rel="noopener">@duccioa&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/FieteO" target="_blank" rel="noopener">@FieteO&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/lionel-" target="_blank" rel="noopener">@lionel-&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/mdsteiner" target="_blank" rel="noopener">@mdsteiner&lt;/a>,
&lt;a href="https://github.com/MichaelChirico" target="_blank" rel="noopener">@MichaelChirico&lt;/a>,
&lt;a href="https://github.com/spsanderson" target="_blank" rel="noopener">@spsanderson&lt;/a>,
&lt;a href="https://github.com/themichjam" target="_blank" rel="noopener">@themichjam&lt;/a>,
&lt;a href="https://github.com/tmastny" target="_blank" rel="noopener">@tmastny&lt;/a>,
&lt;a href="https://github.com/tomazweiss" target="_blank" rel="noopener">@tomazweiss&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/walrossker" target="_blank" rel="noopener">@walrossker&lt;/a>, and
&lt;a href="https://github.com/zenggyu" target="_blank" rel="noopener">@zenggyu&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>rules:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/wdkeyzer" target="_blank" rel="noopener">@wdkeyzer&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>stacks:
&lt;a href="https://github.com/amcmahon17" target="_blank" rel="noopener">@amcmahon17&lt;/a>,
&lt;a href="https://github.com/py9mrg" target="_blank" rel="noopener">@py9mrg&lt;/a>,
&lt;a href="https://github.com/Saarialho" target="_blank" rel="noopener">@Saarialho&lt;/a>,
&lt;a href="https://github.com/siegfried" target="_blank" rel="noopener">@siegfried&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/StuieT85" target="_blank" rel="noopener">@StuieT85&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/williamshell" target="_blank" rel="noopener">@williamshell&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>textrecipes:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/lionel-" target="_blank" rel="noopener">@lionel-&lt;/a>, and
&lt;a href="https://github.com/NLDataScientist" target="_blank" rel="noopener">@NLDataScientist&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tune:
&lt;a href="https://github.com/abichat" target="_blank" rel="noopener">@abichat&lt;/a>,
&lt;a href="https://github.com/AndrewKostandy" target="_blank" rel="noopener">@AndrewKostandy&lt;/a>,
&lt;a href="https://github.com/dax44" target="_blank" rel="noopener">@dax44&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/felxcon" target="_blank" rel="noopener">@felxcon&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juanydlh" target="_blank" rel="noopener">@juanydlh&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>,
&lt;a href="https://github.com/py9mrg" target="_blank" rel="noopener">@py9mrg&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/walrossker" target="_blank" rel="noopener">@walrossker&lt;/a>,
&lt;a href="https://github.com/williamshell" target="_blank" rel="noopener">@williamshell&lt;/a>, and
&lt;a href="https://github.com/wtbxsjy" target="_blank" rel="noopener">@wtbxsjy&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tidymodels:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/exsell-jc" target="_blank" rel="noopener">@exsell-jc&lt;/a>,
&lt;a href="https://github.com/hardin47" target="_blank" rel="noopener">@hardin47&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/PursuitOfDataScience" target="_blank" rel="noopener">@PursuitOfDataScience&lt;/a>,
&lt;a href="https://github.com/RaymondBalise" target="_blank" rel="noopener">@RaymondBalise&lt;/a>,
&lt;a href="https://github.com/scottlyden" target="_blank" rel="noopener">@scottlyden&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>usemodels:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a> and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>vetiver:
&lt;a href="https://github.com/atheriel" target="_blank" rel="noopener">@atheriel&lt;/a> and
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>workflows:
&lt;a href="https://github.com/CarstenLange" target="_blank" rel="noopener">@CarstenLange&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/dpprdan" target="_blank" rel="noopener">@dpprdan&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>workflowsets:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/dvanic" target="_blank" rel="noopener">@dvanic&lt;/a>,
&lt;a href="https://github.com/gdmcdonald" target="_blank" rel="noopener">@gdmcdonald&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/wdefreitas" target="_blank" rel="noopener">@wdefreitas&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Closing out our year with a Q4 2021 tidymodels update</title><link>https://www.tidyverse.org/blog/2021/12/tidymodels-2021-q4/</link><pubDate>Thu, 16 Dec 2021 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2021/12/tidymodels-2021-q4/</guid><description>&lt;!--
TODO:
* [ ] Look over / edit the post's title in the yaml
* [ ] Edit (or delete) the description; note this appears in the Twitter card
* [ ] Pick category and tags (see existing with `hugodown::tidy_show_meta()`)
* [ ] Find photo &amp; update yaml metadata
* [ ] Create `thumbnail-sq.jpg`; height and width should be equal
* [ ] Create `thumbnail-wd.jpg`; width should be >5x height
* [ ] `hugodown::use_tidy_thumbnails()`
* [ ] Add intro sentence, e.g. the standard tagline for the package
* [ ] `usethis::use_tidy_thanks()`
-->
&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tidymodels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; ── Attaching packages ──────────────────────────── tidymodels 0.1.4 ──&lt;/span>
&lt;span class="c1">#&amp;gt; ✓ broom 0.7.10 ✓ rsample 0.1.1 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ dials 0.0.10 ✓ tibble 3.1.6 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ dplyr 1.0.7 ✓ tidyr 1.1.4 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ infer 1.0.0 ✓ tune 0.1.6 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ modeldata 0.1.1 ✓ workflows 0.2.4 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ parsnip 0.1.7 ✓ workflowsets 0.1.0 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ purrr 0.3.4 ✓ yardstick 0.0.9 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ recipes 0.1.17&lt;/span>
&lt;span class="c1">#&amp;gt; ── Conflicts ─────────────────────────────── tidymodels_conflicts() ──&lt;/span>
&lt;span class="c1">#&amp;gt; x purrr::discard() masks scales::discard()&lt;/span>
&lt;span class="c1">#&amp;gt; x dplyr::filter() masks stats::filter()&lt;/span>
&lt;span class="c1">#&amp;gt; x dplyr::lag() masks stats::lag()&lt;/span>
&lt;span class="c1">#&amp;gt; x recipes::step() masks stats::step()&lt;/span>
&lt;span class="c1">#&amp;gt; • Dig deeper into tidy modeling with R at https://www.tmwr.org&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Starting at the beginning of this year, we now publish
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">regular updates&lt;/a> here on the tidyverse blog summarizing what&amp;rsquo;s new in the tidymodels ecosystem. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused. The purpose of these quarterly posts is to share useful new features and any updates you may have missed.&lt;/p>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2021/09/tidymodels-2021-q3/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been seven CRAN releases of tidymodels packages. You can install these updates from CRAN with:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">install.packages&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;broom&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;embed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;rsample&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;shinymodels&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;tidymodels&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;workflows&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;yardstick&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>NEWS&lt;/code> files are linked here for each package; you&amp;rsquo;ll notice that some of these releases involve small bug fixes or internal changes that are not user-facing. We write code in these smaller, modular packages that we can release frequently both to make models easier to deploy and to keep our software easier to maintain. We know it may feel like a lot of moving parts to keep up with if you are a tidymodels user, so we want to highlight a couple of the more useful updates in these releases.&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://broom.tidymodels.org/news/index.html#broom-0-7-10-2021-10-31" target="_blank" rel="noopener">broom&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://embed.tidymodels.org/news/index.html#embed-015" target="_blank" rel="noopener">embed&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://rsample.tidymodels.org/news/index.html#rsample-011" target="_blank" rel="noopener">rsample&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://shinymodels.tidymodels.org/news/index.html#shinymodels-010" target="_blank" rel="noopener">shinymodels&lt;/a>&lt;/li>
&lt;li>the
&lt;a href="https://tidymodels.tidymodels.org/news/index.html#tidymodels-0-1-4-2021-10-01" target="_blank" rel="noopener">tidymodels&lt;/a> metapackage itself&lt;/li>
&lt;li>
&lt;a href="https://workflows.tidymodels.org/news/index.html#workflows-0-2-4-2021-10-12" target="_blank" rel="noopener">workflows&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://yardstick.tidymodels.org/news/index.html#yardstick-0-0-9-2021-11-22" target="_blank" rel="noopener">yardstick&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="tools-for-tidymodels-analyses">Tools for tidymodels analyses
&lt;a href="#tools-for-tidymodels-analyses">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Several of these releases incorporate tools to reduce the overhead for getting started with your tidymodels analysis or for understanding your results more deeply. The new release of the tidymodels metapackage itself provides an R Markdown template. To use the tidymodels analysis template from RStudio, access through &lt;code>File -&amp;gt; New File -&amp;gt; R Markdown&lt;/code>. This will open the dialog box where you can select from one of the available templates:&lt;/p>
&lt;p>&lt;img src="figure/tidymodels-template.png" title="R Markdown template dialog box with three choices, including the tidymodels Model Analysis template" alt="R Markdown template dialog box with three choices, including the tidymodels Model Analysis template" width="70%" />&lt;/p>
&lt;p>If you are not using RStudio, you&amp;rsquo;ll also need to install
&lt;a href="https://pandoc.org" target="_blank" rel="noopener">Pandoc&lt;/a>. Then, use the &lt;code>rmarkdown::draft()&lt;/code> function to create the model card:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">rmarkdown&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">draft&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="s">&amp;#34;my_model_analysis.Rmd&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;model-analysis&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">package&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;tidymodels&amp;#34;&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>This template offers an opinionated guide on how to structure a basic modeling analysis from exploratory data analysis through evaluating your models. Your individual modeling analysis may require you to add to, subtract from, or otherwise change this structure, but you can consider this a general framework to start from.&lt;/p>
&lt;p>This quarter, the package
&lt;a href="https://shinymodels.tidymodels.org/" target="_blank" rel="noopener">shinymodels&lt;/a> had its first CRAN release. This package was the focus of our tidymodels summer intern
&lt;a href="https://www.shishamad.com/posts/how-i-got-my-rstudio-internship/" target="_blank" rel="noopener">Shisham Adhikari&lt;/a> in 2021, and it provides support for launching a Shiny app to interactively explore tuning or resampling results.&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/tidymodels/shinymodels/main/man/figures/example.png" alt="Screenshot of shinymodels app exploring a regression model">&lt;/p>
&lt;h2 id="make-your-own-rsample-split-objects">Make your own rsample split objects
&lt;a href="#make-your-own-rsample-split-objects">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The data resampling infrastructure provided by the
&lt;a href="https://rsample.tidymodels.org/" target="_blank" rel="noopener">rsample&lt;/a> package has always worked well when you start off with a dataset to split into training and testing. However, we heard from users that in some situations they have training and testing sets determined by other processes, or need to create their data split using more complex conditions. The latest release of rsample provides more fluent and flexible support for custom &lt;code>rsplit&lt;/code> creation that sets you up for the rest of your tidymodels analysis. For example, you can create a split object from two dataframes.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gapminder&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">year_split&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">make_splits&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">gapminder&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span> &lt;span class="nf">filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">year&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="m">2000&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="n">gapminder&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span> &lt;span class="nf">filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">year&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="m">2000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="n">year_split&lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;Analysis/Assess/Total&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;1420/284/1704&amp;gt;&lt;/span>
&lt;span class="nf">testing&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">year_split&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; # A tibble: 284 × 6&lt;/span>
&lt;span class="c1">#&amp;gt; country continent year lifeExp pop gdpPercap&lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;fct&amp;gt; &amp;lt;fct&amp;gt; &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 1 Afghanistan Asia 2002 42.1 25268405 727.&lt;/span>
&lt;span class="c1">#&amp;gt; 2 Afghanistan Asia 2007 43.8 31889923 975.&lt;/span>
&lt;span class="c1">#&amp;gt; 3 Albania Europe 2002 75.7 3508512 4604.&lt;/span>
&lt;span class="c1">#&amp;gt; 4 Albania Europe 2007 76.4 3600523 5937.&lt;/span>
&lt;span class="c1">#&amp;gt; 5 Algeria Africa 2002 71.0 31287142 5288.&lt;/span>
&lt;span class="c1">#&amp;gt; 6 Algeria Africa 2007 72.3 33333216 6223.&lt;/span>
&lt;span class="c1">#&amp;gt; 7 Angola Africa 2002 41.0 10866106 2773.&lt;/span>
&lt;span class="c1">#&amp;gt; 8 Angola Africa 2007 42.7 12420476 4797.&lt;/span>
&lt;span class="c1">#&amp;gt; 9 Argentina Americas 2002 74.3 38331121 8798.&lt;/span>
&lt;span class="c1">#&amp;gt; 10 Argentina Americas 2007 75.3 40301927 12779.&lt;/span>
&lt;span class="c1">#&amp;gt; # … with 274 more rows&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can alternatively
&lt;a href="https://rsample.tidymodels.org/reference/make_splits.html" target="_blank" rel="noopener">create a split using a list of indices&lt;/a>; this &lt;code>make_splits()&lt;/code> flexibility is good for when the defaults in &lt;code>initial_split()&lt;/code> and &lt;code>initial_time_split()&lt;/code> are not appropriate. We also added a
&lt;a href="https://rsample.tidymodels.org/reference/validation_split.html" target="_blank" rel="noopener">new function &lt;code>validation_time_split()&lt;/code>&lt;/a> to create a single validation resample, much like &lt;code>validation_split()&lt;/code>, but taking the first &lt;code>prop&lt;/code> samples for training.&lt;/p>
&lt;h2 id="survey-says">Survey says&amp;hellip;
&lt;a href="#survey-says">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>This fall, we
&lt;a href="https://www.tidyverse.org/blog/2021/10/tidymodels-2022-survey/" target="_blank" rel="noopener">launched our second tidymodels survey&lt;/a> to gather community input on our priorities for 2022. Thank you so much to everyone who shared their opinion! Over 600 people completed the survey, a significant increase from last year, and the top three requested features overall are:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Supervised feature selection:&lt;/strong> This includes basic supervised filtering methods as well as techniques such as recursive feature elimination.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Model fairness analysis and metrics:&lt;/strong> Techniques to measure if there are biases in model predictions that treat groups or individuals unfairly.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Post modeling probability calibration:&lt;/strong> Methods to characterize (and correct) probability predictions to make sure that probability estimates reflect the observed event rate(s).&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>You can also
&lt;a href="https://colorado.rstudio.com/rsc/tidymodels-priorities-2022/" target="_blank" rel="noopener">check out our full analysis of the survey results&lt;/a>.&lt;/p>
&lt;p>&lt;img src="figure/survey-results.png" alt="Bar chart broken out by role showing that all groups (students, academics, industry, hobbyists) rate supervised feature selection highest">&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We’d like to extend our thanks to all of the contributors who helped make these releases during Q4 possible!&lt;/p>
&lt;ul>
&lt;li>
&lt;p>broom:
&lt;a href="https://github.com/gjones1219" target="_blank" rel="noopener">@gjones1219&lt;/a>,
&lt;a href="https://github.com/gravesti" target="_blank" rel="noopener">@gravesti&lt;/a>,
&lt;a href="https://github.com/gregmacfarlane" target="_blank" rel="noopener">@gregmacfarlane&lt;/a>,
&lt;a href="https://github.com/ilapros" target="_blank" rel="noopener">@ilapros&lt;/a>,
&lt;a href="https://github.com/jamesrrae" target="_blank" rel="noopener">@jamesrrae&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/lcgodoy" target="_blank" rel="noopener">@lcgodoy&lt;/a>,
&lt;a href="https://github.com/RobBinS83" target="_blank" rel="noopener">@RobBinS83&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/statzhero" target="_blank" rel="noopener">@statzhero&lt;/a>,
&lt;a href="https://github.com/vincentarelbundock" target="_blank" rel="noopener">@vincentarelbundock&lt;/a>, and
&lt;a href="https://github.com/wviechtb" target="_blank" rel="noopener">@wviechtb&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>embed:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/jlmelville" target="_blank" rel="noopener">@jlmelville&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>rsample:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/jmgirard" target="_blank" rel="noopener">@jmgirard&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mmp3" target="_blank" rel="noopener">@mmp3&lt;/a>, and
&lt;a href="https://github.com/Shafi2016" target="_blank" rel="noopener">@Shafi2016&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>shinymodels:
&lt;a href="https://github.com/romainfrancois" target="_blank" rel="noopener">@romainfrancois&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tidymodels:
&lt;a href="https://github.com/agronomofiorentini" target="_blank" rel="noopener">@agronomofiorentini&lt;/a>,
&lt;a href="https://github.com/AshleyHenry15" target="_blank" rel="noopener">@AshleyHenry15&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>workflows:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/dkgaraujo" target="_blank" rel="noopener">@dkgaraujo&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>, and
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>yardstick:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/romainfrancois" target="_blank" rel="noopener">@romainfrancois&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Q3 2021 tidymodels roundup</title><link>https://www.tidyverse.org/blog/2021/09/tidymodels-2021-q3/</link><pubDate>Tue, 28 Sep 2021 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2021/09/tidymodels-2021-q3/</guid><description>&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles. We now publish
&lt;a href="https://www.tidyverse.org/categories/roundup/" target="_blank" rel="noopener">regular updates&lt;/a> here on the tidyverse blog summarizing recent developments in the tidymodels ecosystem. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including those that focus on a single package or more major releases. The purpose of these roundup posts is to keep you informed about any releases you may have missed and useful new functionality as we maintain these packages.&lt;/p>
&lt;p>Since
&lt;a href="https://www.tidyverse.org/blog/2021/07/tidymodels-july-2021/" target="_blank" rel="noopener">our last roundup post&lt;/a>, there have been 9 CRAN releases of tidymodels packages. You can install these updates from CRAN with:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">install.packages&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;baguette&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;broom&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;dials&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;modeldata&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;poissonreg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;recipes&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;rules&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;stacks&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;textrecipes&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>NEWS&lt;/code> files are linked here for each package; you&amp;rsquo;ll notice that many of these releases involve small updates for CRAN policy or changes that are not user-facing. We write code in these smaller, modular packages that we can release frequently to make models easier to deploy and our software easier to maintain, but it can be a lot to keep up with as a user! We want to take the opportunity here to highlight a couple of more important changes in these releases.&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://baguette.tidymodels.org/news/index.html#baguette-0-1-1-2021-07-14" target="_blank" rel="noopener">baguette&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://broom.tidymodels.org/news/index.html#broom-0-7-9-2021-07-27" target="_blank" rel="noopener">broom&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://dials.tidymodels.org/news/index.html#dials-0-0-10-2021-09-10" target="_blank" rel="noopener">dials&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://github.com/tidymodels/modeldata/blob/master/NEWS.md#modeldata-011" target="_blank" rel="noopener">modeldata&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://poissonreg.tidymodels.org/news/index.html#poissonreg-0-1-1-2021-08-07" target="_blank" rel="noopener">poissonreg&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/news/index.html#recipes-0-1-17-2021-09-27" target="_blank" rel="noopener">recipes&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://rules.tidymodels.org/news/index.html#rules-0-1-2-2021-08-07" target="_blank" rel="noopener">rules&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://github.com/tidymodels/stacks/blob/main/NEWS.md#v021" target="_blank" rel="noopener">stacks&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://textrecipes.tidymodels.org/news/index.html#textrecipes-0-4-1-2021-07-11" target="_blank" rel="noopener">textrecipes&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="new-parameter-objects">New parameter objects
&lt;a href="#new-parameter-objects">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The
&lt;a href="https://dials.tidymodels.org/" target="_blank" rel="noopener">dials&lt;/a> package is one that you might not have thought much about yet, even if you are a regular tidymodels user. It is an infrastructure package for creating and managing
&lt;a href="https://www.tmwr.org/tuning.html#tuning-params-tidymodels" target="_blank" rel="noopener">hyperparameters&lt;/a> as well as grids (both
&lt;a href="https://www.tmwr.org/grid-search.html#grids" target="_blank" rel="noopener">regular and non-regular&lt;/a>) of hyperparameters. The most recent release of dials includes several new parameters, and
&lt;a href="https://www.frick.ws/" target="_blank" rel="noopener">Hannah Frick&lt;/a> is now the package maintainer.&lt;/p>
&lt;p>One of the new parameters in this release is
&lt;a href="https://dials.tidymodels.org/reference/stop_iter.html" target="_blank" rel="noopener">&lt;code>stop_iter()&lt;/code>&lt;/a>, the number of iterations without improvement before
&lt;a href="https://en.wikipedia.org/wiki/Early_stopping" target="_blank" rel="noopener">&amp;ldquo;early stopping&amp;rdquo;&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tidymodels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; ── Attaching packages ──────────────────────────── tidymodels 0.1.3 ──&lt;/span>
&lt;span class="c1">#&amp;gt; ✓ broom 0.7.9 ✓ rsample 0.1.0 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ dials 0.0.10 ✓ tibble 3.1.4 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ dplyr 1.0.7 ✓ tidyr 1.1.3 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ infer 1.0.0 ✓ tune 0.1.6 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ modeldata 0.1.1 ✓ workflows 0.2.3 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ parsnip 0.1.7 ✓ workflowsets 0.1.0 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ purrr 0.3.4 ✓ yardstick 0.0.8 &lt;/span>
&lt;span class="c1">#&amp;gt; ✓ recipes 0.1.17&lt;/span>
&lt;span class="c1">#&amp;gt; ── Conflicts ─────────────────────────────── tidymodels_conflicts() ──&lt;/span>
&lt;span class="c1">#&amp;gt; x purrr::discard() masks scales::discard()&lt;/span>
&lt;span class="c1">#&amp;gt; x dplyr::filter() masks stats::filter()&lt;/span>
&lt;span class="c1">#&amp;gt; x dplyr::lag() masks stats::lag()&lt;/span>
&lt;span class="c1">#&amp;gt; x recipes::step() masks stats::step()&lt;/span>
&lt;span class="c1">#&amp;gt; • Use tidymodels_prefer() to resolve common conflicts.&lt;/span>
&lt;span class="nf">stop_iter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1">#&amp;gt; # Iterations Before Stopping (quantitative)&lt;/span>
&lt;span class="c1">#&amp;gt; Range: [3, 20]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>You don&amp;rsquo;t typically use parameters from dials like this, though. Instead, the infrastructure these parameters provide is what allows us to fluently tune our hyperparameters. For example, we can use data on high-performance computing jobs to predict the class of those jobs with xgboost, choosing to try out different values for early stopping (along with another hyperparameter &lt;code>mtry&lt;/code>).&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hpc_data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">hpc_folds&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">vfold_cv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hpc_data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">strata&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">class&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">hpc_formula&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="n">class&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">compounds&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">input_fields&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">iterations&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">num_pending&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">hour&lt;/span>
&lt;span class="n">stopping_spec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">boost_tree&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">trees&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">learn_rate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.02&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">mtry&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">tune&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;span class="n">stop_iter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">tune&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">set_engine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;xgboost&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">validation&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">set_mode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;classification&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">early_stop_wf&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">workflow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hpc_formula&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stopping_spec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We can now tune this &lt;code>workflow()&lt;/code> over the resamples &lt;code>hpc_folds&lt;/code> and find out which values for the hyperparameters turned out best.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">doParallel&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">registerDoParallel&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="nf">set.seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">123&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">early_stop_rs&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">tune_grid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">early_stop_wf&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hpc_folds&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; i Creating pre-processing data to finalize unknown parameter: mtry&lt;/span>
&lt;span class="nf">show_best&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">early_stop_rs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;roc_auc&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; # A tibble: 5 × 8&lt;/span>
&lt;span class="c1">#&amp;gt; mtry stop_iter .metric .estimator mean n std_err .config &lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; 1 3 13 roc_auc hand_till 0.887 10 0.00337 Preprocessor…&lt;/span>
&lt;span class="c1">#&amp;gt; 2 2 11 roc_auc hand_till 0.887 10 0.00414 Preprocessor…&lt;/span>
&lt;span class="c1">#&amp;gt; 3 2 15 roc_auc hand_till 0.886 10 0.00342 Preprocessor…&lt;/span>
&lt;span class="c1">#&amp;gt; 4 4 7 roc_auc hand_till 0.885 10 0.00365 Preprocessor…&lt;/span>
&lt;span class="c1">#&amp;gt; 5 4 9 roc_auc hand_till 0.884 10 0.00353 Preprocessor…&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>In this case, the best value for the early stopping parameter is 13.&lt;/p>
&lt;p>
&lt;a href="https://youtu.be/aXAafzOFyjk" target="_blank" rel="noopener">This recent screencast demonstrates&lt;/a> how to tune early stopping for xgboost as well.&lt;/p>
&lt;p>Several of the new parameter objects in this version of dials are prep work for supporting more options in tidymodels, such as tuning yet more hyperparameters of xgboost (like L1 and L2 penalties and whether to balance classes), generalized additive models, discriminant analysis models, recursively partitioned models, and a recipe step for sparse PCA. Stay tuned for more on these new options!&lt;/p>
&lt;h2 id="improvements-to-recipes">Improvements to recipes
&lt;a href="#improvements-to-recipes">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The most recent release of recipes is a robust one, including new recipe steps, bug fixes, documentation improvements, and better performance. You can dig into the
&lt;a href="https://recipes.tidymodels.org/news/index.html" target="_blank" rel="noopener">NEWS file&lt;/a> for more details, but check out a few of the most important changes.&lt;/p>
&lt;p>We added a new recipe step for creating sine and cosine features,
&lt;a href="https://recipes.tidymodels.org/reference/step_harmonic.html" target="_blank" rel="noopener">&lt;code>step_harmonic()&lt;/code>&lt;/a>. We can use this to analyze data with periodic features, like
&lt;a href="https://en.wikipedia.org/wiki/Solar_cycle" target="_blank" rel="noopener">the annual number of sunspots&lt;/a>. The &lt;code>sunspot.year&lt;/code> dataset has an observation every year, and the solar cycle is about 11 years long.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sunspot.year&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sunspots&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">tibble&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">year&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1700&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="m">1988&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">n_sunspot&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sunspot.year&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sun_split&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">initial_time_split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sunspots&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sun_train&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">training&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sun_split&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sun_test&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">testing&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sun_split&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sunspots_rec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n_sunspot&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sun_train&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_harmonic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">frequency&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="m">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cycle_size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">role&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;predictor&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">keep_original_cols&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">FALSE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">lm_spec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">linear_reg&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">sunspots_wf&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">workflow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sunspots_rec&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lm_spec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sunspots_fit&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">fit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sunspots_wf&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sun_train&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sunspots_fit&lt;/span>
&lt;span class="c1">#&amp;gt; ══ Workflow [trained] ════════════════════════════════════════════════&lt;/span>
&lt;span class="c1">#&amp;gt; Preprocessor: Recipe&lt;/span>
&lt;span class="c1">#&amp;gt; Model: linear_reg()&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; ── Preprocessor ──────────────────────────────────────────────────────&lt;/span>
&lt;span class="c1">#&amp;gt; 1 Recipe Step&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; • step_harmonic()&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; ── Model ─────────────────────────────────────────────────────────────&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; Call:&lt;/span>
&lt;span class="c1">#&amp;gt; stats::lm(formula = ..y ~ ., data = data)&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; Coefficients:&lt;/span>
&lt;span class="c1">#&amp;gt; (Intercept) year_sin_1 year_cos_1 &lt;/span>
&lt;span class="c1">#&amp;gt; 42.904 9.691 20.504&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We can now predict with this fitted linear model on the most recent years.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">sunspots_fit&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">augment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sun_test&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n_sunspot&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">.pred&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">pivot_longer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">year&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">ggplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">aes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">geom_line&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">alpha&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1.2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">theme_minimal&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">labs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Number of sunspots&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="figure/unnamed-chunk-7-1.png" alt="plot of chunk unnamed-chunk-7">&lt;/p>
&lt;p>Looks like there have been
&lt;a href="https://en.wikipedia.org/wiki/Solar_cycle#Cycle_history" target="_blank" rel="noopener">more sunspots in recent decades&lt;/a> compared to the past!&lt;/p>
&lt;p>Another new recipe step is
&lt;a href="https://recipes.tidymodels.org/reference/step_dummy_multi_choice.html" target="_blank" rel="noopener">&lt;code>step_dummy_multi_choice()&lt;/code>&lt;/a>, while
&lt;a href="https://recipes.tidymodels.org/reference/step_kpca.html" target="_blank" rel="noopener">&lt;code>step_kpca()&lt;/code>&lt;/a> was &amp;ldquo;un-deprecated&amp;rdquo; and
&lt;a href="https://recipes.tidymodels.org/reference/step_spatialsign.html" target="_blank" rel="noopener">&lt;code>step_spatialsign()&lt;/code>&lt;/a> and
&lt;a href="https://recipes.tidymodels.org/reference/step_geodist.html" target="_blank" rel="noopener">&lt;code>step_geodist()&lt;/code>&lt;/a> were improved.&lt;/p>
&lt;p>If you
&lt;a href="https://www.tidymodels.org/learn/develop/recipes/" target="_blank" rel="noopener">build your own recipe steps&lt;/a>, the new
&lt;a href="https://recipes.tidymodels.org/reference/recipes_eval_select.html" target="_blank" rel="noopener">&lt;code>recipes_eval_select()&lt;/code>&lt;/a> function is now available, powering the tidyselect semantics specific to recipes. The older &lt;code>terms_select()&lt;/code> function is now deprecated in favor of this new helper.&lt;/p>
&lt;p>The recipes package is fairly extensive, and we have recently invested time and energy in refining
&lt;a href="https://recipes.tidymodels.org/reference/" target="_blank" rel="noopener">the documentation&lt;/a> to make it more navigable and clear, as well as easier to maintain and contribute to. Specific documentation pages with recent updates you may find helpful include:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/reference/recipe.html" target="_blank" rel="noopener">how to create a &lt;code>recipe()&lt;/code>&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/reference/selections.html" target="_blank" rel="noopener">selecting variables for recipe steps&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/reference/tidy.recipe.html" target="_blank" rel="noopener">tidying recipes and recipe steps&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="reexamining-example-datasets">Reexamining example datasets
&lt;a href="#reexamining-example-datasets">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>One of the tidymodels packages is
&lt;a href="https://modeldata.tidymodels.org/" target="_blank" rel="noopener">modeldata&lt;/a>, where we keep example datasets for vignettes, examples, and other similar uses. We have included two datasets, &lt;code>okc&lt;/code> and &lt;code>okc_text&lt;/code>, in modeldata based on real user data from the dating website OkCupid.&lt;/p>
&lt;p>This dataset was sourced from
&lt;a href="https://doi.org/10.1080/26939169.2021.1924516" target="_blank" rel="noopener">Kim and Escobedo-Land (2015)&lt;/a>. Permission to use this dataset was explicitly granted by OkCupid, but since that time, concerns have been raised about the ethics of using this or similar data sets, for example to identify individuals.
&lt;a href="https://doi.org/10.1080/26939169.2021.1930812" target="_blank" rel="noopener">Xiao and Ma (2021)&lt;/a> specifically address the possible misuse of this particular dataset, and we now agree that it isn&amp;rsquo;t a good option to use for examples or teaching. In the most recent release of modeldata, we have marked these datasets as deprecated. We have removed them from the
&lt;a href="https://github.com/tidymodels/modeldata/" target="_blank" rel="noopener">development version of the package on GitHub&lt;/a>, and they will be removed entirely in the &lt;em>next&lt;/em> CRAN release. We especially want to thank Albert Kim, one of the authors of the original paper, for his
&lt;a href="https://github.com/tidymodels/modeldata/issues/10" target="_blank" rel="noopener">thoughtful and helpful discussion&lt;/a>.&lt;/p>
&lt;p>One of the reasons we found the OkCupid dataset useful was that it included multiple text columns per observation, so removing these two datasets motivated us to look for a new option to include instead. We landed on
&lt;a href="https://modeldata.tidymodels.org/reference/tate_text.html" target="_blank" rel="noopener">metadata for modern artwork from the Tate Gallery&lt;/a>; if you used &lt;code>okc_text&lt;/code> in the past, we recommend switching to &lt;code>tate_text&lt;/code>. For example, we can count how many of these examples of artwork involve paper or canvas.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tate_text&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">textrecipes&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">paper_or_canvas&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;paper&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;canvas&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span> &lt;span class="n">.,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tate_text&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_tokenize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">medium&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_stopwords&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">medium&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">custom_stopword_source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">paper_or_canvas&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">keep&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">TRUE&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_tf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">medium&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">prep&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">bake&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">new_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">NULL&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">artist&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nf">starts_with&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tf&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">#&amp;gt; # A tibble: 4,284 × 4&lt;/span>
&lt;span class="c1">#&amp;gt; artist year tf_medium_canvas tf_medium_paper&lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;fct&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 1 Absalon 1990 0 0&lt;/span>
&lt;span class="c1">#&amp;gt; 2 Auerbach, Frank 1990 0 1&lt;/span>
&lt;span class="c1">#&amp;gt; 3 Auerbach, Frank 1990 0 1&lt;/span>
&lt;span class="c1">#&amp;gt; 4 Auerbach, Frank 1990 0 1&lt;/span>
&lt;span class="c1">#&amp;gt; 5 Auerbach, Frank 1990 1 0&lt;/span>
&lt;span class="c1">#&amp;gt; 6 Ayres, OBE Gillian 1990 1 0&lt;/span>
&lt;span class="c1">#&amp;gt; 7 Barlow, Phyllida 1990 0 1&lt;/span>
&lt;span class="c1">#&amp;gt; 8 Baselitz, Georg 1990 0 1&lt;/span>
&lt;span class="c1">#&amp;gt; 9 Beattie, Basil 1990 1 0&lt;/span>
&lt;span class="c1">#&amp;gt; 10 Beuys, Joseph 1990 0 1&lt;/span>
&lt;span class="c1">#&amp;gt; # … with 4,274 more rows&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>This artwork metadata was a
&lt;a href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2021/2021-01-12/readme.md" target="_blank" rel="noopener">Tidy Tuesday dataset&lt;/a> earlier this year.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We’d like to extend our thanks to all of the contributors who helped make these releases during Q3 possible!&lt;/p>
&lt;ul>
&lt;li>
&lt;p>baguette:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>broom:
&lt;a href="https://github.com/bcallaway11" target="_blank" rel="noopener">@bcallaway11&lt;/a>,
&lt;a href="https://github.com/billdenney" target="_blank" rel="noopener">@billdenney&lt;/a>,
&lt;a href="https://github.com/brshallo" target="_blank" rel="noopener">@brshallo&lt;/a>,
&lt;a href="https://github.com/corybrunson" target="_blank" rel="noopener">@corybrunson&lt;/a>,
&lt;a href="https://github.com/crsh" target="_blank" rel="noopener">@crsh&lt;/a>,
&lt;a href="https://github.com/gregmacfarlane" target="_blank" rel="noopener">@gregmacfarlane&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/ilapros" target="_blank" rel="noopener">@ilapros&lt;/a>,
&lt;a href="https://github.com/jamesrrae" target="_blank" rel="noopener">@jamesrrae&lt;/a>,
&lt;a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc&lt;/a>,
&lt;a href="https://github.com/jthomasmock" target="_blank" rel="noopener">@jthomasmock&lt;/a>,
&lt;a href="https://github.com/kaseyzapatka" target="_blank" rel="noopener">@kaseyzapatka&lt;/a>,
&lt;a href="https://github.com/krivit" target="_blank" rel="noopener">@krivit&lt;/a>,
&lt;a href="https://github.com/LukasWallrich" target="_blank" rel="noopener">@LukasWallrich&lt;/a>,
&lt;a href="https://github.com/oskasf" target="_blank" rel="noopener">@oskasf&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/tarensanders" target="_blank" rel="noopener">@tarensanders&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>dials:
&lt;a href="https://github.com/camroberts" target="_blank" rel="noopener">@camroberts&lt;/a>,
&lt;a href="https://github.com/driapitek" target="_blank" rel="noopener">@driapitek&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/Steviey" target="_blank" rel="noopener">@Steviey&lt;/a>,
&lt;a href="https://github.com/tonyk7440" target="_blank" rel="noopener">@tonyk7440&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>modeldata:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>poissonreg:
&lt;a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>recipes:
&lt;a href="https://github.com/AndrewKostandy" target="_blank" rel="noopener">@AndrewKostandy&lt;/a>,
&lt;a href="https://github.com/asiripanich" target="_blank" rel="noopener">@asiripanich&lt;/a>,
&lt;a href="https://github.com/atusy" target="_blank" rel="noopener">@atusy&lt;/a>,
&lt;a href="https://github.com/avrenli2" target="_blank" rel="noopener">@avrenli2&lt;/a>,
&lt;a href="https://github.com/czopluoglu" target="_blank" rel="noopener">@czopluoglu&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/DesmondChoy" target="_blank" rel="noopener">@DesmondChoy&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/felipeangelimvieira" target="_blank" rel="noopener">@felipeangelimvieira&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/kadyb" target="_blank" rel="noopener">@kadyb&lt;/a>,
&lt;a href="https://github.com/mmp3" target="_blank" rel="noopener">@mmp3&lt;/a>,
&lt;a href="https://github.com/MrFlick" target="_blank" rel="noopener">@MrFlick&lt;/a>,
&lt;a href="https://github.com/NikKrieger" target="_blank" rel="noopener">@NikKrieger&lt;/a>,
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>,
&lt;a href="https://github.com/simonschoe" target="_blank" rel="noopener">@simonschoe&lt;/a>,
&lt;a href="https://github.com/SlowMo24" target="_blank" rel="noopener">@SlowMo24&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/vspinu" target="_blank" rel="noopener">@vspinu&lt;/a>, and
&lt;a href="https://github.com/yyhyun64" target="_blank" rel="noopener">@yyhyun64&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>rules:
&lt;a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>stacks:
&lt;a href="https://github.com/bensoltoff" target="_blank" rel="noopener">@bensoltoff&lt;/a>,
&lt;a href="https://github.com/dgrtwo" target="_blank" rel="noopener">@dgrtwo&lt;/a>,
&lt;a href="https://github.com/JoeSydlowski" target="_blank" rel="noopener">@JoeSydlowski&lt;/a>,
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>, and
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>textrecipes:
&lt;a href="https://github.com/dgrtwo" target="_blank" rel="noopener">@dgrtwo&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/jcragy" target="_blank" rel="noopener">@jcragy&lt;/a>,
&lt;a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>New tidymodels releases for July 2021</title><link>https://www.tidyverse.org/blog/2021/07/tidymodels-july-2021/</link><pubDate>Tue, 27 Jul 2021 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2021/07/tidymodels-july-2021/</guid><description>&lt;!--
TODO:
* [ ] Look over / edit the post's title in the yaml
* [ ] Edit (or delete) the description; note this appears in the Twitter card
* [ ] Pick category and tags (see existing with `hugodown::tidy_show_meta()`)
* [ ] Find photo &amp; update yaml metadata
* [ ] Create `thumbnail-sq.jpg`; height and width should be equal
* [ ] Create `thumbnail-wd.jpg`; width should be >5x height
* [ ] `hugodown::use_tidy_thumbnails()`
* [ ] Add intro sentence, e.g. the standard tagline for the package
* [ ] `usethis::use_tidy_thanks()`
-->
&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles. Earlier this year, we
&lt;a href="https://www.tidyverse.org/blog/2021/03/tidymodels-2021-q1/" target="_blank" rel="noopener">started regular updates&lt;/a> here on the tidyverse blog summarizing recent developments in the tidymodels ecosystem. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including those that focus on a single package or more major releases. The purpose of these roundup posts is to keep you informed about any releases you may have missed and useful new functionality as we maintain these packages.&lt;/p>
&lt;p>Recently, we had a series of CRAN releases:
&lt;a href="https://hardhat.tidymodels.org/news/index.html#hardhat-0-1-6-2021-07-14" target="_blank" rel="noopener">hardhat&lt;/a>,
&lt;a href="https://workflows.tidymodels.org/news/#workflows-0-2-3-2021-07-15" target="_blank" rel="noopener">workflows&lt;/a>,
&lt;a href="https://parsnip.tidymodels.org/news/#parsnip-0-1-7-2021-07-21" target="_blank" rel="noopener">parsnip&lt;/a>,
&lt;a href="https://tune.tidymodels.org/news/#tune-0-1-6-2021-07-21" target="_blank" rel="noopener">tune&lt;/a>,
&lt;a href="https://finetune.tidymodels.org/news/#finetune-0-1-0-unreleased" target="_blank" rel="noopener">finetune&lt;/a>,
&lt;a href="https://workflowsets.tidymodels.org/news/#workflowsets-0-1-0-unreleased" target="_blank" rel="noopener">workflowsets&lt;/a>, and
&lt;a href="https://discrim.tidymodels.org/news/#discrim-0-1-3-unreleased" target="_blank" rel="noopener">discrim&lt;/a>. These were coordinated because of some cross-package improvements. This blog post summarizes the changes.&lt;/p>
&lt;h2 id="object-extraction">Object extraction
&lt;a href="#object-extraction">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The tidymodels team decided that we needed a consistent set of APIs for extracting things from objects. For example, a parsnip model contains the underlying model fit based on the engine. A &lt;code>linear_reg()&lt;/code> model with the &lt;code>&amp;quot;lm&amp;quot;&lt;/code> engine contains an &lt;code>lm&lt;/code> object. There were some existing functions to do this (mostly named &lt;code>pull_*()&lt;/code>) but they were fairly inconsistent and were not generics.&lt;/p>
&lt;p>We added the following functions: &lt;code>extract_fit_engine()&lt;/code>, &lt;code>extract_fit_parsnip()&lt;/code>, &lt;code>extract_mold()&lt;/code>, &lt;code>extract_numeric()&lt;/code>, &lt;code>extract_preprocessor()&lt;/code>, &lt;code>extract_recipe()&lt;/code>, &lt;code>extract_spec_parsnip()&lt;/code>, &lt;code>extract_workflow()&lt;/code>, and &lt;code>extract_workflow_set_result()&lt;/code>.&lt;/p>
&lt;p>The nice thing about this change is that a function such as &lt;code>extract_recipe()&lt;/code> can be used with objects created by the tune, workflows, or workflowsets packages.&lt;/p>
&lt;p>The existing &lt;code>pull_*()&lt;/code> methods have been soft-deprecated and will stick around for a while.&lt;/p>
&lt;h2 id="better-model-documentation">Better model documentation
&lt;a href="#better-model-documentation">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>One issue that we&amp;rsquo;ve seen in the parsnip documentation is that there is just &lt;em>so much&lt;/em> on each model page. It can be intimidating and difficult to find that one piece of information that you were looking for.&lt;/p>
&lt;p>We&amp;rsquo;ve reorganized the model pages so that there are now sub-packages for each engine. For example, when you use &lt;code>?linear_reg&lt;/code>, the help page has a &lt;em>dynamic&lt;/em> list of engines from parsnip or any parsnip-adjacent package that has been loaded. Here is what the
&lt;a href="https://parsnip.tidymodels.org/reference/linear_reg.html" target="_blank" rel="noopener">pkgdown site&lt;/a> looks like:&lt;/p>
&lt;p>&lt;img src="linear_reg.png" title="plot of chunk parsnip" alt="plot of chunk parsnip" width="90%" style="display: block; margin: auto;" />&lt;/p>
&lt;p>There is a similar dynamic list in the &lt;code>See Also&lt;/code> section.&lt;/p>
&lt;p>Each engine page provides basic information about tuning parameters, modes, preprocessing requirements, and anything else that we thing is relevant. For example, for the C5.0 engine for &lt;code>boost_tree()&lt;/code>:&lt;/p>
&lt;p>&lt;img src="C5.0.png" title="plot of chunk C50" alt="plot of chunk C50" width="90%" style="display: block; margin: auto;" />&lt;/p>
&lt;p>Finally, the existing parsnip documentation didn&amp;rsquo;t show the actual fitting and/or prediction in action. A
&lt;a href="https://parsnip.tidymodels.org/articles/articles/Examples.html" target="_blank" rel="noopener">new pkgdown article&lt;/a> has worked examples demonstrating the use of parsnip models on real data. Here is a screen shot for MARS regression via the earth package:&lt;/p>
&lt;p>&lt;img src="earth.png" title="plot of chunk earth" alt="plot of chunk earth" width="90%" style="display: block; margin: auto;" />&lt;/p>
&lt;p>We think that these changes will greatly improve the whole parsnip experience, especially for new users.&lt;/p>
&lt;h2 id="simpler-parsnip-and-workflows-interfaces">Simpler parsnip and workflows interfaces
&lt;a href="#simpler-parsnip-and-workflows-interfaces">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Our good friend and colleague
&lt;a href="https://twitter.com/drob" target="_blank" rel="noopener">David Robinson&lt;/a> had
&lt;a href="http://varianceexplained.org/r/sliced-ml/#where-tidymodels-can-improve" target="_blank" rel="noopener">some great ideas&lt;/a> for specific improvements for our APIs. After some discussion, both of his suggestions were implemented.&lt;/p>
&lt;p>First, we enabled a default engine for parsnip models (you may have noticed this in the screen shots above). This produces simpler code for some model functions and, if a model has a single mode, fitting is as concise as&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># use lm() for regression&lt;/span>
&lt;span class="nf">linear_reg&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span> &lt;span class="nf">fit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mpg&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">.,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mtcars&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Another nice feature is more succinct piping for workflows. A preprocessor, such as a formula or recipe, can be piped into &lt;code>workflow()&lt;/code> now. Also, there is an optional second argument in that function for the model specification.&lt;/p>
&lt;p>Instead of&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">car_rec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mpg&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">.,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mtcars&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_ns&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">disp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">deg_free&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">car_wflow&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">workflow&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">add_recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">car_rec&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">add_model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">linear_reg&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>you can now use&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">car_wflow&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mpg&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">.,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mtcars&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_ns&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">disp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">deg_free&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">workflow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">linear_reg&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you might be on the fence about using tidymodels,
&lt;a href="http://varianceexplained.org/r/sliced-ml/" target="_blank" rel="noopener">David&amp;rsquo;s blog post&lt;/a> does an excellent job encapsulating the benefits of our approach, so give it a read.&lt;/p>
&lt;h2 id="other-changes">Other changes
&lt;a href="#other-changes">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>parsnip now has a generalized additive model function
&lt;a href="https://parsnip.tidymodels.org/reference/gen_additive_mod.html" target="_blank" rel="noopener">&lt;code>gen_additive_mod()&lt;/code>&lt;/a>! There is currently one engine (&lt;code>mgcv&lt;/code>).&lt;/p>
&lt;p>The tune package has better control over random numbers since, in some cases, the
&lt;a href="https://github.com/tidymodels/tune/issues/389" target="_blank" rel="noopener">RNGkind was changed&lt;/a> after tuning a model.&lt;/p>
&lt;p>The discrim package has the new parsnip-like documentation and new model engines. Also, the shrunken discriminant analysis method of Ahdesmaki and Strimmer (2010) was added as an engine to &lt;code>discrim_linear()&lt;/code>. The newly resurrected sparsediscrim package allowed use to include new engines for
&lt;a href="https://discrim.tidymodels.org/reference/details_discrim_linear_sparsediscrim.html" target="_blank" rel="noopener">&lt;code>discrim_linear()&lt;/code>&lt;/a> and
&lt;a href="https://discrim.tidymodels.org/reference/details_discrim_quad_sparsediscrim.html" target="_blank" rel="noopener">&lt;code>discrim_quad()&lt;/code>&lt;/a>.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We&amp;rsquo;d like to thank everyone who has contributed to these packages since their last release:&lt;/p>
&lt;p>&lt;strong>hardhat&lt;/strong>:
&lt;a href="https://github.com/cregouby" target="_blank" rel="noopener">@cregouby&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/DiabbZegpi" target="_blank" rel="noopener">@DiabbZegpi&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jwijffels" target="_blank" rel="noopener">@jwijffels&lt;/a>,
&lt;a href="https://github.com/LasWin" target="_blank" rel="noopener">@LasWin&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;p>&lt;strong>workflows&lt;/strong>:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/dgrtwo" target="_blank" rel="noopener">@dgrtwo&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/LiamBlake" target="_blank" rel="noopener">@LiamBlake&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;p>&lt;strong>parsnip&lt;/strong>:
&lt;a href="https://github.com/cgoo4" target="_blank" rel="noopener">@cgoo4&lt;/a>,
&lt;a href="https://github.com/dgrtwo" target="_blank" rel="noopener">@dgrtwo&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/graysonwhite" target="_blank" rel="noopener">@graysonwhite&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>,
&lt;a href="https://github.com/RaymondBalise" target="_blank" rel="noopener">@RaymondBalise&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/yutannihilation" target="_blank" rel="noopener">@yutannihilation&lt;/a>.&lt;/p>
&lt;p>&lt;strong>tune&lt;/strong>:
&lt;a href="https://github.com/amazongodman" target="_blank" rel="noopener">@amazongodman&lt;/a>,
&lt;a href="https://github.com/brshallo" target="_blank" rel="noopener">@brshallo&lt;/a>,
&lt;a href="https://github.com/dpanyard" target="_blank" rel="noopener">@dpanyard&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/klin333" target="_blank" rel="noopener">@klin333&lt;/a>,
&lt;a href="https://github.com/mbac" target="_blank" rel="noopener">@mbac&lt;/a>,
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>,
&lt;a href="https://github.com/tjcason" target="_blank" rel="noopener">@tjcason&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/yogat3ch" target="_blank" rel="noopener">@yogat3ch&lt;/a>.&lt;/p>
&lt;p>&lt;strong>finetune&lt;/strong>:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/hnagaty" target="_blank" rel="noopener">@hnagaty&lt;/a>,
&lt;a href="https://github.com/lukasal" target="_blank" rel="noopener">@lukasal&lt;/a>,
&lt;a href="https://github.com/Mayalaroz" target="_blank" rel="noopener">@Mayalaroz&lt;/a>,
&lt;a href="https://github.com/mrkaye97" target="_blank" rel="noopener">@mrkaye97&lt;/a>,
&lt;a href="https://github.com/shinyquant" target="_blank" rel="noopener">@shinyquant&lt;/a>,
&lt;a href="https://github.com/skeydan" target="_blank" rel="noopener">@skeydan&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;p>&lt;strong>workflowsets&lt;/strong>:
&lt;a href="https://github.com/amazongodman" target="_blank" rel="noopener">@amazongodman&lt;/a>,
&lt;a href="https://github.com/jonthegeek" target="_blank" rel="noopener">@jonthegeek&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/oskasf" target="_blank" rel="noopener">@oskasf&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/yogat3ch" target="_blank" rel="noopener">@yogat3ch&lt;/a>.&lt;/p>
&lt;p>&lt;strong>discrim&lt;/strong>:
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p></description></item><item><title>Q2 2021 tidymodels digest</title><link>https://www.tidyverse.org/blog/2021/07/tidymodels-2021-q2/</link><pubDate>Fri, 02 Jul 2021 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2021/07/tidymodels-2021-q2/</guid><description>&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles. Earlier this year, we
&lt;a href="https://www.tidyverse.org/blog/2021/03/tidymodels-2021-q1/" target="_blank" rel="noopener">started regular updates&lt;/a> here on the tidyverse blog summarizing recent developments in the tidymodels ecosystem. You can check out the
&lt;a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank" rel="noopener">&lt;code>tidymodels&lt;/code> tag&lt;/a> to find all tidymodels blog posts here, including those that focus on a single package or more major releases. The purpose of these roundup posts is to keep you informed about any releases you may have missed and useful new functionality as we maintain these packages.&lt;/p>
&lt;p>Since our last roundup post, there have been 19 CRAN releases of 15 different packages. That might sound like a lot of change to absorb as a tidymodels user! However, we purposefully write code in small, modular packages that we can release frequently to make models easier to deploy and our software easier to maintain. You can install these updates from CRAN with:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">install.packages&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;broom&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;butcher&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;discrim&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;hardhat&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;parsnip&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;probably&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;recipes&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;rsample&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;stacks&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;themis&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;tidymodels&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;tidyposterior&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;tune&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;workflowsets&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;yardstick&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>NEWS&lt;/code> files are linked here for each package; you&amp;rsquo;ll notice that many of these releases involve small bug fixes or internal changes that are not user-facing. It&amp;rsquo;s a lot to keep up with and there are some super useful updates in the mix, so read on for several highlights!&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://broom.tidymodels.org/news/index.html#broom-0-7-8-2021-06-24" target="_blank" rel="noopener">broom&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://butcher.tidymodels.org/news/index.html#butcher-0-1-4-2021-03-19" target="_blank" rel="noopener">butcher&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://discrim.tidymodels.org/news/index.html#discrim-0-1-2-2021-05-28" target="_blank" rel="noopener">discrim&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://hardhat.tidymodels.org/news/index.html#hardhat-0-1-4-2020-07-02" target="_blank" rel="noopener">hardhat&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://parsnip.tidymodels.org/news/index.html#parsnip-0-1-6-2021-05-27" target="_blank" rel="noopener">parsnip&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://probably.tidymodels.org/news/index.html#probably-0-0-6-2020-06-05" target="_blank" rel="noopener">probably&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://recipes.tidymodels.org/news/index.html#recipes-0-1-16-2021-04-16" target="_blank" rel="noopener">recipes&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://rsample.tidymodels.org/news/index.html#rsample-0-1-0-2021-05-08" target="_blank" rel="noopener">rsample&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://github.com/tidymodels/stacks/blob/main/NEWS.md#v020" target="_blank" rel="noopener">stacks&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://themis.tidymodels.org/dev/news/index.html#themis-0-1-4-2021-06-12" target="_blank" rel="noopener">themis&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tidymodels.tidymodels.org/news/index.html#tidymodels-0-1-3-2021-04-19" target="_blank" rel="noopener">tidymodels&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://github.com/tidymodels/tidyposterior/blob/master/NEWS.md#tidyposterior-010" target="_blank" rel="noopener">tidyposterior&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tune.tidymodels.org/news/index.html#tune-0-1-5-2021-04-23" target="_blank" rel="noopener">tune&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://workflowsets.tidymodels.org/news/index.html#workflowsets-0-0-2-2021-04-16" target="_blank" rel="noopener">workflowsets&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://yardstick.tidymodels.org/news/index.html#yardstick-0-0-8-2021-03-28" target="_blank" rel="noopener">yardstick&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="reduce-the-memory-footprint-of-your-recipes">Reduce the memory footprint of your recipes
&lt;a href="#reduce-the-memory-footprint-of-your-recipes">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The
&lt;a href="https://butcher.tidymodels.org/" target="_blank" rel="noopener">butcher&lt;/a> package provides methods to remove (or &amp;ldquo;axe&amp;rdquo;) components from model objects that are not needed for prediction. The most recent release updated how butcher handles &lt;em>recipes&lt;/em> (the tidymodels approach for preprocessing and feature engineering) for more complete and robust coverage. Let&amp;rsquo;s consider a simulated churn-classification dataset for phone company customers:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tidymodels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">butcher&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;mlc_churn&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">set.seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">123&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">churn_split&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">initial_split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mlc_churn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">churn_train&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">training&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_split&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">churn_test&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">testing&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_split&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">ggplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_train&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nf">aes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">voice_mail_plan&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">fill&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">churn&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">geom_bar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">alpha&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">position&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;fill&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">scale_x_continuous&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">scales&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">percent_format&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">labs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="figure/unnamed-chunk-3-1.png" alt="plot of chunk unnamed-chunk-3">&lt;/p>
&lt;p>For some kinds of models, we would want to create dummy or indicator variables from nominal predictors, and preprocess features to be on the same scale. We can use recipes for this task:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">churn_rec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">voice_mail_plan&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">total_intl_minutes&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="n">total_day_minutes&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">total_eve_minutes&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">churn_train&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_dummy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">all_nominal_predictors&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_normalize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">all_predictors&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can &lt;code>prep(churn_rec)&lt;/code> to estimate the quantities needed to create categorical features and to scale all the predictors:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">churn_prep&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">prep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_rec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">churn_prep&lt;/span>
&lt;span class="c1">#&amp;gt; Data Recipe&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; Inputs:&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; role #variables&lt;/span>
&lt;span class="c1">#&amp;gt; outcome 1&lt;/span>
&lt;span class="c1">#&amp;gt; predictor 5&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; Training data contained 3750 data points and no missing data.&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; Operations:&lt;/span>
&lt;span class="c1">#&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; Dummy variables from voice_mail_plan, state [trained]&lt;/span>
&lt;span class="c1">#&amp;gt; Centering and scaling for total_intl_minutes, total_day_minutes, ... [trained]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>To remove everything from this prepped recipe not needed for applying to new data (e.g.
&lt;a href="https://recipes.tidymodels.org/reference/bake.html" target="_blank" rel="noopener">bake()&lt;/a> it), we can call &lt;code>butcher(churn_prep)&lt;/code>. In some applications, modeling practitioners need to make custom functions with a feature-engineering recipe. Sometimes those functions have&amp;hellip; a lot of extra STUFF in them, stuff that is not needed for prediction.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">butchered_plus&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">some_stuff_in_the_environment&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">runif&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">1e6&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">churn_prep&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">voice_mail_plan&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">total_intl_minutes&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="n">total_day_minutes&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">total_eve_minutes&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">churn_train&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_dummy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">all_nominal_predictors&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">step_normalize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">all_predictors&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">prep&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="nf">butcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_prep&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>In the old version of butcher, we did not successfully remove all that extra stuff, and recipes were bigger than they needed to be:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># old version of butcher&lt;/span>
&lt;span class="n">lobstr&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">obj_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">butcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_prep&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">#&amp;gt; 1,835,512 B&lt;/span>
&lt;span class="n">lobstr&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">obj_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">butchered_plus&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="c1">#&amp;gt; 9,836,480 B&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>In the new version of butcher, we now successfully remove unneeded components from the recipe, so it is smaller:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># new version of butcher&lt;/span>
&lt;span class="n">lobstr&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">obj_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">butcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_prep&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">#&amp;gt; 1,695,352 B&lt;/span>
&lt;span class="n">lobstr&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nf">obj_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">butchered_plus&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="c1">#&amp;gt; 1,695,352 B&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>There are also &lt;code>butcher()&lt;/code> methods for &lt;code>workflow()&lt;/code> objects, so when you &lt;code>butcher()&lt;/code> a modeling workflow, you remove everything not needed for prediction from both its estimated recipe &lt;em>and&lt;/em> its trained model, making it as lightweight as possible for deployment.&lt;/p>
&lt;h2 id="svms-and-fast-logistic-regression-with-liblinear">SVMs and fast logistic regression with LiblineaR
&lt;a href="#svms-and-fast-logistic-regression-with-liblinear">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Unfortunately, the &lt;code>&amp;quot;liquidSVM&amp;quot;&lt;/code> engine for support vector machine models that parsnip supported was deprecated in the latest release, because that package was removed from CRAN. We added a new engine in the same release that allows users to fit linear SVMs with the
&lt;a href="https://parsnip.tidymodels.org/reference/svm_linear.html" target="_blank" rel="noopener">parsnip model &lt;code>svm_linear()&lt;/code>&lt;/a>, as well as having another option for logistic regression. This new &lt;code>&amp;quot;LiblineaR&amp;quot;&lt;/code> engine is based on the same C++ library that is shipped with
&lt;a href="https://scikit-learn.org/" target="_blank" rel="noopener">scikit-learn&lt;/a>. We&amp;rsquo;d like to thank the
&lt;a href="https://www.dnalytics.com/software/liblinear/" target="_blank" rel="noopener">maintainers of the LiblineaR R package&lt;/a> for all their help as we set up this integration.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">set.seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">234&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">churn_folds&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">vfold_cv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_train&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">v&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">strata&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">churn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">liblinear_spec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">logistic_reg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">penalty&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mixture&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">set_mode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;classification&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">set_engine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;LiblineaR&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">liblinear_wf&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">workflow&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">add_recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_rec&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">add_model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">liblinear_spec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">fit_resamples&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">liblinear_wf&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">resamples&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">churn_folds&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; # Resampling results&lt;/span>
&lt;span class="c1">#&amp;gt; # 5-fold cross-validation using stratification &lt;/span>
&lt;span class="c1">#&amp;gt; # A tibble: 5 x 4&lt;/span>
&lt;span class="c1">#&amp;gt; splits id .metrics .notes &lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;list&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;list&amp;gt; &amp;lt;list&amp;gt; &lt;/span>
&lt;span class="c1">#&amp;gt; 1 &amp;lt;split [2999/751]&amp;gt; Fold1 &amp;lt;tibble [2 × 4]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 2 &amp;lt;split [2999/751]&amp;gt; Fold2 &amp;lt;tibble [2 × 4]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 3 &amp;lt;split [3000/750]&amp;gt; Fold3 &amp;lt;tibble [2 × 4]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 4 &amp;lt;split [3001/749]&amp;gt; Fold4 &amp;lt;tibble [2 × 4]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 5 &amp;lt;split [3001/749]&amp;gt; Fold5 &amp;lt;tibble [2 × 4]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>&amp;quot;LiblineaR&amp;quot;&lt;/code> engine for regularized logistic regression
&lt;a href="https://twitter.com/juliasilge/status/1374029310764359681" target="_blank" rel="noopener">can be very fast compared to the &lt;code>&amp;quot;glmnet&amp;quot;&lt;/code> engine&lt;/a>, even when we use a
&lt;a href="https://www.tidyverse.org/blog/2020/11/tidymodels-sparse-support/" target="_blank" rel="noopener">sparse representation&lt;/a>. Check out
&lt;a href="https://gist.github.com/juliasilge/26a43e5e68cf12842354e6652dfed688" target="_blank" rel="noopener">benchmarking code here&lt;/a>.&lt;/p>
&lt;h2 id="post-processing-your-model-predictions-with-probably-and-yardstick">Post-processing your model predictions with probably and yardstick
&lt;a href="#post-processing-your-model-predictions-with-probably-and-yardstick">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We recently had releases of both the
&lt;a href="https://yardstick.tidymodels.org/" target="_blank" rel="noopener">yardstick&lt;/a> and
&lt;a href="https://probably.tidymodels.org/" target="_blank" rel="noopener">probably&lt;/a> packages, which now work together even better. The probably package can, among other things, help you post-process your model predictions. This data on churn is imbalanced, with many more customers who did not churn than those who did; we may need to use a threshold other than 0.5 for most appropriate results, or an organization may want to set a specific threshold for some action to prevent churn. You can set a threshold using the
&lt;a href="https://probably.tidymodels.org/reference/make_class_pred.html" target="_blank" rel="noopener">probably function &lt;code>make_two_class_pred()&lt;/code>&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">probably&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">set.seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">123&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">churn_preds&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="n">liblinear_wf&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">fit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_train&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">augment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn_test&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">churn_post&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="n">churn_preds&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">mutate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">.pred&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">make_two_class_pred&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">.pred_yes&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nf">levels&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">churn&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">threshold&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.7&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The class predictions created with probably integrate well with functions from yardstick, including custom sets of metrics created with
&lt;a href="https://yardstick.tidymodels.org/reference/metric_set.html" target="_blank" rel="noopener">&lt;code>metric_set()&lt;/code>&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">churn_metrics&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">metric_set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">accuracy&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sens&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">spec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">churn_post&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span> &lt;span class="nf">churn_metrics&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">truth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">churn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">estimate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">.pred_class&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; # A tibble: 3 x 3&lt;/span>
&lt;span class="c1">#&amp;gt; .metric .estimator .estimate&lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 1 accuracy binary 0.854 &lt;/span>
&lt;span class="c1">#&amp;gt; 2 sens binary 0.0619&lt;/span>
&lt;span class="c1">#&amp;gt; 3 spec binary 0.999&lt;/span>
&lt;span class="n">churn_post&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span> &lt;span class="nf">churn_metrics&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">truth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">churn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">estimate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">.pred&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#&amp;gt; # A tibble: 3 x 3&lt;/span>
&lt;span class="c1">#&amp;gt; .metric .estimator .estimate&lt;/span>
&lt;span class="c1">#&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt;&lt;/span>
&lt;span class="c1">#&amp;gt; 1 accuracy binary 0.746&lt;/span>
&lt;span class="c1">#&amp;gt; 2 sens binary 0.149&lt;/span>
&lt;span class="c1">#&amp;gt; 3 spec binary 0.856&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Notice that with the default threshold of 0.5, basically no customers were classified as at risk for churn! Adjusting the threshold with &lt;code>make_two_class_pred()&lt;/code> helps to address this issue.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We&amp;rsquo;d like to extend our thanks to all of the contributors who helped make these releases during Q2 possible!&lt;/p>
&lt;ul>
&lt;li>
&lt;p>broom:
&lt;a href="https://github.com/alexpghayes" target="_blank" rel="noopener">@alexpghayes&lt;/a>,
&lt;a href="https://github.com/andrewsris" target="_blank" rel="noopener">@andrewsris&lt;/a>,
&lt;a href="https://github.com/arcruz0" target="_blank" rel="noopener">@arcruz0&lt;/a>,
&lt;a href="https://github.com/bbolker" target="_blank" rel="noopener">@bbolker&lt;/a>,
&lt;a href="https://github.com/bgall" target="_blank" rel="noopener">@bgall&lt;/a>,
&lt;a href="https://github.com/cccneto" target="_blank" rel="noopener">@cccneto&lt;/a>,
&lt;a href="https://github.com/ddsjoberg" target="_blank" rel="noopener">@ddsjoberg&lt;/a>,
&lt;a href="https://github.com/DerForscher107" target="_blank" rel="noopener">@DerForscher107&lt;/a>,
&lt;a href="https://github.com/dikiprawisuda" target="_blank" rel="noopener">@dikiprawisuda&lt;/a>,
&lt;a href="https://github.com/dmenne" target="_blank" rel="noopener">@dmenne&lt;/a>,
&lt;a href="https://github.com/grantmcdermott" target="_blank" rel="noopener">@grantmcdermott&lt;/a>,
&lt;a href="https://github.com/japhir" target="_blank" rel="noopener">@japhir&lt;/a>,
&lt;a href="https://github.com/karldw" target="_blank" rel="noopener">@karldw&lt;/a>,
&lt;a href="https://github.com/kelseygonzalez" target="_blank" rel="noopener">@kelseygonzalez&lt;/a>,
&lt;a href="https://github.com/leejasme" target="_blank" rel="noopener">@leejasme&lt;/a>,
&lt;a href="https://github.com/LukasWallrich" target="_blank" rel="noopener">@LukasWallrich&lt;/a>,
&lt;a href="https://github.com/MatthieuStigler" target="_blank" rel="noopener">@MatthieuStigler&lt;/a>,
&lt;a href="https://github.com/mbac" target="_blank" rel="noopener">@mbac&lt;/a>,
&lt;a href="https://github.com/nt-williams" target="_blank" rel="noopener">@nt-williams&lt;/a>,
&lt;a href="https://github.com/pachadotdev" target="_blank" rel="noopener">@pachadotdev&lt;/a>,
&lt;a href="https://github.com/rpruim" target="_blank" rel="noopener">@rpruim&lt;/a>,
&lt;a href="https://github.com/rsbivand" target="_blank" rel="noopener">@rsbivand&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/vincentarelbundock" target="_blank" rel="noopener">@vincentarelbundock&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>butcher:
&lt;a href="https://github.com/bshor" target="_blank" rel="noopener">@bshor&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/lbenz-mdsol" target="_blank" rel="noopener">@lbenz-mdsol&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>discrim:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>hardhat:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>parsnip:
&lt;a href="https://github.com/brshallo" target="_blank" rel="noopener">@brshallo&lt;/a>,
&lt;a href="https://github.com/cgoo4" target="_blank" rel="noopener">@cgoo4&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/dgrtwo" target="_blank" rel="noopener">@dgrtwo&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/graysonwhite" target="_blank" rel="noopener">@graysonwhite&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/hsbadr" target="_blank" rel="noopener">@hsbadr&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/jtlandis" target="_blank" rel="noopener">@jtlandis&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/klin333" target="_blank" rel="noopener">@klin333&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>,
&lt;a href="https://github.com/paulponcet" target="_blank" rel="noopener">@paulponcet&lt;/a>,
&lt;a href="https://github.com/pfc5098" target="_blank" rel="noopener">@pfc5098&lt;/a>,
&lt;a href="https://github.com/RaymondBalise" target="_blank" rel="noopener">@RaymondBalise&lt;/a>,
&lt;a href="https://github.com/smingerson" target="_blank" rel="noopener">@smingerson&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>,
&lt;a href="https://github.com/UnclAlDeveloper" target="_blank" rel="noopener">@UnclAlDeveloper&lt;/a>, and
&lt;a href="https://github.com/vadimus202" target="_blank" rel="noopener">@vadimus202&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>probably:
&lt;a href="https://github.com/hsbadr" target="_blank" rel="noopener">@hsbadr&lt;/a>, and
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>recipes:
&lt;a href="https://github.com/AlbertRapp" target="_blank" rel="noopener">@AlbertRapp&lt;/a>,
&lt;a href="https://github.com/asmae-toumi" target="_blank" rel="noopener">@asmae-toumi&lt;/a>,
&lt;a href="https://github.com/atusy" target="_blank" rel="noopener">@atusy&lt;/a>,
&lt;a href="https://github.com/christiantillich" target="_blank" rel="noopener">@christiantillich&lt;/a>,
&lt;a href="https://github.com/EdwinTh" target="_blank" rel="noopener">@EdwinTh&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/jake-mason" target="_blank" rel="noopener">@jake-mason&lt;/a>,
&lt;a href="https://github.com/jkennel" target="_blank" rel="noopener">@jkennel&lt;/a>,
&lt;a href="https://github.com/jtlandis" target="_blank" rel="noopener">@jtlandis&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/LiamBlake" target="_blank" rel="noopener">@LiamBlake&lt;/a>,
&lt;a href="https://github.com/lindeloev" target="_blank" rel="noopener">@lindeloev&lt;/a>,
&lt;a href="https://github.com/mikemc" target="_blank" rel="noopener">@mikemc&lt;/a>,
&lt;a href="https://github.com/mrkaye97" target="_blank" rel="noopener">@mrkaye97&lt;/a>,
&lt;a href="https://github.com/renanxcortes" target="_blank" rel="noopener">@renanxcortes&lt;/a>,
&lt;a href="https://github.com/schoonees" target="_blank" rel="noopener">@schoonees&lt;/a>,
&lt;a href="https://github.com/SlowMo24" target="_blank" rel="noopener">@SlowMo24&lt;/a>,
&lt;a href="https://github.com/smingerson" target="_blank" rel="noopener">@smingerson&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>rsample:
&lt;a href="https://github.com/brian-j-smith" target="_blank" rel="noopener">@brian-j-smith&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/LiamBlake" target="_blank" rel="noopener">@LiamBlake&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>,
&lt;a href="https://github.com/rkb965" target="_blank" rel="noopener">@rkb965&lt;/a>, and
&lt;a href="https://github.com/supermdat" target="_blank" rel="noopener">@supermdat&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>stacks:
&lt;a href="https://github.com/asmae-toumi" target="_blank" rel="noopener">@asmae-toumi&lt;/a>,
&lt;a href="https://github.com/Crisel12" target="_blank" rel="noopener">@Crisel12&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>themis:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/kylegilde" target="_blank" rel="noopener">@kylegilde&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tidymodels:
&lt;a href="https://github.com/dmenne" target="_blank" rel="noopener">@dmenne&lt;/a>,
&lt;a href="https://github.com/Edward-Egros" target="_blank" rel="noopener">@Edward-Egros&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/verajosemanuel" target="_blank" rel="noopener">@verajosemanuel&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tidyposterior:
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>tune:
&lt;a href="https://github.com/albert-ying" target="_blank" rel="noopener">@albert-ying&lt;/a>,
&lt;a href="https://github.com/amazongodman" target="_blank" rel="noopener">@amazongodman&lt;/a>,
&lt;a href="https://github.com/brshallo" target="_blank" rel="noopener">@brshallo&lt;/a>,
&lt;a href="https://github.com/dpanyard" target="_blank" rel="noopener">@dpanyard&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/klin333" target="_blank" rel="noopener">@klin333&lt;/a>,
&lt;a href="https://github.com/mbac" target="_blank" rel="noopener">@mbac&lt;/a>,
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>,
&lt;a href="https://github.com/silvanhi" target="_blank" rel="noopener">@silvanhi&lt;/a>,
&lt;a href="https://github.com/smingerson" target="_blank" rel="noopener">@smingerson&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/yogat3ch" target="_blank" rel="noopener">@yogat3ch&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>workflowsets:
&lt;a href="https://github.com/amazongodman" target="_blank" rel="noopener">@amazongodman&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/gunnergalactico" target="_blank" rel="noopener">@gunnergalactico&lt;/a>,
&lt;a href="https://github.com/hnagaty" target="_blank" rel="noopener">@hnagaty&lt;/a>,
&lt;a href="https://github.com/jonthegeek" target="_blank" rel="noopener">@jonthegeek&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>,
&lt;a href="https://github.com/oskasf" target="_blank" rel="noopener">@oskasf&lt;/a>,
&lt;a href="https://github.com/rafzamb" target="_blank" rel="noopener">@rafzamb&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/yogat3ch" target="_blank" rel="noopener">@yogat3ch&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>yardstick:
&lt;a href="https://github.com/brshallo" target="_blank" rel="noopener">@brshallo&lt;/a>,
&lt;a href="https://github.com/coletl" target="_blank" rel="noopener">@coletl&lt;/a>,
&lt;a href="https://github.com/datenzauberai" target="_blank" rel="noopener">@datenzauberai&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/klin333" target="_blank" rel="noopener">@klin333&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Catch up with tidymodels</title><link>https://www.tidyverse.org/blog/2021/03/tidymodels-2021-q1/</link><pubDate>Wed, 10 Mar 2021 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2021/03/tidymodels-2021-q1/</guid><description>&lt;p>The
&lt;a href="https://www.tidymodels.org/" target="_blank" rel="noopener">tidymodels&lt;/a> framework is a collection of R packages for modeling and machine learning using tidyverse principles. There have been quite a number of updates and new developments in the tidymodels ecosystem since our
&lt;a href="https://www.tidyverse.org/blog/2020/12/finetune-0-0-1/" target="_blank" rel="noopener">last blog post in December&lt;/a>! Since that post, tidymodels maintainers have published eight CRAN releases of existing packages. You can install these updates from CRAN with:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">install.packages&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;broom&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;butcher&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;embed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;parsnip&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">&amp;#34;rsample&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;rules&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;tune&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;workflows&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We purposefully write code in small, modular packages to make them easier to maintain (for us!) and use in production systems (for you!) but this does mean that sometimes any given package release can feel a bit minor. Some of the changes in these releases are small bug fixes or updates for changes in CRAN standards. However, there are also some substantively helpful new functions for modeling and resampling, and we want to make sure that folks can stay up-to-date with the changes and new features available.&lt;/p>
&lt;p>We plan to begin &lt;strong>regular updates&lt;/strong> every three or four months here on the tidyverse blog summarizing what&amp;rsquo;s happening lately in the tidymodels ecosystem overall. We&amp;rsquo;ll still continue the focused blog posts on more major new features that we&amp;rsquo;ve always written; look for one soon on a new package for creating and handling a collection of multiple modeling workflows all together. The &lt;code>NEWS&lt;/code> files are linked here for each package, but read below for more details on some highlights that may interest you!&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://broom.tidymodels.org/news/#broom-0-7-5-2021-02-19" target="_blank" rel="noopener">broom&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://butcher.tidymodels.org/news/#butcher-0-1-3-2021-03-04" target="_blank" rel="noopener">butcher&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://embed.tidymodels.org/news/#embed-0-1-4-2021-01-16" target="_blank" rel="noopener">embed&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://parsnip.tidymodels.org/news/#parsnip-0-1-5-2021-01-19" target="_blank" rel="noopener">parsnip&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://rsample.tidymodels.org/news/index.html#rsample-0-0-9-2021-02-17" target="_blank" rel="noopener">rsample&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://rules.tidymodels.org/news/#rules-0-1-1-2021-01-16" target="_blank" rel="noopener">rules&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://tune.tidymodels.org/news/index.html#tune-0-1-3-2021-02-28" target="_blank" rel="noopener">tune&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://workflows.tidymodels.org/news/index.html#workflows-0-2-2-2021-03-10" target="_blank" rel="noopener">workflows&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="choose-parsnip-models-with-an-rstudio-addin">Choose parsnip models with an RStudio addin
&lt;a href="#choose-parsnip-models-with-an-rstudio-addin">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The parsnip package provides support for a plethora of models. You can explore these models online at
&lt;a href="https://www.tidymodels.org/find/parsnip/" target="_blank" rel="noopener">tidymodels.org&lt;/a>, but the recent release of parsnip also contains an RStudio addin for choosing parsnip models and generating code to specify them.&lt;/p>
&lt;p>&lt;img src="parsnip_addin.gif" alt="addin gif">&lt;/p>
&lt;p>You can choose by classification or regression models, and even match by a regular expression.&lt;/p>
&lt;p>There is now also
&lt;a href="https://parsnip.tidymodels.org/reference/augment.html" target="_blank" rel="noopener">an &lt;code>augment()&lt;/code> function for parsnip models&lt;/a>, in addition to the &lt;code>augment()&lt;/code> functions
&lt;a href="https://tune.tidymodels.org/reference/augment.html" target="_blank" rel="noopener">for tuning results&lt;/a> and
&lt;a href="https://workflows.tidymodels.org/reference/augment.workflow.html" target="_blank" rel="noopener">for workflows&lt;/a>.
&lt;a href="https://juliasilge.com/blog/student-debt/" target="_blank" rel="noopener">This recent screencast demonstrates&lt;/a> how to use parsnip&amp;rsquo;s &lt;code>augment()&lt;/code> function.&lt;/p>
&lt;h2 id="new-functions-in-rsample">New functions in rsample
&lt;a href="#new-functions-in-rsample">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Most of the changes in the recent release for
&lt;a href="https://rsample.tidymodels.org/" target="_blank" rel="noopener">rsample&lt;/a> are internal and developer-facing, made to support rsample-adjacent packages like our new package for resampling spatial data (see below! 👀) but the new &lt;code>reg_intervals()&lt;/code> function allows you to find bootstrap confidence intervals for simple models fluently. You have always been able to use rsample functions for
&lt;a href="https://www.tidymodels.org/learn/statistics/bootstrap/" target="_blank" rel="noopener">flexible bootstrap resampling&lt;/a> but this new convenience function reduces the steps to get confidence intervals for models like &lt;code>lm()&lt;/code> and &lt;code>glm()&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rsample&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ad_data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">package&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;modeldata&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">set.seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">123&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">reg_intervals&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">Class&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">tau&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">VEGF&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">model_fn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;glm&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ad_data&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">family&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;binomial&amp;#34;&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## # A tibble: 2 x 6
## term .lower .estimate .upper .alpha .method
## &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;
## 1 tau -4.92 -4.11 -3.08 0.05 student-t
## 2 VEGF 0.651 0.959 1.22 0.05 student-t
&lt;/code>&lt;/pre>&lt;p>Check out
&lt;a href="https://juliasilge.com/blog/superbowl-conf-int/" target="_blank" rel="noopener">my recent screencast&lt;/a> for more details on using &lt;code>reg_intervals()&lt;/code>.&lt;/p>
&lt;p>Also take a look at the
&lt;a href="https://rsample.tidymodels.org/reference/permutations.html" target="_blank" rel="noopener">new &lt;code>permutations()&lt;/code> function&lt;/a> for permuting variables!&lt;/p>
&lt;h2 id="resampling-for-spatial-data">Resampling for spatial data
&lt;a href="#resampling-for-spatial-data">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We are pleased to announce the first release of the
&lt;a href="https://spatialsample.tidymodels.org/" target="_blank" rel="noopener">spatialsample&lt;/a> package.&lt;/p>
&lt;p>You can install it from CRAN with:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">install.packages&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;spatialsample&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The goal of spatialsample is to provide functions and classes for spatial resampling to use with
&lt;a href="https://rsample.tidymodels.org/" target="_blank" rel="noopener">rsample&lt;/a>. We intend to grow the number of spatial resampling approaches included in the package; the initial release includes &lt;code>spatial_clustering_cv()&lt;/code>, a straightforward spatial resampling strategy with light dependencies based on k-means clustering.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">spatialsample&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ames&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">package&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;modeldata&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">set.seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">234&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">folds&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">spatial_clustering_cv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ames&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">coords&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Latitude&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Longitude&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">v&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">folds&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## # 5-fold spatial cross-validation
## # A tibble: 5 x 2
## splits id
## &amp;lt;list&amp;gt; &amp;lt;chr&amp;gt;
## 1 &amp;lt;split [2277/653]&amp;gt; Fold1
## 2 &amp;lt;split [2767/163]&amp;gt; Fold2
## 3 &amp;lt;split [2040/890]&amp;gt; Fold3
## 4 &amp;lt;split [2567/363]&amp;gt; Fold4
## 5 &amp;lt;split [2069/861]&amp;gt; Fold5
&lt;/code>&lt;/pre>&lt;p>In this example, the &lt;code>ames&lt;/code> data on houses in Ames, IA is resampled with &lt;code>v = 5&lt;/code>; notice that the resulting partitions do not contain an equal number of observations.&lt;/p>
&lt;p>We can create a helper plotting function to visualize the five folds.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ggplot2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">purrr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dplyr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plot_splits&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">p&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">analysis&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">mutate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">analysis&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Analysis&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">bind_rows&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">assessment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">mutate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">analysis&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Assessment&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">%&amp;gt;%&lt;/span>
&lt;span class="nf">ggplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">aes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Longitude&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Latitude&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">analysis&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">geom_point&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">alpha&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span>
&lt;span class="nf">labs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="nf">walk&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">folds&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">splits&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">plot_splits&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="figure/unnamed-chunk-5-.gif" alt="plot of chunk unnamed-chunk-5">&lt;/p>
&lt;p>Check out the
&lt;a href="https://spatialsample.tidymodels.org/articles/spatialsample.html" target="_blank" rel="noopener">main vignette&lt;/a> to see how this resampling strategy can be used for modeling, and
&lt;a href="https://github.com/tidymodels/spatialsample/issues" target="_blank" rel="noopener">submit an issue&lt;/a> if there is a particular spatial resampling approach that you are interested in us prioritizing for future releases.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>A big thanks to all of the contributors who helped make these releases possible! For some of these packages (like rsample, butcher, and embed), we have never said thank you before so we&amp;rsquo;ll take this opportunity to express our appreciation.&lt;/p>
&lt;ul>
&lt;li>broom:
&lt;a href="https://github.com/AdroMine" target="_blank" rel="noopener">@AdroMine&lt;/a>,
&lt;a href="https://github.com/alexpghayes" target="_blank" rel="noopener">@alexpghayes&lt;/a>,
&lt;a href="https://github.com/Amogh-Joshi" target="_blank" rel="noopener">@Amogh-Joshi&lt;/a>,
&lt;a href="https://github.com/anddis" target="_blank" rel="noopener">@anddis&lt;/a>,
&lt;a href="https://github.com/andrjohns" target="_blank" rel="noopener">@andrjohns&lt;/a>,
&lt;a href="https://github.com/AntoniosBarotsis" target="_blank" rel="noopener">@AntoniosBarotsis&lt;/a>,
&lt;a href="https://github.com/arthur-e" target="_blank" rel="noopener">@arthur-e&lt;/a>,
&lt;a href="https://github.com/asreece" target="_blank" rel="noopener">@asreece&lt;/a>,
&lt;a href="https://github.com/asshah4" target="_blank" rel="noopener">@asshah4&lt;/a>,
&lt;a href="https://github.com/briatte" target="_blank" rel="noopener">@briatte&lt;/a>,
&lt;a href="https://github.com/bwiernik" target="_blank" rel="noopener">@bwiernik&lt;/a>,
&lt;a href="https://github.com/cbhurley" target="_blank" rel="noopener">@cbhurley&lt;/a>,
&lt;a href="https://github.com/clausherther" target="_blank" rel="noopener">@clausherther&lt;/a>,
&lt;a href="https://github.com/clauswilke" target="_blank" rel="noopener">@clauswilke&lt;/a>,
&lt;a href="https://github.com/crsh" target="_blank" rel="noopener">@crsh&lt;/a>,
&lt;a href="https://github.com/DarwinAwardWinner" target="_blank" rel="noopener">@DarwinAwardWinner&lt;/a>,
&lt;a href="https://github.com/deblnia" target="_blank" rel="noopener">@deblnia&lt;/a>,
&lt;a href="https://github.com/deschen1" target="_blank" rel="noopener">@deschen1&lt;/a>,
&lt;a href="https://github.com/eheinzen" target="_blank" rel="noopener">@eheinzen&lt;/a>,
&lt;a href="https://github.com/friendly" target="_blank" rel="noopener">@friendly&lt;/a>,
&lt;a href="https://github.com/grantmcdermott" target="_blank" rel="noopener">@grantmcdermott&lt;/a>,
&lt;a href="https://github.com/hasandiwan" target="_blank" rel="noopener">@hasandiwan&lt;/a>,
&lt;a href="https://github.com/hd-barros" target="_blank" rel="noopener">@hd-barros&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/hughjonesd" target="_blank" rel="noopener">@hughjonesd&lt;/a>,
&lt;a href="https://github.com/IndrajeetPatil" target="_blank" rel="noopener">@IndrajeetPatil&lt;/a>,
&lt;a href="https://github.com/irkaal" target="_blank" rel="noopener">@irkaal&lt;/a>,
&lt;a href="https://github.com/jiho" target="_blank" rel="noopener">@jiho&lt;/a>,
&lt;a href="https://github.com/jmbarbone" target="_blank" rel="noopener">@jmbarbone&lt;/a>,
&lt;a href="https://github.com/joshyam-k" target="_blank" rel="noopener">@joshyam-k&lt;/a>,
&lt;a href="https://github.com/JReising09" target="_blank" rel="noopener">@JReising09&lt;/a>,
&lt;a href="https://github.com/julian-urbano" target="_blank" rel="noopener">@julian-urbano&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/kjfarley" target="_blank" rel="noopener">@kjfarley&lt;/a>,
&lt;a href="https://github.com/kristyrobledo" target="_blank" rel="noopener">@kristyrobledo&lt;/a>,
&lt;a href="https://github.com/leeweizhe1993" target="_blank" rel="noopener">@leeweizhe1993&lt;/a>,
&lt;a href="https://github.com/leungi" target="_blank" rel="noopener">@leungi&lt;/a>,
&lt;a href="https://github.com/LukasWallrich" target="_blank" rel="noopener">@LukasWallrich&lt;/a>,
&lt;a href="https://github.com/matthieu-faron" target="_blank" rel="noopener">@matthieu-faron&lt;/a>,
&lt;a href="https://github.com/MatthieuStigler" target="_blank" rel="noopener">@MatthieuStigler&lt;/a>,
&lt;a href="https://github.com/milanwiedemann" target="_blank" rel="noopener">@milanwiedemann&lt;/a>,
&lt;a href="https://github.com/mk9y" target="_blank" rel="noopener">@mk9y&lt;/a>,
&lt;a href="https://github.com/mlatif71" target="_blank" rel="noopener">@mlatif71&lt;/a>,
&lt;a href="https://github.com/mlaviolet" target="_blank" rel="noopener">@mlaviolet&lt;/a>,
&lt;a href="https://github.com/Nateme16" target="_blank" rel="noopener">@Nateme16&lt;/a>,
&lt;a href="https://github.com/nlubock" target="_blank" rel="noopener">@nlubock&lt;/a>,
&lt;a href="https://github.com/pachamaltese" target="_blank" rel="noopener">@pachamaltese&lt;/a>,
&lt;a href="https://github.com/rudeboybert" target="_blank" rel="noopener">@rudeboybert&lt;/a>,
&lt;a href="https://github.com/saadaslam" target="_blank" rel="noopener">@saadaslam&lt;/a>,
&lt;a href="https://github.com/simonpcouch" target="_blank" rel="noopener">@simonpcouch&lt;/a>,
&lt;a href="https://github.com/tavareshugo" target="_blank" rel="noopener">@tavareshugo&lt;/a>,
&lt;a href="https://github.com/uqzwang" target="_blank" rel="noopener">@uqzwang&lt;/a>,
&lt;a href="https://github.com/vincentarelbundock" target="_blank" rel="noopener">@vincentarelbundock&lt;/a>,
&lt;a href="https://github.com/WillemVervoort" target="_blank" rel="noopener">@WillemVervoort&lt;/a>, and
&lt;a href="https://github.com/zief0002" target="_blank" rel="noopener">@zief0002&lt;/a>&lt;/li>
&lt;li>butcher:
&lt;a href="https://github.com/abichat" target="_blank" rel="noopener">@abichat&lt;/a>,
&lt;a href="https://github.com/adtserapio" target="_blank" rel="noopener">@adtserapio&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/edwinschut" target="_blank" rel="noopener">@edwinschut&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/irkaal" target="_blank" rel="noopener">@irkaal&lt;/a>,
&lt;a href="https://github.com/jarauh" target="_blank" rel="noopener">@jarauh&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/jyuu" target="_blank" rel="noopener">@jyuu&lt;/a>,
&lt;a href="https://github.com/kevinykuo" target="_blank" rel="noopener">@kevinykuo&lt;/a>,
&lt;a href="https://github.com/klin333" target="_blank" rel="noopener">@klin333&lt;/a>,
&lt;a href="https://github.com/mkearney" target="_blank" rel="noopener">@mkearney&lt;/a>,
&lt;a href="https://github.com/natejessee" target="_blank" rel="noopener">@natejessee&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/UnclAlDeveloper" target="_blank" rel="noopener">@UnclAlDeveloper&lt;/a>&lt;/li>
&lt;li>embed:
&lt;a href="https://github.com/agilebean" target="_blank" rel="noopener">@agilebean&lt;/a>,
&lt;a href="https://github.com/ajing" target="_blank" rel="noopener">@ajing&lt;/a>,
&lt;a href="https://github.com/Athospd" target="_blank" rel="noopener">@Athospd&lt;/a>,
&lt;a href="https://github.com/Cardosaum" target="_blank" rel="noopener">@Cardosaum&lt;/a>,
&lt;a href="https://github.com/ciberger" target="_blank" rel="noopener">@ciberger&lt;/a>,
&lt;a href="https://github.com/data-datum" target="_blank" rel="noopener">@data-datum&lt;/a>,
&lt;a href="https://github.com/dfalbel" target="_blank" rel="noopener">@dfalbel&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/goleng" target="_blank" rel="noopener">@goleng&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/ismailmuller" target="_blank" rel="noopener">@ismailmuller&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/konradsemsch" target="_blank" rel="noopener">@konradsemsch&lt;/a>,
&lt;a href="https://github.com/kylegilde" target="_blank" rel="noopener">@kylegilde&lt;/a>,
&lt;a href="https://github.com/lorenzwalthert" target="_blank" rel="noopener">@lorenzwalthert&lt;/a>,
&lt;a href="https://github.com/mlduarte" target="_blank" rel="noopener">@mlduarte&lt;/a>,
&lt;a href="https://github.com/nhward" target="_blank" rel="noopener">@nhward&lt;/a>,
&lt;a href="https://github.com/niszet" target="_blank" rel="noopener">@niszet&lt;/a>,
&lt;a href="https://github.com/quantumlinguist" target="_blank" rel="noopener">@quantumlinguist&lt;/a>,
&lt;a href="https://github.com/smingerson" target="_blank" rel="noopener">@smingerson&lt;/a>,
&lt;a href="https://github.com/tmastny" target="_blank" rel="noopener">@tmastny&lt;/a>,
&lt;a href="https://github.com/tonigril" target="_blank" rel="noopener">@tonigril&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/li>
&lt;li>parsnip:
&lt;a href="https://github.com/awunderground" target="_blank" rel="noopener">@awunderground&lt;/a>,
&lt;a href="https://github.com/Bijaelo" target="_blank" rel="noopener">@Bijaelo&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/derek-corcoran-barrios" target="_blank" rel="noopener">@derek-corcoran-barrios&lt;/a>,
&lt;a href="https://github.com/eamoncaddigan" target="_blank" rel="noopener">@eamoncaddigan&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/ericpgreen" target="_blank" rel="noopener">@ericpgreen&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/irkaal" target="_blank" rel="noopener">@irkaal&lt;/a>,
&lt;a href="https://github.com/jjcurtin" target="_blank" rel="noopener">@jjcurtin&lt;/a>,
&lt;a href="https://github.com/joeycouse" target="_blank" rel="noopener">@joeycouse&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/kwiscion" target="_blank" rel="noopener">@kwiscion&lt;/a>,
&lt;a href="https://github.com/kylegilde" target="_blank" rel="noopener">@kylegilde&lt;/a>,
&lt;a href="https://github.com/lorenzwalthert" target="_blank" rel="noopener">@lorenzwalthert&lt;/a>,
&lt;a href="https://github.com/markfairbanks" target="_blank" rel="noopener">@markfairbanks&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>,
&lt;a href="https://github.com/mlane3" target="_blank" rel="noopener">@mlane3&lt;/a>,
&lt;a href="https://github.com/mrepetto94" target="_blank" rel="noopener">@mrepetto94&lt;/a>,
&lt;a href="https://github.com/ndiquattro" target="_blank" rel="noopener">@ndiquattro&lt;/a>,
&lt;a href="https://github.com/rorynolan" target="_blank" rel="noopener">@rorynolan&lt;/a>,
&lt;a href="https://github.com/shosaco" target="_blank" rel="noopener">@shosaco&lt;/a>,
&lt;a href="https://github.com/smingerson" target="_blank" rel="noopener">@smingerson&lt;/a>,
&lt;a href="https://github.com/tanho63" target="_blank" rel="noopener">@tanho63&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/li>
&lt;li>rsample:
&lt;a href="https://github.com/alexpghayes" target="_blank" rel="noopener">@alexpghayes&lt;/a>,
&lt;a href="https://github.com/apreshill" target="_blank" rel="noopener">@apreshill&lt;/a>,
&lt;a href="https://github.com/Athospd" target="_blank" rel="noopener">@Athospd&lt;/a>,
&lt;a href="https://github.com/brunocarlin" target="_blank" rel="noopener">@brunocarlin&lt;/a>,
&lt;a href="https://github.com/ColinConwell" target="_blank" rel="noopener">@ColinConwell&lt;/a>,
&lt;a href="https://github.com/cportner" target="_blank" rel="noopener">@cportner&lt;/a>,
&lt;a href="https://github.com/danilinares" target="_blank" rel="noopener">@danilinares&lt;/a>,
&lt;a href="https://github.com/DanOvando" target="_blank" rel="noopener">@DanOvando&lt;/a>,
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/dchiu911" target="_blank" rel="noopener">@dchiu911&lt;/a>,
&lt;a href="https://github.com/Dpananos" target="_blank" rel="noopener">@Dpananos&lt;/a>,
&lt;a href="https://github.com/dpastling" target="_blank" rel="noopener">@dpastling&lt;/a>,
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/fbchow" target="_blank" rel="noopener">@fbchow&lt;/a>,
&lt;a href="https://github.com/fusaroli" target="_blank" rel="noopener">@fusaroli&lt;/a>,
&lt;a href="https://github.com/gcameron89777" target="_blank" rel="noopener">@gcameron89777&lt;/a>,
&lt;a href="https://github.com/gregrs-uk" target="_blank" rel="noopener">@gregrs-uk&lt;/a>,
&lt;a href="https://github.com/gtalckmin" target="_blank" rel="noopener">@gtalckmin&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/hlynurhallgrims" target="_blank" rel="noopener">@hlynurhallgrims&lt;/a>,
&lt;a href="https://github.com/irkaal" target="_blank" rel="noopener">@irkaal&lt;/a>,
&lt;a href="https://github.com/issactoast" target="_blank" rel="noopener">@issactoast&lt;/a>,
&lt;a href="https://github.com/JamesM131" target="_blank" rel="noopener">@JamesM131&lt;/a>,
&lt;a href="https://github.com/johnaeanderson" target="_blank" rel="noopener">@johnaeanderson&lt;/a>,
&lt;a href="https://github.com/jonkeane" target="_blank" rel="noopener">@jonkeane&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/jyuu" target="_blank" rel="noopener">@jyuu&lt;/a>,
&lt;a href="https://github.com/krlmlr" target="_blank" rel="noopener">@krlmlr&lt;/a>,
&lt;a href="https://github.com/kylegilde" target="_blank" rel="noopener">@kylegilde&lt;/a>,
&lt;a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin&lt;/a>,
&lt;a href="https://github.com/mdancho84" target="_blank" rel="noopener">@mdancho84&lt;/a>,
&lt;a href="https://github.com/msmith01" target="_blank" rel="noopener">@msmith01&lt;/a>,
&lt;a href="https://github.com/MxNl" target="_blank" rel="noopener">@MxNl&lt;/a>,
&lt;a href="https://github.com/NikolaiVogl" target="_blank" rel="noopener">@NikolaiVogl&lt;/a>,
&lt;a href="https://github.com/oude-gao" target="_blank" rel="noopener">@oude-gao&lt;/a>,
&lt;a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos&lt;/a>,
&lt;a href="https://github.com/RMHogervorst" target="_blank" rel="noopener">@RMHogervorst&lt;/a>,
&lt;a href="https://github.com/sccmckenzie" target="_blank" rel="noopener">@sccmckenzie&lt;/a>,
&lt;a href="https://github.com/Shu-Wan" target="_blank" rel="noopener">@Shu-Wan&lt;/a>,
&lt;a href="https://github.com/skeller88" target="_blank" rel="noopener">@skeller88&lt;/a>,
&lt;a href="https://github.com/skinnider" target="_blank" rel="noopener">@skinnider&lt;/a>,
&lt;a href="https://github.com/sschooler" target="_blank" rel="noopener">@sschooler&lt;/a>,
&lt;a href="https://github.com/swt30" target="_blank" rel="noopener">@swt30&lt;/a>,
&lt;a href="https://github.com/tjmahr" target="_blank" rel="noopener">@tjmahr&lt;/a>,
&lt;a href="https://github.com/tmastny" target="_blank" rel="noopener">@tmastny&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/UnclAlDeveloper" target="_blank" rel="noopener">@UnclAlDeveloper&lt;/a>&lt;/li>
&lt;li>rules:
&lt;a href="https://github.com/frequena" target="_blank" rel="noopener">@frequena&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/irkaal" target="_blank" rel="noopener">@irkaal&lt;/a>,
&lt;a href="https://github.com/jaredlander" target="_blank" rel="noopener">@jaredlander&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>, and
&lt;a href="https://github.com/vidarsumo" target="_blank" rel="noopener">@vidarsumo&lt;/a>&lt;/li>
&lt;li>tune:
&lt;a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan&lt;/a>,
&lt;a href="https://github.com/HenrikBengtsson" target="_blank" rel="noopener">@HenrikBengtsson&lt;/a>,
&lt;a href="https://github.com/hfrick" target="_blank" rel="noopener">@hfrick&lt;/a>,
&lt;a href="https://github.com/juliasilge" target="_blank" rel="noopener">@juliasilge&lt;/a>,
&lt;a href="https://github.com/kevin-m-kent" target="_blank" rel="noopener">@kevin-m-kent&lt;/a>,
&lt;a href="https://github.com/kylegilde" target="_blank" rel="noopener">@kylegilde&lt;/a>,
&lt;a href="https://github.com/mine-cetinkaya-rundel" target="_blank" rel="noopener">@mine-cetinkaya-rundel&lt;/a>,
&lt;a href="https://github.com/rorynolan" target="_blank" rel="noopener">@rorynolan&lt;/a>,
&lt;a href="https://github.com/siegfried" target="_blank" rel="noopener">@siegfried&lt;/a>,
&lt;a href="https://github.com/stevenpawley" target="_blank" rel="noopener">@stevenpawley&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>