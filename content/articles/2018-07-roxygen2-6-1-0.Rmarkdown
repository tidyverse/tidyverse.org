---
title: roxygen2 6.1.0
date: 2018-07-30
slug: roxygen2-6-1-0
author: Mara Averick
categories: [package]
description: >
    roxygen2 6.1.0 is now on CRAN!
photo:
  url: https://unsplash.com/photos/3KEJMfoHoMY
  author: Graeme Nicholl
---

```{r setup, include = FALSE}
library(roxygen2)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

We're delighted to announce that [roxygen2](https://CRAN.R-project.org/package=roxygen2) 
6.1.0 is now on CRAN. The goal of roxygen is to make documenting your code as 
easy as possible. It allows you to describe your functions in comments next to 
their definitions, and processes your source code and comments to produce `.Rd` 
files in the `man/` directory, as well as. roxygen will also create a 
`NAMESPACE` for you, and will manage the `Collate` field in `DESCRIPTION`.

This release includes several updates to markdown parsing, as well as some new 
features we highlight below. For a full list of updates and changes, please 
see the [release notes](https://github.com/klutometis/roxygen/blob/master/NEWS.md#roxygen2-610).

## New features

The `NAMESPACE` roclet now works in two passes - it first generates the 
`NAMESPACE` containing only import directives because this can be generated 
without evaluating the code in the package. This alleviates a problem where it 
was previously possible to get into a state that you could only get out of by 
carefully editing the `NAMESPACE` by hand.

`roxygenise()` now uses `pkgload::load_all()` instead of a homegrown solution 
to simulate package loading. This is one of the benefits of the 
[conscious uncoupling of devtools](http://devtools.r-lib.org/#diaspora). The 
simulated package loading is needed because roxygen2 uses run-time information 
to generate the documentation. This should reduce S4-related problems, and 
ensure that `devtools::document()` and `roxygenise()` always have the same 
behaviour.

`@evalRd` `foo()` evaluates `foo()` defined in the package namespace and 
inserts the results into the current block. The code should return a character 
vector with one entry for each line (and they should not start with `#'`). This 
provides a flexible way to extract out duplicated documentation. For example:

```{r eval = FALSE}
today <- function() {
  paste0("Today is \\strong{", format(Sys.Date(), "%A"), "}")
}

#' @evalRd today()
NULL
```

`today()` will be executed every time that you run roxygen2. There are two small 
limitations to the current implementation: the generated roxygen will not affect 
the `@md/@noMd` status, and `@evalRd` does not work inside templates.  

`@evalNamespace` does for `NAMESPACE` what `@evalRd` does for `Rd` files: you 
give it R code that produces a literal entry in `NAMESPACE` when run. This 
should make it easier to export functions that are generated by other 
functions in your package.

## Improvements to markdown parsing

Starting from version 6.0.0, roxygen supports markdown markup within most 
roxygen tags (learn more [here](https://cran.r-project.org/web/packages/roxygen2/vignettes/markdown.html)). You can switch to markdown documentation with
[`usethis::use_roxygen_md()`](http://usethis.r-lib.org/reference/use_roxygen_md.html), 
which uses the [roxygen2md](https://github.com/r-lib/roxygen2md) package to 
convert Rd expressions to markdown. 

In this version, we've made a number of bug fixes to markdown translation:  

* Whitespace between words in link text is now preserved as single space for 
links of the form `[text][fcn]` and `[text](URL)`.  

* Code in link text is now properly rendered as code.  

* The parsing of markdown links has been modified to reduce false 
positives. If you still get a false positive, you can add `\\` in front of the 
`[` to avoid its being converted to a link.  

* Markdown features that are _not_ supported should now generate a warning 
identifying them as such.  

## Acknowledgements

Thank you to the 114 people who have contributed to this release: [&#xFF20;agwells](https://github.com/agwells), 
[&#xFF20;alexpghayes](https://github.com/alexpghayes), [&#xFF20;apomatix](https://github.com/apomatix), [&#xFF20;Ax3man](https://github.com/Ax3man), [&#xFF20;BarkleyBG](https://github.com/BarkleyBG), [&#xFF20;BillWeld](https://github.com/BillWeld), [&#xFF20;brodieG](https://github.com/brodieG), [&#xFF20;brry](https://github.com/brry), [&#xFF20;bwiernik](https://github.com/bwiernik), [&#xFF20;cfhammill](https://github.com/cfhammill), [&#xFF20;coatless](https://github.com/coatless), [&#xFF20;coldfir3](https://github.com/coldfir3), [&#xFF20;ColinFay](https://github.com/ColinFay), [&#xFF20;ctbrown](https://github.com/ctbrown), [&#xFF20;danielsjf](https://github.com/danielsjf), [&#xFF20;dankelley](https://github.com/dankelley), [&#xFF20;dewittpe](https://github.com/dewittpe), [&#xFF20;dongzhuoer](https://github.com/dongzhuoer), [&#xFF20;dpritchLibre](https://github.com/dpritchLibre), [&#xFF20;ebridge2](https://github.com/ebridge2), [&#xFF20;egnha](https://github.com/egnha), [&#xFF20;evanbiederstedt](https://github.com/evanbiederstedt), [&#xFF20;fangly](https://github.com/fangly), [&#xFF20;FelixErnst](https://github.com/FelixErnst), [&#xFF20;flyeye](https://github.com/flyeye), [&#xFF20;flying-sheep](https://github.com/flying-sheep), [&#xFF20;graemeleehickey](https://github.com/graemeleehickey), [&#xFF20;grst](https://github.com/grst), [&#xFF20;gvegayon](https://github.com/gvegayon), [&#xFF20;hadley](https://github.com/hadley), [&#xFF20;HenrikBengtsson](https://github.com/HenrikBengtsson), [&#xFF20;hughjonesd](https://github.com/hughjonesd), [&#xFF20;ijlyttle](https://github.com/ijlyttle), [&#xFF20;inkrement](https://github.com/inkrement), [&#xFF20;jackwasey](https://github.com/jackwasey), [&#xFF20;Jakob2014uafmx](https://github.com/Jakob2014uafmx), [&#xFF20;jcrodriguez1989](https://github.com/jcrodriguez1989), [&#xFF20;jeis2497052](https://github.com/jeis2497052), [&#xFF20;jennybc](https://github.com/jennybc), [&#xFF20;jimhester](https://github.com/jimhester), [&#xFF20;jkl789](https://github.com/jkl789), [&#xFF20;joethorley](https://github.com/joethorley), [&#xFF20;JoFAM](https://github.com/JoFAM), [&#xFF20;JohnMount](https://github.com/JohnMount), [&#xFF20;jonlehrer](https://github.com/jonlehrer), [&#xFF20;JoshOBrien](https://github.com/JoshOBrien), [&#xFF20;jpfrench81](https://github.com/jpfrench81), [&#xFF20;jpritikin](https://github.com/jpritikin), [&#xFF20;jrosen48](https://github.com/jrosen48), [&#xFF20;karawoo](https://github.com/karawoo), [&#xFF20;kbenoit](https://github.com/kbenoit), [&#xFF20;kevinushey](https://github.com/kevinushey), [&#xFF20;klmr](https://github.com/klmr), [&#xFF20;krivit](https://github.com/krivit), [&#xFF20;krlmlr](https://github.com/krlmlr), [&#xFF20;leifeld](https://github.com/leifeld), [&#xFF20;levisc8](https://github.com/levisc8), [&#xFF20;lindbrook](https://github.com/lindbrook), [&#xFF20;lionel-](https://github.com/lionel-), [&#xFF20;lorenzwalthert](https://github.com/lorenzwalthert), [&#xFF20;Lucaweihs](https://github.com/Lucaweihs), [&#xFF20;maelle](https://github.com/maelle), [&#xFF20;MansMeg](https://github.com/MansMeg), [&#xFF20;martin-mfg](https://github.com/martin-mfg), [&#xFF20;mashranga](https://github.com/mashranga), [&#xFF20;maxheld83](https://github.com/maxheld83), [&#xFF20;mb706](https://github.com/mb706), [&#xFF20;mcol](https://github.com/mcol), [&#xFF20;md0u80c9](https://github.com/md0u80c9), [&#xFF20;mikmart](https://github.com/mikmart), [&#xFF20;mixtrak](https://github.com/mixtrak), [&#xFF20;mkoohafkan](https://github.com/mkoohafkan), [&#xFF20;mvkorpel](https://github.com/mvkorpel), [&#xFF20;natgoodman](https://github.com/natgoodman), [&#xFF20;nteetor](https://github.com/nteetor), [&#xFF20;nuno-agostinho](https://github.com/nuno-agostinho), [&#xFF20;PeterVermont](https://github.com/PeterVermont), [&#xFF20;philmikejones](https://github.com/philmikejones), [&#xFF20;pierreroudier](https://github.com/pierreroudier), [&#xFF20;pkq](https://github.com/pkq), [&#xFF20;privefl](https://github.com/privefl), [&#xFF20;publicus](https://github.com/publicus), [&#xFF20;QuLogic](https://github.com/QuLogic), [&#xFF20;r2evans](https://github.com/r2evans), [&#xFF20;rabutler](https://github.com/rabutler), [&#xFF20;renozao](https://github.com/renozao), [&#xFF20;richierocks](https://github.com/richierocks), [&#xFF20;romainfrancois](https://github.com/romainfrancois), [&#xFF20;rvlenth](https://github.com/rvlenth), [&#xFF20;s-fleck](https://github.com/s-fleck), [&#xFF20;saralinker](https://github.com/saralinker), [&#xFF20;sgibb](https://github.com/sgibb), [&#xFF20;spluque](https://github.com/spluque), [&#xFF20;ssdavenport](https://github.com/ssdavenport), [&#xFF20;ssokolen](https://github.com/ssokolen), [&#xFF20;Stanwood18](https://github.com/Stanwood18), [&#xFF20;statnmap](https://github.com/statnmap), [&#xFF20;stufield](https://github.com/stufield), [&#xFF20;StuHorsman](https://github.com/StuHorsman), [&#xFF20;sylvainschmitt](https://github.com/sylvainschmitt), [&#xFF20;sz-cgt](https://github.com/sz-cgt), [&#xFF20;tbates](https://github.com/tbates), [&#xFF20;teo029](https://github.com/teo029), [&#xFF20;tpbilton](https://github.com/tpbilton), [&#xFF20;twang2218](https://github.com/twang2218), [&#xFF20;ugroempi](https://github.com/ugroempi), [&#xFF20;unDocUMeantIt](https://github.com/unDocUMeantIt), [&#xFF20;vjcitn](https://github.com/vjcitn), [&#xFF20;WastlM](https://github.com/WastlM), [&#xFF20;xhdong-umd](https://github.com/xhdong-umd), [&#xFF20;xhudik](https://github.com/xhudik), [&#xFF20;ximeg](https://github.com/ximeg), [&#xFF20;yannickspill](https://github.com/yannickspill), and [&#xFF20;yutannihilation](https://github.com/yutannihilation).
