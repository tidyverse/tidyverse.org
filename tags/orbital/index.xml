<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>orbital | Tidyverse</title><link>https://www.tidyverse.org/tags/orbital/</link><atom:link href="https://www.tidyverse.org/tags/orbital/index.xml" rel="self" type="application/rss+xml"/><description>orbital</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 12 Jan 2026 00:00:00 +0000</lastBuildDate><item><title>orbital 0.4.0</title><link>https://www.tidyverse.org/blog/2026/01/orbital-0-4-0/</link><pubDate>Mon, 12 Jan 2026 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2026/01/orbital-0-4-0/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [ ] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>We&amp;rsquo;re over the moon to announce the release of
&lt;a href="https://orbital.tidymodels.org/" target="_blank" rel="noopener">orbital&lt;/a> 0.4.0. orbital lets you predict in databases using tidymodels workflows.&lt;/p>
&lt;p>You can install it from CRAN with:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/install.packages.html'>install.packages&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"orbital"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This blog post will cover the highlights, which are post processing support and the new &lt;code>show_query()&lt;/code> method.&lt;/p>
&lt;p>You can see a full list of changes in the
&lt;a href="https://orbital.tidymodels.org/news/index.html#orbital-040" target="_blank" rel="noopener">release notes&lt;/a>.&lt;/p>
&lt;h2 id="post-processing-support">Post processing support
&lt;a href="#post-processing-support">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The biggest improvement in this version is that
&lt;a href="https://orbital.tidymodels.org/reference/orbital.html" target="_blank" rel="noopener">&lt;code>orbital()&lt;/code>&lt;/a> now works for supported
&lt;a href="https://tailor.tidymodels.org/" target="_blank" rel="noopener">tailor&lt;/a> methods. See
&lt;a href="https://orbital.tidymodels.org/articles/supported-models.html#tailor-adjustments" target="_blank" rel="noopener">vignette&lt;/a> for a list of all supported post-processors.&lt;/p>
&lt;p>Let&amp;rsquo;s start by fitting a classification model on the &lt;code>penguins&lt;/code> data set, using {xgboost} as the engine. We will be showcasing using an adjustment that only works on binary classification and will thus recode &lt;code>species&lt;/code> to have levels &lt;code>&amp;quot;Adelie&amp;quot;&lt;/code> and &lt;code>&amp;quot;not_Adelie&amp;quot;&lt;/code>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>species&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>forcats&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://forcats.tidyverse.org/reference/fct_recode.html'>fct_recode&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;/span>
&lt;span> &lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>species&lt;/span>,&lt;/span>
&lt;span> not_Adelie &lt;span class='o'>=&lt;/span> &lt;span class='s'>"Chinstrap"&lt;/span>, not_Adelie &lt;span class='o'>=&lt;/span> &lt;span class='s'>"Gentoo"&lt;/span>&lt;/span>
&lt;span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>After we have modified the data, we set up a simple workflow, with a preprocessor using recipes and the model specification using parsnip.&lt;/p>
&lt;p>We also set up a post processor using the tailor package. A single adjustment will be done by adding &lt;code>adjust_equivocal_zone()&lt;/code>. This will apply an equivocal zone to our binary classification model. Stopping predictions that are too close to the thresholds by labeling them as &lt;code>&amp;quot;[EQ]&amp;quot;&lt;/code>. Setting the argument &lt;code>value = 0.2&lt;/code> means that any predictions with a predicted probability of between 0.3 and 0.7 will be predicted as &lt;code>&amp;quot;[EQ]&amp;quot;&lt;/code> instead.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>rec_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>species&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_unknown&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_nominal_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_dummy&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_nominal_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_impute_mean&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_numeric_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_zv&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>lr_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>boost_tree&lt;/span>&lt;span class='o'>(&lt;/span>tree_depth &lt;span class='o'>=&lt;/span> &lt;span class='m'>1&lt;/span>, trees &lt;span class='o'>=&lt;/span> &lt;span class='m'>5&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>set_mode&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"classification"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>set_engine&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"xgboost"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>tlr_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>tailor&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>adjust_equivocal_zone&lt;/span>&lt;span class='o'>(&lt;/span>value &lt;span class='o'>=&lt;/span> &lt;span class='m'>0.2&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>wf_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>workflow&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>rec_spec&lt;/span>, &lt;span class='nv'>lr_spec&lt;/span>, &lt;span class='nv'>tlr_spec&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>wf_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>fit&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>wf_spec&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>With this fitted workflow object, we can call
&lt;a href="https://orbital.tidymodels.org/reference/orbital.html" target="_blank" rel="noopener">&lt;code>orbital()&lt;/code>&lt;/a> on it to create an orbital object. Notice that for &lt;code>adjust_equivocal_zone()&lt;/code> to work, we need to set &lt;code>type = c(&amp;quot;class&amp;quot;, &amp;quot;prob&amp;quot;)&lt;/code> as both are required for the &lt;code>adjust_equivocal_zone()&lt;/code> transformation.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>orbital_obj&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://orbital.tidymodels.org/reference/orbital.html'>orbital&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>wf_fit&lt;/span>, type &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"class"&lt;/span>, &lt;span class='s'>"prob"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>orbital_obj&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>──&lt;/span> &lt;span style='font-weight: bold;'>orbital Object&lt;/span> &lt;span style='color: #00BBBB;'>───────────────────────────────────────────────────────&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • bill_length_mm = dplyr::if_else(is.na(bill_length_mm), 43.92193, ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • flipper_length_mm = dplyr::if_else(is.na(flipper_length_mm), 201 ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • .pred_class = dplyr::case_when(1 - 1/(1 + exp(dplyr::case_when(b ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • .pred_Adelie = 1 - 1/(1 + exp(dplyr::case_when(bill_length_mm &amp;lt; ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • .pred_not_Adelie = 1 - (1 - 1/(1 + exp(dplyr::case_when(bill_len ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • .pred_class = dplyr::case_when( .pred_Adelie &amp;gt; 0.5 + 0.2 ~ 'Adel ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; ─────────────────────────────────────────────────────────────────────────&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 6 equations in total.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This object contains all the information that is needed to produce predictions. Which we can produce with
&lt;a href="https://rdrr.io/r/stats/predict.html" target="_blank" rel="noopener">&lt;code>predict()&lt;/code>&lt;/a>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>preds&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>orbital_obj&lt;/span>, &lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>preds&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 344 × 3&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_class .pred_Adelie .pred_not_Adelie&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> Adelie 0.845 0.155&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> Adelie 0.845 0.155&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> Adelie 0.845 0.155&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> not_Adelie 0.291 0.709&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> Adelie 0.845 0.155&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> Adelie 0.845 0.155&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> Adelie 0.845 0.155&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> Adelie 0.845 0.155&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> Adelie 0.845 0.155&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> Adelie 0.845 0.155&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 334 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The predictions are working; however, we don&amp;rsquo;t see any evidence that &lt;code>adjust_equivocal_zone()&lt;/code> is working. A call to &lt;code>count()&lt;/code> reveals that a couple of observation lands in the equivocal zone.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>count&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>preds&lt;/span>, &lt;span class='nv'>.pred_class&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 3 × 2&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_class n&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>1&lt;/span> Adelie 144&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>2&lt;/span> [EQ] 15&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>3&lt;/span> not_Adelie 185&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>And we can further verify that they are correct.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/filter.html'>filter&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>preds&lt;/span>, &lt;span class='nv'>.pred_class&lt;/span> &lt;span class='o'>==&lt;/span> &lt;span class='s'>'[EQ]'&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 15 × 3&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_class .pred_Adelie .pred_not_Adelie&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> [EQ] 0.348 0.652&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> [EQ] 0.348 0.652&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> [EQ] 0.348 0.652&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>11&lt;/span> [EQ] 0.348 0.652&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>12&lt;/span> [EQ] 0.348 0.652&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>13&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>14&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>15&lt;/span> [EQ] 0.483 0.517&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="new-show_query-method">New show_query method
&lt;a href="#new-show_query-method">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>One of the main purposes of orbital is to allow for predictions in databases.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://dbi.r-dbi.org'>DBI&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://rsqlite.r-dbi.org'>RSQLite&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>con_sqlite&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://dbi.r-dbi.org/reference/dbConnect.html'>dbConnect&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://rsqlite.r-dbi.org/reference/SQLite.html'>SQLite&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>, path &lt;span class='o'>=&lt;/span> &lt;span class='s'>":memory:"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>penguins_sqlite&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>copy_to&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>con_sqlite&lt;/span>, &lt;span class='nv'>penguins&lt;/span>, name &lt;span class='o'>=&lt;/span> &lt;span class='s'>"penguins_table"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Having set up a database we could have used
&lt;a href="https://orbital.tidymodels.org/reference/orbital_sql.html" target="_blank" rel="noopener">&lt;code>orbital_sql()&lt;/code>&lt;/a> to show what the SQL query would have looked like. For quick testing, the output isn&amp;rsquo;t immediately ready to be pasted into its own file due to the &lt;code>&amp;lt;SQL&amp;gt;&lt;/code> fragments within the output.&lt;/p>
&lt;p>The &lt;code>show_query()&lt;/code> method has been implemented to see exactly what the generated SQL looks like.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>show_query&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>orbital_obj&lt;/span>, &lt;span class='nv'>con_sqlite&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; CASE WHEN ((`bill_length_mm` IS NULL)) THEN 43.9219298245614 WHEN NOT ((`bill_length_mm` IS NULL)) THEN `bill_length_mm` END AS bill_length_mm&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; CASE WHEN ((`flipper_length_mm` IS NULL)) THEN 201.0 WHEN NOT ((`flipper_length_mm` IS NULL)) THEN `flipper_length_mm` END AS flipper_length_mm&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((1.0 - 1.0 / (1.0 + EXP(((((CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 42.4000015) THEN 0.627138138&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 42.4000015 OR (`bill_length_mm` IS NULL))) THEN (-0.449751347)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 43.2999992) THEN 0.425288886&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 43.2999992 OR (`bill_length_mm` IS NULL))) THEN (-0.398178101)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 42.4000015) THEN 0.380251437&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 42.4000015 OR (`bill_length_mm` IS NULL))) THEN (-0.306771189)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 44.4000015) THEN 0.286071777&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 44.4000015 OR (`bill_length_mm` IS NULL))) THEN (-0.330096036)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`flipper_length_mm` &amp;lt; 203.0) THEN 0.209298179&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`flipper_length_mm` &amp;gt;= 203.0 OR (`flipper_length_mm` IS NULL))) THEN (-0.348002464)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + LOG(0.44186047 / (1.0 - 0.44186047))))) &amp;gt; 0.5) THEN 'Adelie'&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; ELSE 'not_Adelie'&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END AS .pred_class&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 1.0 - 1.0 / (1.0 + EXP(((((CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 42.4000015) THEN 0.627138138&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 42.4000015 OR (`bill_length_mm` IS NULL))) THEN (-0.449751347)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 43.2999992) THEN 0.425288886&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 43.2999992 OR (`bill_length_mm` IS NULL))) THEN (-0.398178101)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 42.4000015) THEN 0.380251437&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 42.4000015 OR (`bill_length_mm` IS NULL))) THEN (-0.306771189)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 44.4000015) THEN 0.286071777&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 44.4000015 OR (`bill_length_mm` IS NULL))) THEN (-0.330096036)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`flipper_length_mm` &amp;lt; 203.0) THEN 0.209298179&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`flipper_length_mm` &amp;gt;= 203.0 OR (`flipper_length_mm` IS NULL))) THEN (-0.348002464)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + LOG(0.44186047 / (1.0 - 0.44186047)))) AS .pred_Adelie&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 1.0 - (1.0 - 1.0 / (1.0 + EXP(((((CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 42.4000015) THEN 0.627138138&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 42.4000015 OR (`bill_length_mm` IS NULL))) THEN (-0.449751347)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 43.2999992) THEN 0.425288886&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 43.2999992 OR (`bill_length_mm` IS NULL))) THEN (-0.398178101)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 42.4000015) THEN 0.380251437&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 42.4000015 OR (`bill_length_mm` IS NULL))) THEN (-0.306771189)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`bill_length_mm` &amp;lt; 44.4000015) THEN 0.286071777&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`bill_length_mm` &amp;gt;= 44.4000015 OR (`bill_length_mm` IS NULL))) THEN (-0.330096036)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`flipper_length_mm` &amp;lt; 203.0) THEN 0.209298179&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN ((`flipper_length_mm` &amp;gt;= 203.0 OR (`flipper_length_mm` IS NULL))) THEN (-0.348002464)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END) + LOG(0.44186047 / (1.0 - 0.44186047))))) AS .pred_not_Adelie&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; CASE&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`.pred_Adelie` &amp;gt; (0.5 + 0.2)) THEN 'Adelie'&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; WHEN (`.pred_Adelie` &amp;lt; (0.5 - 0.2)) THEN 'not_Adelie'&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; ELSE '[EQ]'&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; END AS .pred_class&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>A big thank you to all the people who have contributed to orbital since the release of v0.4.0:&lt;/p>
&lt;p>
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/frankiethull" target="_blank" rel="noopener">@frankiethull&lt;/a>,
&lt;a href="https://github.com/jeroenjanssens" target="_blank" rel="noopener">@jeroenjanssens&lt;/a>, and
&lt;a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo&lt;/a>.&lt;/p></description></item><item><title>tidypredict 1.0.0</title><link>https://www.tidyverse.org/blog/2025/12/tidypredict-1-0-0/</link><pubDate>Wed, 10 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2025/12/tidypredict-1-0-0/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>We&amp;rsquo;re tickled pink to announce the release of version 1.0.0 of
&lt;a href="https://tidypredict.tidymodels.org/" target="_blank" rel="noopener">tidypredict&lt;/a>. The main goal of tidypredict is to enable running predictions inside databases. It reads the model, extracts the components needed to calculate the prediction, and then creates an R formula that can be translated into SQL.&lt;/p>
&lt;p>You can install them from CRAN with:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/install.packages.html'>install.packages&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"tidypredict"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This blog post highlights the most important changes in this release, including faster computations for tree-based models, more efficient tree representations, glmnet model support, and a change in how random forests are handled. You can see a full list of changes in the
&lt;a href="https://tidypredict.tidymodels.org/news/index.html#tidypredict-100" target="_blank" rel="noopener">release notes&lt;/a>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://tidypredict.tidymodels.org'>tidypredict&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="improved-output-for-random-forest-models">Improved output for random forest models
&lt;a href="#improved-output-for-random-forest-models">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The previous version of tidypredict
&lt;a href="https://tidypredict.tidymodels.org/reference/tidypredict_fit.html" target="_blank" rel="noopener">&lt;code>tidypredict_fit()&lt;/code>&lt;/a> would return a list of expressions, one for each tree, when applied to random forest models. This didn&amp;rsquo;t align with what is returned by other types of models. In version 1.0.0, this has been changed to produce a single, combined expression that reflects how predictions should be made.&lt;/p>
&lt;p>This is technically a breaking change, but one we believe is worthwhile, as it provides a more consistent output for
&lt;a href="https://tidypredict.tidymodels.org/reference/tidypredict_fit.html" target="_blank" rel="noopener">&lt;code>tidypredict_fit()&lt;/code>&lt;/a> and hides the technical details about how to combine trees from different packages.&lt;/p>
&lt;h2 id="faster-parsing-of-trees">Faster parsing of trees
&lt;a href="#faster-parsing-of-trees">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The parsing of xgboost, partykit, and ranger models should now be substantially faster than before. Examples have been shown to be 10 to 200 times faster. Please note that larger models, more trees, and deeper trees still take some time to parse.&lt;/p>
&lt;h2 id="more-efficient-tree-expressions">More efficient tree expressions
&lt;a href="#more-efficient-tree-expressions">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>All trees, whether they are a single tree or part of a collection of trees, such as in boosted trees or random forests, are encoded as &lt;code>case_when()&lt;/code> statements by tidypredict. This means that the following tree.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>model&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>partykit&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://rdrr.io/pkg/partykit/man/ctree.html'>ctree&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mpg&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>am&lt;/span> &lt;span class='o'>+&lt;/span> &lt;span class='nv'>cyl&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>model&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Model formula:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; mpg ~ am + cyl&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Fitted party:&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; [1] root&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; | [2] cyl &amp;lt;= 4: 26.664 (n = 11, err = 203.4)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; | [3] cyl &amp;gt; 4&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; | | [4] cyl &amp;lt;= 6: 19.743 (n = 7, err = 12.7)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; | | [5] cyl &amp;gt; 6: 15.100 (n = 14, err = 85.2)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Number of inner nodes: 2&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; Number of terminal nodes: 3&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Would be turned into the following &lt;code>case_when()&lt;/code> statement.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">case_when&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">cyl&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="m">4&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="m">26.6636363636364&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">cyl&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="m">6&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">cyl&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="m">4&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="m">19.7428571428571&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">cyl&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="m">6&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">cyl&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="m">4&lt;/span> &lt;span class="o">~=&lt;/span> &lt;span class="m">15.1&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>With this new update, we have taken advantage of the &lt;code>.default&lt;/code> argument whenever possible, which should lead to faster predictions, as we no longer need to calculate redundant conditionals.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://tidypredict.tidymodels.org/reference/tidypredict_fit.html'>tidypredict_fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>model&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; case_when(cyl &amp;lt;= 4 ~ 26.6636363636364, cyl &amp;lt;= 6 &amp;amp; cyl &amp;gt; 4 ~ 19.7428571428571, &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .default = 15.1)&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="glmnet-support">Glmnet support
&lt;a href="#glmnet-support">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>We now support the glmnet package. This package provides generalized linear models with lasso or elasticnet regularization.&lt;/p>
&lt;p>The primary restriction when using a glmnet model with &lt;code>tidypredict()&lt;/code> is that the model must have been fitted with the &lt;code>lambda&lt;/code> argument set to a single value.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>model&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>glmnet&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://glmnet.stanford.edu/reference/glmnet.html'>glmnet&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>[&lt;/span>, &lt;span class='o'>-&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>]&lt;/span>, &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>mpg&lt;/span>, lambda &lt;span class='o'>=&lt;/span> &lt;span class='m'>0.01&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://tidypredict.tidymodels.org/reference/tidypredict_fit.html'>tidypredict_fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>model&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 13.0081464696679 + (cyl * -0.0773532164346008) + (disp * 0.00969507138358544) + &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; (hp * -0.0192462098902709) + (drat * 0.816753237688302) + &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; (wt * -3.41564341709663) + (qsec * 0.758580151032383) + (vs * &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 0.277874296242861) + (am * 2.47356523820533) + (gear * 0.645144527527598) + &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; (carb * -0.300886812079305)&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>&lt;code>glmnet()&lt;/code> computes a collection of models using many sets of penalty values. This can be very efficient, but for tidypredict, we need to predict with a single penalty. Note how, as we increase the penalty, the extracted expression correctly removes terms with coefficients of &lt;code>0&lt;/code> instead of leaving them as &lt;code>(disp * 0)&lt;/code>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>model&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>glmnet&lt;/span>&lt;span class='nf'>::&lt;/span>&lt;span class='nf'>&lt;a href='https://glmnet.stanford.edu/reference/glmnet.html'>glmnet&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>[&lt;/span>, &lt;span class='o'>-&lt;/span>&lt;span class='m'>1&lt;/span>&lt;span class='o'>]&lt;/span>, &lt;span class='nv'>mtcars&lt;/span>&lt;span class='o'>$&lt;/span>&lt;span class='nv'>mpg&lt;/span>, lambda &lt;span class='o'>=&lt;/span> &lt;span class='m'>1&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nf'>&lt;a href='https://tidypredict.tidymodels.org/reference/tidypredict_fit.html'>tidypredict_fit&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>model&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 35.3137765116027 + (cyl * -0.871451193824228) + (hp * -0.0101173960249783) + &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; (wt * -2.59443677687505)&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>tidypredict is used as the primary parser for models employed by the
&lt;a href="https://orbital.tidymodels.org/" target="_blank" rel="noopener">orbital&lt;/a> package. This means that all the changes seen in this post also take effect when using orbital with tidymodels workflows. Such as using
&lt;a href="https://parsnip.tidymodels.org/reference/linear_reg.html" target="_blank" rel="noopener">&lt;code>parsnip::linear_reg()&lt;/code>&lt;/a> with &lt;code>engine = &amp;quot;glmnet&amp;quot;&lt;/code>.&lt;/p>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>A big thank you to all the folks who helped make this release happen:
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>, and
&lt;a href="https://github.com/jeroenjanssens" target="_blank" rel="noopener">@jeroenjanssens&lt;/a>.&lt;/p></description></item><item><title>orbital 0.3.0</title><link>https://www.tidyverse.org/blog/2025/01/orbital-0-3-0/</link><pubDate>Mon, 13 Jan 2025 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2025/01/orbital-0-3-0/</guid><description>&lt;!--
TODO:
* [x] Look over / edit the post's title in the yaml
* [x] Edit (or delete) the description; note this appears in the Twitter card
* [x] Pick category and tags (see existing with [`hugodown::tidy_show_meta()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html))
* [x] Find photo &amp; update yaml metadata
* [x] Create `thumbnail-sq.jpg`; height and width should be equal
* [x] Create `thumbnail-wd.jpg`; width should be >5x height
* [x] [`hugodown::use_tidy_thumbnails()`](https://rdrr.io/pkg/hugodown/man/use_tidy_post.html)
* [x] Add intro sentence, e.g. the standard tagline for the package
* [x] [`usethis::use_tidy_thanks()`](https://usethis.r-lib.org/reference/use_tidy_thanks.html)
-->
&lt;p>We&amp;rsquo;re thrilled to announce the release of
&lt;a href="https://orbital.tidymodels.org/" target="_blank" rel="noopener">orbital&lt;/a> 0.3.0. orbital lets you predict in databases using tidymodels workflows.&lt;/p>
&lt;p>You can install it from CRAN with:&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/utils/install.packages.html'>install.packages&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"orbital"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This blog post will cover the highlights, which are classification support and the new augment method.&lt;/p>
&lt;p>You can see a full list of changes in the
&lt;a href="https://orbital.tidymodels.org/news/index.html#orbital-030" target="_blank" rel="noopener">release notes&lt;/a>.&lt;/p>
&lt;h2 id="classification-support">Classification support
&lt;a href="#classification-support">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The biggest improvement in this version is that
&lt;a href="https://orbital.tidymodels.org/reference/orbital.html" target="_blank" rel="noopener">&lt;code>orbital()&lt;/code>&lt;/a> now works for supported classification models. See
&lt;a href="https://orbital.tidymodels.org/articles/supported-models.html#supported-models" target="_blank" rel="noopener">vignette&lt;/a> for list of all supported models.&lt;/p>
&lt;p>Let&amp;rsquo;s start by fitting a classification model on the &lt;code>penguins&lt;/code> data set, using {xgboost} as the engine.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>rec_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>recipe&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>species&lt;/span> &lt;span class='o'>~&lt;/span> &lt;span class='nv'>.&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_unknown&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_nominal_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_dummy&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_nominal_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_impute_mean&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_numeric_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>step_zv&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>all_predictors&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>lr_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>boost_tree&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>set_mode&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"classification"&lt;/span>&lt;span class='o'>)&lt;/span> &lt;span class='o'>|&amp;gt;&lt;/span>&lt;/span>
&lt;span> &lt;span class='nf'>set_engine&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"xgboost"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>wf_spec&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>workflow&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>rec_spec&lt;/span>, &lt;span class='nv'>lr_spec&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>wf_fit&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>fit&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>wf_spec&lt;/span>, data &lt;span class='o'>=&lt;/span> &lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>With this fitted workflow object, we can call
&lt;a href="https://orbital.tidymodels.org/reference/orbital.html" target="_blank" rel="noopener">&lt;code>orbital()&lt;/code>&lt;/a> on it to create an orbital object.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>orbital_obj&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://orbital.tidymodels.org/reference/orbital.html'>orbital&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>wf_fit&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>orbital_obj&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>──&lt;/span> &lt;span style='font-weight: bold;'>orbital Object&lt;/span> &lt;span style='color: #00BBBB;'>──────────────────────────────────────────────────────────────&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island = dplyr::if_else(is.na(island), "unknown", island)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex = dplyr::if_else(is.na(sex), "unknown", sex)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island_Dream = as.numeric(island == "Dream")&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island_Torgersen = as.numeric(island == "Torgersen")&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex_male = as.numeric(sex == "male")&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex_unknown = as.numeric(sex == "unknown")&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • bill_length_mm = dplyr::if_else(is.na(bill_length_mm), 43.92193, bill_l ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • bill_depth_mm = dplyr::if_else(is.na(bill_depth_mm), 17.15117, bill_dep ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • flipper_length_mm = dplyr::if_else(is.na(flipper_length_mm), 201, flipp ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • body_mass_g = dplyr::if_else(is.na(body_mass_g), 4202, body_mass_g)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island_Dream = dplyr::if_else(is.na(island_Dream), 0.3604651, island_Dr ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island_Torgersen = dplyr::if_else(is.na(island_Torgersen), 0.1511628, i ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex_male = dplyr::if_else(is.na(sex_male), 0.4883721, sex_male)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex_unknown = dplyr::if_else(is.na(sex_unknown), 0.03197674, sex_unknow ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • Adelie = 0 + dplyr::case_when((bill_depth_mm &amp;lt; 15.1 | is.na(bill_depth_ ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • Chinstrap = 0 + dplyr::case_when((island_Dream &amp;lt; 0.5 | is.na(island_Dre ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • Gentoo = 0 + dplyr::case_when((bill_depth_mm &amp;lt; 15.95 | is.na(bill_depth ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • .pred_class = dplyr::case_when(Adelie &amp;gt; Chinstrap &amp;amp; Adelie &amp;gt; Gentoo ~ " ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; ────────────────────────────────────────────────────────────────────────────────&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 18 equations in total.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This object contains all the information that is needed to produce predictions. Which we can produce with
&lt;a href="https://rdrr.io/r/stats/predict.html" target="_blank" rel="noopener">&lt;code>predict()&lt;/code>&lt;/a>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>orbital_obj&lt;/span>, &lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 344 × 1&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_class&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 334 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The main thing to note here is that the orbital package produces character vectors instead of factors. This is done as a unifying approach since many databases don&amp;rsquo;t have factor types.&lt;/p>
&lt;p>Speaking of databases, you can
&lt;a href="https://rdrr.io/r/stats/predict.html" target="_blank" rel="noopener">&lt;code>predict()&lt;/code>&lt;/a> on an orbital object using tables from databases. Below we create an ephemeral in-memory RSQLite database.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://dbi.r-dbi.org'>DBI&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='kr'>&lt;a href='https://rdrr.io/r/base/library.html'>library&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>&lt;a href='https://rsqlite.r-dbi.org'>RSQLite&lt;/a>&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;/span>
&lt;span>&lt;span class='nv'>con_sqlite&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://dbi.r-dbi.org/reference/dbConnect.html'>dbConnect&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nf'>&lt;a href='https://rsqlite.r-dbi.org/reference/SQLite.html'>SQLite&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='o'>)&lt;/span>, path &lt;span class='o'>=&lt;/span> &lt;span class='s'>":memory:"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>penguins_sqlite&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>copy_to&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>con_sqlite&lt;/span>, &lt;span class='nv'>penguins&lt;/span>, name &lt;span class='o'>=&lt;/span> &lt;span class='s'>"penguins_table"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>And we can predict with it like normal. All the calculations are sent to the database for execution.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>orbital_obj&lt;/span>, &lt;span class='nv'>penguins_sqlite&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># Source: SQL [?? x 1]&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># Database: sqlite 3.47.1 []&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_class&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> Adelie &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>This works the same with
&lt;a href="https://orbital.tidymodels.org/articles/databases.html" target="_blank" rel="noopener">many types of databases&lt;/a>.&lt;/p>
&lt;p>Classification is different from regression in part because it comes with multiple prediction types. The above example showed the default which is hard classification. You can set the type of prediction you want with the &lt;code>type&lt;/code> argument to &lt;code>orbital&lt;/code>. For classification models, possible options are &lt;code>&amp;quot;class&amp;quot;&lt;/code> and &lt;code>&amp;quot;prob&amp;quot;&lt;/code>.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nv'>orbital_obj_prob&lt;/span> &lt;span class='o'>&amp;lt;-&lt;/span> &lt;span class='nf'>&lt;a href='https://orbital.tidymodels.org/reference/orbital.html'>orbital&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>wf_fit&lt;/span>, type &lt;span class='o'>=&lt;/span> &lt;span class='nf'>&lt;a href='https://rdrr.io/r/base/c.html'>c&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='s'>"class"&lt;/span>, &lt;span class='s'>"prob"&lt;/span>&lt;span class='o'>)&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='nv'>orbital_obj_prob&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #00BBBB;'>──&lt;/span> &lt;span style='font-weight: bold;'>orbital Object&lt;/span> &lt;span style='color: #00BBBB;'>──────────────────────────────────────────────────────────────&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island = dplyr::if_else(is.na(island), "unknown", island)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex = dplyr::if_else(is.na(sex), "unknown", sex)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island_Dream = as.numeric(island == "Dream")&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island_Torgersen = as.numeric(island == "Torgersen")&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex_male = as.numeric(sex == "male")&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex_unknown = as.numeric(sex == "unknown")&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • bill_length_mm = dplyr::if_else(is.na(bill_length_mm), 43.92193, bill_l ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • bill_depth_mm = dplyr::if_else(is.na(bill_depth_mm), 17.15117, bill_dep ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • flipper_length_mm = dplyr::if_else(is.na(flipper_length_mm), 201, flipp ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • body_mass_g = dplyr::if_else(is.na(body_mass_g), 4202, body_mass_g)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island_Dream = dplyr::if_else(is.na(island_Dream), 0.3604651, island_Dr ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • island_Torgersen = dplyr::if_else(is.na(island_Torgersen), 0.1511628, i ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex_male = dplyr::if_else(is.na(sex_male), 0.4883721, sex_male)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • sex_unknown = dplyr::if_else(is.na(sex_unknown), 0.03197674, sex_unknow ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • Adelie = 0 + dplyr::case_when((bill_depth_mm &amp;lt; 15.1 | is.na(bill_depth_ ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • Chinstrap = 0 + dplyr::case_when((island_Dream &amp;lt; 0.5 | is.na(island_Dre ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • Gentoo = 0 + dplyr::case_when((bill_depth_mm &amp;lt; 15.95 | is.na(bill_depth ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • .pred_class = dplyr::case_when(Adelie &amp;gt; Chinstrap &amp;amp; Adelie &amp;gt; Gentoo ~ " ...&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • norm = exp(Adelie) + exp(Chinstrap) + exp(Gentoo)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • .pred_Adelie = exp(Adelie) / norm&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • .pred_Chinstrap = exp(Chinstrap) / norm&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; • .pred_Gentoo = exp(Gentoo) / norm&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; ────────────────────────────────────────────────────────────────────────────────&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; 22 equations in total.&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>Notice how we can select both &lt;code>&amp;quot;class&amp;quot;&lt;/code> and &lt;code>&amp;quot;prob&amp;quot;&lt;/code>. The predictions now include both hard and soft class predictions.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>orbital_obj_prob&lt;/span>, &lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 344 × 4&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_class .pred_Adelie .pred_Chinstrap .pred_Gentoo&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> Adelie 0.709 0.024&lt;span style='text-decoration: underline;'>5&lt;/span> 0.267 &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> Adelie 0.979 0.005&lt;span style='text-decoration: underline;'>49&lt;/span> 0.015&lt;span style='text-decoration: underline;'>8&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> Adelie 0.980 0.005&lt;span style='text-decoration: underline;'>59&lt;/span> 0.014&lt;span style='text-decoration: underline;'>8&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 334 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>That works equally well in databases.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://rdrr.io/r/stats/predict.html'>predict&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>orbital_obj_prob&lt;/span>, &lt;span class='nv'>penguins_sqlite&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># Source: SQL [?? x 4]&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># Database: sqlite 3.47.1 []&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_class .pred_Adelie .pred_Chinstrap .pred_Gentoo&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> Adelie 0.709 0.024&lt;span style='text-decoration: underline;'>5&lt;/span> 0.267 &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> Adelie 0.989 0.005&lt;span style='text-decoration: underline;'>54&lt;/span> 0.005&lt;span style='text-decoration: underline;'>60&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> Adelie 0.979 0.005&lt;span style='text-decoration: underline;'>49&lt;/span> 0.015&lt;span style='text-decoration: underline;'>8&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> Adelie 0.980 0.005&lt;span style='text-decoration: underline;'>59&lt;/span> 0.014&lt;span style='text-decoration: underline;'>8&lt;/span> &lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="new-augment-method">New augment method
&lt;a href="#new-augment-method">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The users of tidymodels have found the
&lt;a href="https://generics.r-lib.org/reference/augment.html" target="_blank" rel="noopener">&lt;code>augment()&lt;/code>&lt;/a> function to be a handy tool. This function performs predictions and returns them alongside the original data set.&lt;/p>
&lt;p>This release adds
&lt;a href="https://generics.r-lib.org/reference/augment.html" target="_blank" rel="noopener">&lt;code>augment()&lt;/code>&lt;/a> support for orbital objects.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/augment.html'>augment&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>orbital_obj&lt;/span>, &lt;span class='nv'>penguins&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># A tibble: 344 × 8&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_class species island bill_length_mm bill_depth_mm flipper_length_mm&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;fct&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> Adelie Adelie Torgersen 39.1 18.7 181&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> Adelie Adelie Torgersen 39.5 17.4 186&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> Adelie Adelie Torgersen 40.3 18 195&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> Adelie Adelie Torgersen &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> Adelie Adelie Torgersen 36.7 19.3 193&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> Adelie Adelie Torgersen 39.3 20.6 190&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> Adelie Adelie Torgersen 38.9 17.8 181&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> Adelie Adelie Torgersen 39.2 19.6 195&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> Adelie Adelie Torgersen 34.1 18.1 193&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> Adelie Adelie Torgersen 42 20.2 190&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 334 more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 2 more variables: body_mass_g &amp;lt;int&amp;gt;, sex &amp;lt;fct&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;p>The function works for most databases, but for technical reasons doesn&amp;rsquo;t work with all. It has been confirmed to not work work in spark databases or arrow tables.&lt;/p>
&lt;div class="highlight">
&lt;pre class='chroma'>&lt;code class='language-r' data-lang='r'>&lt;span>&lt;span class='nf'>&lt;a href='https://generics.r-lib.org/reference/augment.html'>augment&lt;/a>&lt;/span>&lt;span class='o'>(&lt;/span>&lt;span class='nv'>orbital_obj&lt;/span>, &lt;span class='nv'>penguins_sqlite&lt;/span>&lt;span class='o'>)&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># Source: SQL [?? x 8]&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># Database: sqlite 3.47.1 []&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; .pred_class species island bill_length_mm bill_depth_mm flipper_length_mm&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;chr&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;dbl&amp;gt;&lt;/span> &lt;span style='color: #555555; font-style: italic;'>&amp;lt;int&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 1&lt;/span> Adelie Adelie Torgersen 39.1 18.7 181&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 2&lt;/span> Adelie Adelie Torgersen 39.5 17.4 186&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 3&lt;/span> Adelie Adelie Torgersen 40.3 18 195&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 4&lt;/span> Adelie Adelie Torgersen &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span> &lt;span style='color: #BB0000;'>NA&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 5&lt;/span> Adelie Adelie Torgersen 36.7 19.3 193&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 6&lt;/span> Adelie Adelie Torgersen 39.3 20.6 190&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 7&lt;/span> Adelie Adelie Torgersen 38.9 17.8 181&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 8&lt;/span> Adelie Adelie Torgersen 39.2 19.6 195&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'> 9&lt;/span> Adelie Adelie Torgersen 34.1 18.1 193&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'>10&lt;/span> Adelie Adelie Torgersen 42 20.2 190&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ more rows&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;span class='c'>#&amp;gt; &lt;span style='color: #555555;'># ℹ 2 more variables: body_mass_g &amp;lt;int&amp;gt;, sex &amp;lt;chr&amp;gt;&lt;/span>&lt;/span>&lt;/span>
&lt;span>&lt;/span>&lt;/code>&lt;/pre>
&lt;/div>
&lt;h2 id="acknowledgements">Acknowledgements
&lt;a href="#acknowledgements">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>A big thank you to all the people who have contributed to orbital since the release of v0.3.0:&lt;/p>
&lt;p>
&lt;a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt&lt;/a>,
&lt;a href="https://github.com/joscani" target="_blank" rel="noopener">@joscani&lt;/a>,
&lt;a href="https://github.com/jrosell" target="_blank" rel="noopener">@jrosell&lt;/a>,
&lt;a href="https://github.com/npelikan" target="_blank" rel="noopener">@npelikan&lt;/a>, and
&lt;a href="https://github.com/szimmer" target="_blank" rel="noopener">@szimmer&lt;/a>.&lt;/p></description></item></channel></rss>