<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>feature-selection | Tidyverse</title><link>https://www.tidyverse.org/tags/feature-selection/</link><atom:link href="https://www.tidyverse.org/tags/feature-selection/index.xml" rel="self" type="application/rss+xml"/><description>feature-selection</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 22 Nov 2025 00:00:00 +0000</lastBuildDate><item><title>Two New tidymodels Packages</title><link>https://www.tidyverse.org/blog/2025/11/two-new-tidymodels-packages/</link><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate><guid>https://www.tidyverse.org/blog/2025/11/two-new-tidymodels-packages/</guid><description>&lt;!--
TODO:
* [ ] Look over / edit the post's title in the yaml
* [ ] Edit (or delete) the description; note this appears in the Twitter card
* [ ] Pick category and tags (see existing with `hugodown::tidy_show_meta()`)
* [ ] Find photo &amp; update yaml metadata
* [ ] Create `thumbnail-sq.jpg`; height and width should be equal
* [ ] Create `thumbnail-wd.jpg`; width should be >5x height
* [ ] `hugodown::use_tidy_thumbnails()`
* [ ] Add intro sentence, e.g. the standard tagline for the package
* [ ] `usethis::use_tidy_thanks()`
-->
&lt;p>We&amp;rsquo;re very chuffed to announce the release of &lt;em>two&lt;/em> new modeling packages: filtro and important.&lt;/p>
&lt;p>You can install them from CRAN with:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">install.packages&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;filtro&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;important&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>This blog post will introduce both.&lt;/p>
&lt;h2 id="filtro">filtro
&lt;a href="#filtro">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Feature selection is an important step in building machine learning models that are robust and reliable. By keeping only the most relevant predictors, we can reduce overfitting, improve model performance, and speed up computation.&lt;/p>
&lt;p>
&lt;a href="https://filtro.tidymodels.org/" target="_blank" rel="noopener">filtro&lt;/a> is a low-level tidy tools designed for filter-based supervised feature selection. filtro makes it easy to score, rank, and select features using a wide range of statistical and model-based metrics. The scoring metrics include: p-values, correlation, random forest feature importance, information gain, and more.&lt;/p>
&lt;p>With filtro, we can quickly rank the variables and select either the top proportion or the top number of features that best contribute to our model. It also supports
&lt;a href="https://scholar.google.com/scholar?hl=en&amp;amp;as_sdt=0%2C7&amp;amp;q=%22multi-parameter&amp;#43;optimization%22&amp;amp;btnG=" target="_blank" rel="noopener">multi-parameter optimization&lt;/a> via
&lt;a href="https://scholar.google.com/scholar?hl=en&amp;amp;as_sdt=0%2C7&amp;amp;q=%22desirability&amp;#43;functions%22&amp;amp;btnG=" target="_blank" rel="noopener">desirability functions&lt;/a>. filtro is a standalone tool, but it integrates with other packages, allowing it to be used within the tidymodels workflows.&lt;/p>
&lt;p>Currently, filtro implements a total of six filters. Like other elements of the framework, also filtro is extensible if you want to use a score we haven&amp;rsquo;t implemented yet. You can read more on how to do this on
&lt;a href="https://www.tidymodels.org/learn/develop/filtro/" target="_blank" rel="noopener">tidymodels.org&lt;/a>.&lt;/p>
&lt;p>The available score class objects are:&lt;/p>
&lt;pre>&lt;code>## [1] &amp;quot;score_aov_fstat&amp;quot; &amp;quot;score_aov_pval&amp;quot;
## [3] &amp;quot;score_cor_pearson&amp;quot; &amp;quot;score_cor_spearman&amp;quot;
## [5] &amp;quot;score_gain_ratio&amp;quot; &amp;quot;score_imp_rf&amp;quot;
## [7] &amp;quot;score_imp_rf_conditional&amp;quot; &amp;quot;score_imp_rf_oblique&amp;quot;
## [9] &amp;quot;score_info_gain&amp;quot; &amp;quot;score_roc_auc&amp;quot;
## [11] &amp;quot;score_sym_uncert&amp;quot; &amp;quot;score_xtab_pval_chisq&amp;quot;
## [13] &amp;quot;score_xtab_pval_fisher&amp;quot;
&lt;/code>&lt;/pre>&lt;p>Let&amp;rsquo;s look at an example.
&lt;a href="https://www.google.com/search?q=Kuhn&amp;#43;and&amp;#43;Johnson&amp;#43;Applied&amp;#43;Predictive&amp;#43;Modeling&amp;#43;2013" target="_blank" rel="noopener">Kuhn and Johnson (2013)&lt;/a> described a data set where 176 samples were collected from a chemical manufacturing process. The goal is to predict process yield. Predictors are continuous, count, and categorical; some are correlated, and some contain missing values.&lt;/p>
&lt;p>Let’s create an initial split of the data (which are in the modeldata package):&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tidymodels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filtro&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nf">set.seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">yield_split&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">initial_split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">modeldata&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">chem_proc_yield&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">yield_split&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## &amp;lt;Training/Testing/Total&amp;gt;
## &amp;lt;132/44/176&amp;gt;
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">yield_train&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">training&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yield_split&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">yield_test&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">testing&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yield_split&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We’d like to estimate the strength of the relationship between these 57 predictors and the process yield. We’ll quantify that in two ways. First is the old-fashioned
&lt;a href="https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient" target="_blank" rel="noopener">Spearman rank correlation&lt;/a> statistic. We can estimate these values and rank them by the absolute value of the correlations. We can also measure their value using a random forest variable importance. One quality of the predictors is that their values are correlated, so there may be some value in using an &lt;em>oblique&lt;/em> random forest model. This creates a collection of tree-based models with splits that are linear combinations of the selected predictors.&lt;/p>
&lt;p>To estimate the scores, we use the score objects contained in the package along with the &lt;code>fit()&lt;/code> method:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">yield_rank_res&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="n">score_cor_spearman&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">fit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yield&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">.,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">yield_train&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># The object contains the statistics:&lt;/span>
&lt;span class="n">yield_rank_res&lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="n">results&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">arrange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">desc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">score&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## # A tibble: 57 × 4
## name score outcome predictor
## &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;
## 1 cor_spearman 0.655 yield man_proc_32
## 2 cor_spearman -0.537 yield man_proc_36
## 3 cor_spearman 0.519 yield bio_material_03
## 4 cor_spearman 0.502 yield bio_material_06
## 5 cor_spearman 0.491 yield man_proc_09
## 6 cor_spearman 0.478 yield bio_material_02
## 7 cor_spearman 0.446 yield man_proc_33
## 8 cor_spearman 0.421 yield bio_material_12
## 9 cor_spearman -0.420 yield man_proc_13
## 10 cor_spearman 0.412 yield bio_material_04
## # ℹ 47 more rows
&lt;/code>&lt;/pre>&lt;p>To score via a random forest model, we only need to switch out the score object:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">yield_rf_res&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="n">score_imp_rf_oblique&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">fit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yield&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">.,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">yield_train&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">yield_rf_res&lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="n">results&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">arrange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">desc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">score&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## # A tibble: 57 × 4
## name score outcome predictor
## &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;
## 1 imp_rf_oblique 0.128 yield man_proc_32
## 2 imp_rf_oblique 0.0697 yield man_proc_36
## 3 imp_rf_oblique 0.0670 yield man_proc_17
## 4 imp_rf_oblique 0.0644 yield man_proc_09
## 5 imp_rf_oblique 0.0612 yield man_proc_13
## 6 imp_rf_oblique 0.0446 yield bio_material_03
## 7 imp_rf_oblique 0.0315 yield man_proc_33
## 8 imp_rf_oblique 0.0263 yield man_proc_11
## 9 imp_rf_oblique 0.0263 yield bio_material_04
## 10 imp_rf_oblique 0.0262 yield bio_material_06
## # ℹ 47 more rows
&lt;/code>&lt;/pre>&lt;p>We should probably combine the scores and do a joint ranking. To combine the two sets of statistics:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">class_score_list&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yield_rank_res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yield_rf_res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">bind_scores&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">class_score_list&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## # A tibble: 57 × 4
## outcome predictor cor_spearman imp_rf_oblique
## &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1 yield bio_material_01 0.404 0.0178
## 2 yield bio_material_02 0.478 0.0190
## 3 yield bio_material_03 0.519 0.0446
## 4 yield bio_material_04 0.412 0.0263
## 5 yield bio_material_05 0.116 0.00639
## 6 yield bio_material_06 0.502 0.0262
## 7 yield bio_material_07 -0.101 0.00151
## 8 yield bio_material_08 0.369 0.00714
## 9 yield bio_material_09 0.109 0.0122
## 10 yield bio_material_10 0.214 0.00998
## # ℹ 47 more rows
&lt;/code>&lt;/pre>&lt;p>We can accomplish a joint ranking via desirability functions. Here, we set goals for each score (i.e., maximize, minimize, etc.). The algorithm rescales their values and uses a geometric mean for an overall ranking. The desirability2 package has some nice tools for this. Here&amp;rsquo;s how we do it:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">desirability2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">class_score_list&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">show_best_desirability_prop&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="nf">maximize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cor_spearman&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">low&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.25&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">high&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="nf">maximize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">imp_rf_oblique&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">scale&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">arrange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">desc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">.d_overall&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nf">starts_with&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;.d_max_&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## # A tibble: 57 × 5
## outcome predictor cor_spearman imp_rf_oblique .d_overall
## &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1 yield man_proc_32 0.655 0.128 0.735
## 2 yield man_proc_09 0.491 0.0644 0.291
## 3 yield bio_material_03 0.519 0.0446 0.217
## 4 yield man_proc_33 0.446 0.0315 0.134
## 5 yield bio_material_06 0.502 0.0262 0.129
## 6 yield bio_material_04 0.412 0.0263 0.104
## 7 yield bio_material_02 0.478 0.0190 0.0926
## 8 yield bio_material_01 0.404 0.0178 0.0719
## 9 yield bio_material_11 0.381 0.0194 0.0714
## 10 yield man_proc_12 0.391 0.0183 0.0705
## # ℹ 47 more rows
&lt;/code>&lt;/pre>&lt;p>Using the &lt;code>scale = 2&lt;/code> option puts more weight on the random forest results.&lt;/p>
&lt;p>It is unlikely that users will work with filtro directly; it is much better to incorporate these feature selection tools inside a model workflow (as we will see below).&lt;/p>
&lt;p>Now that we&amp;rsquo;ve looked at filtro, next up is the important package (yes, this is what we named it).&lt;/p>
&lt;h2 id="important">important
&lt;a href="#important">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>The
&lt;a href="https://important.tidymodels.org/" target="_blank" rel="noopener">important&lt;/a> package does two things. First, it provides yet another tool for calculating random forest-like permutation importance scores. We highly value other packages that perform these same calculations (such as
&lt;a href="https://modeloriented.github.io/DALEX/" target="_blank" rel="noopener">DALEX&lt;/a> and
&lt;a href="https://github.com/koalaverse/vip/" target="_blank" rel="noopener">vip&lt;/a>). Our rationale for creating another package for this is that we&amp;rsquo;ve developed interfaces for censored regression, including dynamic metrics such as Brier scores or ROC curves that evaluate models at a specific time point. These dynamic methods aren&amp;rsquo;t available in other packages, and the peculiarities of these metrics make them difficult to incorporate into existing frameworks.&lt;/p>
&lt;p>Other niceties about importance scores are that any metric from the yardstick package can be used, and we have optimized parallel processing for the underlying computations. For the latter feature, we support the future and mirai packages for parallel processing.&lt;/p>
&lt;p>important also has three recipe steps for supervised feature selection (similar to what Steven Pawley did with his
&lt;a href="https://stevenpawley.github.io/colino/" target="_blank" rel="noopener">colino package&lt;/a>). The steps are:&lt;/p>
&lt;ul>
&lt;li>
&lt;a href="https://important.tidymodels.org/reference/step_predictor_best.html" target="_blank" rel="noopener">&lt;code>step_predictors_best()&lt;/code>&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://important.tidymodels.org/reference/step_predictor_retain.html" target="_blank" rel="noopener">&lt;code>step_predictors_retain()&lt;/code>&lt;/a>&lt;/li>
&lt;li>
&lt;a href="https://important.tidymodels.org/reference/step_predictor_desirability.html" target="_blank" rel="noopener">&lt;code>step_predictors_desirability()&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Let&amp;rsquo;s look at the last one, which mirrors our analysis above.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="nf">library&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">important&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">goals&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">desirability&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="nf">maximize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cor_spearman&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">low&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">0.25&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">high&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="nf">maximize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">imp_rf_oblique&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">scale&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="n">yield_rec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>
&lt;span class="nf">recipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yield&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="n">.,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">yield_train&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">step_impute_knn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">all_predictors&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">neighbors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">10&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">step_predictor_desirability&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="nf">all_predictors&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;span class="n">score&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">goals&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">prop_terms&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="m">10&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="n">yield_rec&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>##
&lt;/code>&lt;/pre>&lt;pre>&lt;code>## ── Recipe ───────────────────────────────────────────────────────
&lt;/code>&lt;/pre>&lt;pre>&lt;code>##
&lt;/code>&lt;/pre>&lt;pre>&lt;code>## ── Inputs
&lt;/code>&lt;/pre>&lt;pre>&lt;code>## Number of variables by role
&lt;/code>&lt;/pre>&lt;pre>&lt;code>## outcome: 1
## predictor: 57
&lt;/code>&lt;/pre>&lt;pre>&lt;code>##
&lt;/code>&lt;/pre>&lt;pre>&lt;code>## ── Operations
&lt;/code>&lt;/pre>&lt;pre>&lt;code>## • K-nearest neighbor imputation for: all_predictors()
&lt;/code>&lt;/pre>&lt;pre>&lt;code>## • Feature selection via desirability functions (`cor_spearman`
## and `imp_rf_oblique`) on: all_predictors()
&lt;/code>&lt;/pre>&lt;p>When combined with a specific model, we can tune the number of neighbors as well as the proportion of predictors retained (10% above).&lt;/p>
&lt;p>&lt;code>prep()&lt;/code> will do the appropriate estimation steps:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">trained_rec&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">prep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yield_rec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Which 10% of the predictors were retained? The &lt;code>tidy()&lt;/code> method can list the scores and their rankings:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="n">scores&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="nf">tidy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trained_rec&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">scores&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">arrange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">desc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">.d_overall&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">|&amp;gt;&lt;/span>
&lt;span class="nf">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nf">starts_with&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;.d_max_&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## # A tibble: 57 × 5
## terms removed cor_spearman imp_rf_oblique .d_overall
## &amp;lt;chr&amp;gt; &amp;lt;lgl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1 man_proc_32 FALSE 0.655 0.128 0.735
## 2 man_proc_36 FALSE -0.530 0.0668 0.325
## 3 man_proc_09 FALSE 0.491 0.0673 0.304
## 4 man_proc_13 FALSE -0.420 0.0725 0.275
## 5 bio_material_03 FALSE 0.519 0.0517 0.249
## 6 bio_material_06 TRUE 0.502 0.0445 0.210
## 7 man_proc_17 TRUE -0.303 0.0749 0.158
## 8 man_proc_33 TRUE 0.443 0.0374 0.156
## 9 bio_material_02 TRUE 0.478 0.0330 0.151
## 10 bio_material_04 TRUE 0.412 0.0347 0.133
## # ℹ 47 more rows
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-r" data-lang="r">&lt;span class="c1"># What percentage was removed?&lt;/span>
&lt;span class="nf">mean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scores&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="n">removed&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="m">100&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>## [1] 91.22807
&lt;/code>&lt;/pre>
&lt;h2 id="summary">Summary
&lt;a href="#summary">
&lt;svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M0 0h24v24H0z" fill="currentColor">&lt;/path>
&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z">&lt;/path>
&lt;/svg>
&lt;/a>
&lt;/h2>&lt;p>Both filtro and important satisfy a feature for tidymodels that has been highly ranked in our user surveys: supervised feature selection. filtro contains the underlying framework and important provides recipe steps that can be used in a workflow.&lt;/p></description></item></channel></rss>