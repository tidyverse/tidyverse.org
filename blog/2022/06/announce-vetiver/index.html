<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>Announcing vetiver for MLOps in R and Python</title><meta property="og:title" content="Announcing vetiver for MLOps in R and Python"><meta property="og:description" content="We are thrilled to announce the release of vetiver, a framework for MLOps  tasks in R and Python. Use vetiver to version, share, deploy, and monitor a  trained model."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2022/06/announce-vetiver/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="Announcing vetiver for MLOps in R and Python - Tidyverse"><meta property="description" content="We are thrilled to announce the release of vetiver, a framework for MLOps  tasks in R and Python. Use vetiver to version, share, deploy, and monitor a  trained model."><meta property="og:description" content="We are thrilled to announce the release of vetiver, a framework for MLOps  tasks in R and Python. Use vetiver to version, share, deploy, and monitor a  trained model."><meta property="og:image" content="https://www.tidyverse.org/blog/2022/06/announce-vetiver/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2022/06/announce-vetiver/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>Announcing vetiver for MLOps in R and Python</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2022/06/announce-vetiver/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/3C5ZfCLSGC4>21 swan</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2022/06/09</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/tidymodels/>tidymodels</a>,
<a href=/tags/vetiver/>vetiver</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Julia Silge</p><div class=article-content><p>We are thrilled to announce the release of
<a href=https://vetiver.rstudio.com/ target=_blank rel=noopener>vetiver</a>, a framework for MLOps tasks in R and Python! The goal of vetiver is to provide fluent tooling to <strong>version</strong>, <strong>share</strong>, <strong>deploy</strong>, and <strong>monitor</strong> a trained model. If you like perfume or candles, you may recognize this name; vetiver, also known as the &ldquo;oil of tranquility&rdquo;, is used as a stabilizing ingredient in perfumery to preserve more volatile fragrances.</p><p>You can install the released version of vetiver for R from
<a href="https://cran.r-project.org/package=vetiver" target=_blank rel=noopener>CRAN</a>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>install.packages</span><span class=p>(</span><span class=s>&#34;vetiver&#34;</span><span class=p>)</span>
</code></pre></div><p>You can install the released version of vetiver for Python from
<a href=https://pypi.org/project/vetiver/ target=_blank rel=noopener>PyPI</a>:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>pip</span> <span class=n>install</span> <span class=n>vetiver</span>
</code></pre></div><p>We are sharing more about what vetiver is and how it works over
<a href=https://www.rstudio.com/blog/announce-vetiver/ target=_blank rel=noopener>on the RStudio blog</a> so check that out, but we want to share here as well!</p><h2 id=train-a-model>Train a model
<a href=#train-a-model><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>For this example, let’s work with data on everyone&rsquo;s favorite dataset on fuel efficiency for cars to predict miles per gallon. In R, we can train a decision tree model to predict miles per gallon using a
<a href=https://www.tidymodels.org/ target=_blank rel=noopener>tidymodels</a> workflow:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>library</span><span class=p>(</span><span class=n>tidymodels</span><span class=p>)</span>

<span class=n>car_mod</span> <span class=o>&lt;-</span>
    <span class=nf>workflow</span><span class=p>(</span><span class=n>mpg</span> <span class=o>~</span> <span class=n>.,</span> <span class=nf>decision_tree</span><span class=p>(</span><span class=n>mode</span> <span class=o>=</span> <span class=s>&#34;regression&#34;</span><span class=p>))</span> <span class=o>%&gt;%</span>
    <span class=nf>fit</span><span class=p>(</span><span class=n>mtcars</span><span class=p>)</span>
</code></pre></div><p>In Python, we can train the same kind of model using
<a href=https://scikit-learn.org/ target=_blank rel=noopener>scikit-learn</a>:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>from</span> <span class=nn>vetiver.data</span> <span class=kn>import</span> <span class=n>mtcars</span>
<span class=kn>from</span> <span class=nn>sklearn</span> <span class=kn>import</span> <span class=n>tree</span>
<span class=n>car_mod</span> <span class=o>=</span> <span class=n>tree</span><span class=o>.</span><span class=n>DecisionTreeRegressor</span><span class=p>()</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>mtcars</span><span class=p>,</span> <span class=n>mtcars</span><span class=p>[</span><span class=s2>&#34;mpg&#34;</span><span class=p>])</span>
</code></pre></div><p>For both R and Python, the <code>car_mod</code> object is a fitted model, with parameters estimated using our training data <code>mtcars</code>.</p><h2 id=create-a-vetiver-model>Create a vetiver model
<a href=#create-a-vetiver-model><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>We can create a <code>vetiver_model()</code> in R or <code>VetiverModel()</code> in Python from the trained model; a vetiver model object collects the information needed to store, version, and deploy a trained model.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>library</span><span class=p>(</span><span class=n>vetiver</span><span class=p>)</span>
<span class=n>v</span> <span class=o>&lt;-</span> <span class=nf>vetiver_model</span><span class=p>(</span><span class=n>car_mod</span><span class=p>,</span> <span class=s>&#34;cars_mpg&#34;</span><span class=p>)</span>
<span class=n>v</span>
<span class=c1>#&gt; </span>
<span class=c1>#&gt; ── cars_mpg ─ &lt;butchered_workflow&gt; model for deployment </span>
<span class=c1>#&gt; A rpart regression modeling workflow using 10 features</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>from</span> <span class=nn>vetiver</span> <span class=kn>import</span> <span class=n>VetiverModel</span>
<span class=n>v</span> <span class=o>=</span> <span class=n>VetiverModel</span><span class=p>(</span><span class=n>car_mod</span><span class=p>,</span> <span class=n>model_name</span> <span class=o>=</span> <span class=s2>&#34;cars_mpg&#34;</span><span class=p>,</span> 
                 <span class=n>save_ptype</span> <span class=o>=</span> <span class=bp>True</span><span class=p>,</span> <span class=n>ptype_data</span> <span class=o>=</span> <span class=n>mtcars</span><span class=p>)</span>
<span class=n>v</span><span class=o>.</span><span class=n>description</span>
<span class=c1>#&gt; &#34;Scikit-learn &lt;class &#39;sklearn.tree._classes.DecisionTreeRegressor&#39;&gt; model&#34;</span>
</code></pre></div><p>See our documentation for how to use these deployable model objects and:</p><ul><li><a href=https://vetiver.rstudio.com/get-started/version.html target=_blank rel=noopener>publish and version your model</a></li><li><a href=https://vetiver.rstudio.com/get-started/deploy.html target=_blank rel=noopener>deploy your model as a REST API</a></li></ul><p>Be sure to also read more
<a href=https://www.rstudio.com/blog/announce-vetiver/ target=_blank rel=noopener>on the RStudio blog</a>.</p><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>We&rsquo;d like to extend our thanks to all of the contributors who helped make these initial releases of vetiver for R and Python possible!</p><ul><li><p>R package:
<a href=https://github.com/cderv target=_blank rel=noopener>@cderv</a>,
<a href=https://github.com/ggpinto target=_blank rel=noopener>@ggpinto</a>,
<a href=https://github.com/isabelizimm target=_blank rel=noopener>@isabelizimm</a>,
<a href=https://github.com/juliasilge target=_blank rel=noopener>@juliasilge</a>, and
<a href=https://github.com/mfansler target=_blank rel=noopener>@mfansler</a></p></li><li><p>Python package:
<a href=https://github.com/has2k1 target=_blank rel=noopener>@has2k1</a>, and
<a href=https://github.com/isabelizimm target=_blank rel=noopener>@isabelizimm</a></p></li></ul></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#train-a-model>Train a model</a></li><li><a href=#create-a-vetiver-model>Create a vetiver model</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>