<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>Upgrading to testthat edition 3</title><meta property="og:title" content="Upgrading to testthat edition 3"><meta property="og:description" content="A workflow for upgrading to testthat edition 3: activation, deprecations,  changes to warnings, messages, and comparisons."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2022/02/upkeep-testthat-3/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="Upgrading to testthat edition 3 - Tidyverse"><meta property="description" content="A workflow for upgrading to testthat edition 3: activation, deprecations,  changes to warnings, messages, and comparisons."><meta property="og:description" content="A workflow for upgrading to testthat edition 3: activation, deprecations,  changes to warnings, messages, and comparisons."><meta property="og:image" content="https://www.tidyverse.org/blog/2022/02/upkeep-testthat-3/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2022/02/upkeep-testthat-3/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>Upgrading to testthat edition 3</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2022/02/upkeep-testthat-3/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/46juD4zY1XA>David Pisnoy</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2022/02/22</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/devtools/>devtools</a>,
<a href=/tags/testthat/>testthat</a>,
<a href=/tags/usethis/>usethis</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Hannah Frick</p><div class=article-content><p>As the collection of packages in the tidyverse grows, maintenance becomes increasingly important, and Hadley made this the topic of his
<a href=https://www.rstudio.com/resources/rstudioglobal-2021/maintaining-the-house-the-tidyverse-built/ target=_blank rel=noopener>keynote at rstudio::global 2021</a>.</p><p>In this blog post, I discuss my process for a recent maintenance task, upgrading package tests to use the third edition of testthat.</p><h2 id=testthat-3e>testthat 3e
<a href=#testthat-3e><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The testthat package introduced the idea of an &ldquo;edition&rdquo; in version 3.0.0:</p><blockquote><p>An edition is a bundle of behaviours that you have to explicitly choose to use, allowing us to make otherwise backward incompatible changes.</p></blockquote><p>If you haven&rsquo;t heard of testthat 3e yet, the
<a href=https://testthat.r-lib.org/articles/third-edition.html target=_blank rel=noopener>testthat article introducing the 3rd edition</a> is a great place to start. It outlines all the changes this edition brings.</p><p>While you can continue to use testthat&rsquo;s previous behaviour, it&rsquo;s a good idea to upgrade so that you can make use of handy new features. As some of the changes may break your tests, you might have been putting that off, though. You would not be alone in that! Several tidymodels packages still have to make the jump, but I recently upgraded
<a href=https://github.com/tidymodels/dials/ target=_blank rel=noopener>dials</a> and
<a href=https://github.com/tidymodels/censored/ target=_blank rel=noopener>censored</a> to testthat edition 3. Here is what I did and learned along the way.</p><h3 id=workflow-to-upgrade>Workflow to upgrade
<a href=#workflow-to-upgrade><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>The testthat article tells you how you can opt in to the new edition, and about major changes: deprecations, how messages and warnings are handled, and how comparisons of objects are made.</p><p>The main guidance for a workflow is:</p><ol><li>Activate edition 3.</li><li>Remove or replace deprecated functions.</li><li>If your output got noisy, quiet things down as needed.</li><li>Think about what it means if things are not &ldquo;all equal&rdquo; anymore.</li></ol><h3 id=activation->Activation 🚀
<a href=#activation-><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>To activate you need to do two things in the DESCRIPTION - or you can let <code>usethis::use_testthat(3)</code> do it for you:</p><ul><li>Increase the testthat version to <code>>= 3.0.0</code>.</li><li>Set the <code>Config/testthat/edition</code> field to <code>3</code>.</li></ul><h3 id=moving-on-from-deprecations->Moving on from deprecations ✨
<a href=#moving-on-from-deprecations-><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>The article on testthat 3e contains a
<a href=https://testthat.r-lib.org/articles/third-edition.html#deprecations target=_blank rel=noopener>list of deprecated functions</a> together with their successors. You can work your way through it, searching for the deprecated function and then replacing it with the most suitable alternative. The first one in that list is <code>context()</code> as testthat will use the file name instead, ensuring that context and file name are in sync. As such, <code>context()</code> does not have a replacement. My first
<a href=https://github.com/tidymodels/censored/pull/142 target=_blank rel=noopener>commit</a> after activating the third edition was to remove all calls to <code>context()</code>, followed by replacing other deprecated functions and arguments.</p><p><img src=commits.png alt="A list of commits starting with &ldquo;require testthat 3e, followed by removing context() and other deprecated functions&rdquo;"></p><h3 id=warnings-and-messages->Warnings and messages 🤫
<a href=#warnings-and-messages-><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>testthat edition 3 handles warnings and messages differently than edition 2: <code>expect_warning()</code> captures at most one warning, so if your code generates multiple warnings, they will bubble up now. Messages were previously silently ignored, now they also bubble up. That means the output may be a lot noisier after switching to edition 3. If the warnings or messages are important, you should explicitly capture them. Otherwise you can suppress them to clean up the output and make it easier to focus on what&rsquo;s important. Again, the testthat article has good examples for how to do either.</p><h3 id=comparing-things-->Comparing things 🍎 🍊
<a href=#comparing-things--><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>The last big change from edition 2 to edition 3 that I want to mention is what is happening under the hood of <code>expect_equal()</code> and <code>expect_identical()</code>. Edition 3 uses
<a href=https://waldo.r-lib.org/reference/compare.html target=_blank rel=noopener><code>waldo::compare()</code></a> while edition 2 uses
<a href=https://rdrr.io/r/base/all.equal.html target=_blank rel=noopener><code>all.equal()</code></a>. For the most part, that meant changing the argument name from <code>tol</code> to <code>tolerance</code>, like in my third commit above.</p><p>I did, however, run into a situation where a test newly failed. Those are the situations where general advice is hard because it depends so much on the context. In my case, I made use of the <code>ignore_function_env</code> and <code>ignore_formula_env</code> arguments to
<a href=https://waldo.r-lib.org/reference/compare.html target=_blank rel=noopener><code>waldo::compare()</code></a> to exclude those environments from the comparison. Those are probably useful to know about if you are upgrading a modelling package, but not particularly important otherwise. For dials and censored, that solved most of the cases. In one instance, I ended up tweaking the reference value based on theoretical considerations of the model I was dealing with rather than increasing the tolerance.</p><p>Those instances may be the most work when upgrading to edition 3, but I did not encounter many of them &ndash; and, when I did, it was valuable to know about the differences (well, those which I didn&rsquo;t choose to ignore).</p><h2 id=more-testing-made-easier>More testing made easier
<a href=#more-testing-made-easier><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>While I was going over all the test files, I also decided to cover a few other aspects.</p><h3 id=nested-expectations>Nested expectations
<a href=#nested-expectations><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>When
<a href=https://github.com/DavisVaughan target=_blank rel=noopener>Davis Vaughan</a> moved other tidymodels packages to testthat 3e, I saw him disentangle nested expectations. For example, patterns like</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>expect_warning</span><span class=p>(</span><span class=nf>expect_equal</span><span class=p>(</span><span class=n>one_call</span><span class=p>,</span> <span class=n>another_call</span><span class=p>))</span>
</code></pre></div><p>or</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>expect_equal</span><span class=p>(</span><span class=nf>expect_warning</span><span class=p>(</span><span class=n>one_call</span><span class=p>),</span> <span class=nf>expect_warning</span><span class=p>(</span><span class=n>another_call</span><span class=p>))</span>
</code></pre></div><p>can be re-written as</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>expect_snapshot</span><span class=p>({</span>
    <span class=n>object_from_one_call</span> <span class=o>&lt;-</span> <span class=nf>one_call</span><span class=p>()</span>
    <span class=n>object_from_another_call</span> <span class=o>&lt;-</span> <span class=nf>another_call</span><span class=p>()</span>
<span class=p>})</span>
<span class=nf>expect_equal</span><span class=p>(</span><span class=n>object_from_one_call</span><span class=p>,</span> <span class=n>object_from_another_call</span><span class=p>)</span>
</code></pre></div><p>This separates an expectation about the warnings from the expectation about the value, making it easier to see which part(s) fail. Snapshots can also be particularly helpful in situations where you are trying to test for a combination of warnings, messages, and/or errors because they cover them all.</p><h3 id=self-contained-tests>Self-contained tests
<a href=#self-contained-tests><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>I wanted to make the tests more self-contained so that a test could run with a single call to <code>test_that()</code>. Specifically, I didn&rsquo;t want to have to scroll back up to the top of the file to load any necessary package or find the code that creates helper objects.</p><p>You can avoid the former by prefixing functions with the package they belong to, i.e. using
<a href=https://dplyr.tidyverse.org/reference/mutate.html target=_blank rel=noopener><code>dplyr::mutate()</code></a> instead of
<a href=https://dplyr.tidyverse.org target=_blank rel=noopener><code>library(dplyr)</code></a> at the top of the file and later <code>mutate()</code> inside of the expression for <code>test_that()</code>.</p><p>If creating a helper object is short, I might move the code inside of <code>test_that()</code>. If you create the same helper objects multiple times and don&rsquo;t want to see the code repeatedly, you can move it into a helper function. Files inside the <code>testthat</code> folder of your source code with file names starting with <code>helper</code> are executed before tests are run. You could put your helper code there but it is
<a href=https://testthat.r-lib.org/reference/test_file.html#special-files target=_blank rel=noopener>recommended</a> to put the helper code in your <code>R/</code> folder, for example as
<a href=https://testthat.r-lib.org/articles/custom-expectation.html target=_blank rel=noopener><code>test-helpers.R</code></a>.</p><p>An example helper function is called <code>make_test_model()</code>, which returns a list with training and testing data as well as the fitted model. A test on the prediction method could then look like this:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>test_that</span><span class=p>(</span><span class=s>&#34;prediction returns the correct number of records&#34;</span><span class=p>,</span> <span class=p>{</span>
    <span class=n>helper_objects</span> <span class=o>&lt;-</span> <span class=nf>make_test_model</span><span class=p>()</span>
    <span class=n>pred</span> <span class=o>&lt;-</span> <span class=nf>predict</span><span class=p>(</span><span class=n>helper_objects</span><span class=o>$</span><span class=n>model</span><span class=p>,</span> <span class=n>helper_objects</span><span class=o>$</span><span class=n>test_data</span><span class=p>)</span>
    <span class=nf>expect_equal</span><span class=p>(</span><span class=nf>nrow</span><span class=p>(</span><span class=n>pred</span><span class=p>),</span> <span class=nf>nrow</span><span class=p>(</span><span class=n>helper_objects</span><span class=o>$</span><span class=n>test_data</span><span class=p>))</span>
<span class=p>})</span>
</code></pre></div><p>Any other data objects needed for testing I moved into <code>tests/testthat/data/</code>.</p><h3 id=corresponding-files-in-r-and-teststestthat>Corresponding files in <code>R/</code> and <code>tests/testthat/</code>
<a href=#corresponding-files-in-r-and-teststestthat><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>If a file in <code>R/</code> had a corresponding file in <code>testthat/</code>, I made sure the names matched up, e.g., <code>monstera.R</code> and <code>test-monstera.R</code>.</p><p>This gives you access to some convenient features of usethis and devtools:</p><ul><li>When you have the R file open, it&rsquo;s easy to open the corresponding test file with
<a href=https://usethis.r-lib.org/reference/use_r.html target=_blank rel=noopener><code>usethis::use_test()</code></a> - and vice versa with
<a href=https://usethis.r-lib.org/reference/use_r.html target=_blank rel=noopener><code>usethis::use_r()</code></a>. No clicking around needed!</li><li>When you have either file open, you can run the tests with
<a href=http://devtools.r-lib.org/reference/test.html target=_blank rel=noopener><code>devtools:::test_active_file()</code></a>, and see the test coverage report with <code>test_coverage_active_file()</code> (which also shows you which lines are actually being tested). Both also have an RStudio addin, which means you can add
<a href=https://rstudio.github.io/rstudioaddins/#keyboard-shorcuts target=_blank rel=noopener>keyboard shortcuts</a> for them!</li></ul><p>And, with that, dials and censored were ready for more snapshot tests in the future!</p><p>For more guidance on implementing tidy standards, check out
<a href=https://usethis.r-lib.org/reference/tidyverse.html target=_blank rel=noopener><code>usethis::use_tidy_upkeep_issue()</code></a>. It creates a GitHub issue with a handy checklist. You will be seeing those popping up in our repositories soon when we do some spring cleaning!</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#testthat-3e>testthat 3e</a></li><li><a href=#more-testing-made-easier>More testing made easier</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script src=/js/math-code.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>