<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>Q4 2022 tidymodels digest</title><meta property="og:title" content="Q4 2022 tidymodels digest"><meta property="og:description" content="The tidymodels team has been busy working on all sorts of new features across the ecosystem."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2022/12/tidymodels-2022-q4/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="Q4 2022 tidymodels digest - Tidyverse"><meta property="description" content="The tidymodels team has been busy working on all sorts of new features across the ecosystem."><meta property="og:description" content="The tidymodels team has been busy working on all sorts of new features across the ecosystem."><meta property="og:image" content="https://www.tidyverse.org/blog/2022/12/tidymodels-2022-q4/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2022/12/tidymodels-2022-q4/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>Q4 2022 tidymodels digest</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2022/12/tidymodels-2022-q4/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/WKWENifHmJw>Ilona Frey</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2022/12/29</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/recipes/>recipes</a>,
<a href=/tags/tidymodels/>tidymodels</a>,
<a href=/tags/rsample/>rsample</a>,
<a href=/tags/parsnip/>parsnip</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Simon Couch</p><div class=article-content><p>The
<a href=https://www.tidymodels.org/ target=_blank rel=noopener>tidymodels</a> framework is a collection of R packages for modeling and machine learning using tidyverse principles.</p><p>Since the beginning of 2021, we have been publishing
<a href=https://www.tidyverse.org/categories/roundup/ target=_blank rel=noopener>quarterly updates</a> here on the tidyverse blog summarizing what&rsquo;s new in the tidymodels ecosystem. The purpose of these regular posts is to share useful new features and any updates you may have missed. You can check out the
<a href=https://www.tidyverse.org/tags/tidymodels/ target=_blank rel=noopener><code>tidymodels</code> tag</a> to find all tidymodels blog posts here, including our roundup posts as well as those that are more focused, like these posts from the past couple months:</p><ul><li><a href=https://www.tidyverse.org/blog/2022/12/tidyclust-0-1-0/ target=_blank rel=noopener>tidyclust is on CRAN</a></li><li><a href=https://www.tidyverse.org/blog/2022/11/model-calibration/ target=_blank rel=noopener>Model calibration</a></li><li><a href=https://www.tidyverse.org/blog/2022/10/parsnip-checking-1-0-2/ target=_blank rel=noopener>Improvements to model specification checking in tidymodels</a></li></ul><p>Since
<a href=https://www.tidyverse.org/blog/2022/10/tidymodels-2022-q3/ target=_blank rel=noopener>our last roundup post</a>, there have been CRAN releases of 9 tidymodels packages. Here are links to their NEWS files:</p><div class=highlight><ul><li>bonsai
<a href=https://bonsai.tidymodels.org/news/index.html target=_blank rel=noopener>(0.2.1)</a></li><li>broom
<a href=https://broom.tidymodels.org/news/index.html target=_blank rel=noopener>(1.0.2)</a></li><li>butcher
<a href=https://butcher.tidymodels.org/news/index.html target=_blank rel=noopener>(0.3.1)</a></li><li>dials
<a href=https://dials.tidymodels.org/news/index.html target=_blank rel=noopener>(1.1.0)</a></li><li>parsnip
<a href=https://parsnip.tidymodels.org/news/index.html target=_blank rel=noopener>(1.0.3)</a></li><li>recipes
<a href=https://recipes.tidymodels.org/news/index.html target=_blank rel=noopener>(1.0.3)</a></li><li>rsample
<a href=https://rsample.tidymodels.org/news/index.html target=_blank rel=noopener>(1.1.1)</a></li><li>stacks
<a href=https://stacks.tidymodels.org/news/index.html target=_blank rel=noopener>(1.0.1)</a></li><li>workflows
<a href=https://workflows.tidymodels.org/news/index.html target=_blank rel=noopener>(1.1.2)</a></li></ul></div><p>We&rsquo;ll highlight a few especially notable changes below: more specialized role selectors in recipes, extended support for grouped resampling in rsample, and a big speedup in parsnip. First, loading the collection of packages:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://tidymodels.tidymodels.org>tidymodels</a></span><span class=o>)</span></span></code></pre></div><h2 id=specialized-role-selectors>Specialized role selectors
<a href=#specialized-role-selectors><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The
<a href=https://recipes.tidymodels.org/ target=_blank rel=noopener>recipes package for preprocessing</a> supports tidyselect-style variable selection, and includes some of its own selectors to support common modeling workflows.</p><p>To illustrate, we&rsquo;ll make use of a dataset <code>goofy_data</code> with a number of different variable types:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/utils/str.html>str</a></span><span class=o>(</span><span class=nv>goofy_data</span><span class=o>)</span></span>
<span><span class=c>#&gt; tibble [100 Ã— 10] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class=c>#&gt;  $ class: Factor w/ 2 levels "class_1","class_2": 1 1 2 1 2 1 1 2 2 2 ...</span></span>
<span><span class=c>#&gt;  $ a    : Factor w/ 7 levels "-3","-2","-1",..: 4 4 3 2 4 5 2 2 3 5 ...</span></span>
<span><span class=c>#&gt;  $ b    : Factor w/ 9 levels "-4","-3","-2",..: 9 5 4 3 4 7 4 2 3 6 ...</span></span>
<span><span class=c>#&gt;  $ c    : int [1:100] 0 0 0 0 0 0 0 -1 0 1 ...</span></span>
<span><span class=c>#&gt;  $ d    : int [1:100] 0 1 1 1 0 1 1 0 0 1 ...</span></span>
<span><span class=c>#&gt;  $ e    : int [1:100] 1 0 1 0 0 1 1 0 1 1 ...</span></span>
<span><span class=c>#&gt;  $ f    : num [1:100] 1.01 -1.99 2.18 2.3 -3.01 ...</span></span>
<span><span class=c>#&gt;  $ g    : num [1:100] -0.845 1.456 1.948 1.354 1.085 ...</span></span>
<span><span class=c>#&gt;  $ h    : num [1:100] -0.285 0.59 -0.938 1.447 0.424 ...</span></span>
<span><span class=c>#&gt;  $ i    : chr [1:100] "white" "maroon" "maroon" "maroon" ...</span></span>
<span></span></code></pre></div><p>Imagine a classification problem on the <code>goofy_data</code> where we&rsquo;d like to predict <code>class</code> using the remaining variables as predictors. The selector functions allow us to perform operations on only the predictors with a certain class. For instance, centering and scaling all numeric predictors:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf>recipe</span><span class=o>(</span><span class=nv>class</span> <span class=o>~</span> <span class=nv>.</span>, <span class=nv>goofy_data</span><span class=o>)</span> <span class=o>%&gt;%</span></span>
<span>  <span class=nf>step_normalize</span><span class=o>(</span><span class=nf>all_numeric_predictors</span><span class=o>(</span><span class=o>)</span><span class=o>)</span> <span class=o>%&gt;%</span></span>
<span>  <span class=nf>prep</span><span class=o>(</span><span class=o>)</span></span>
<span><span class=c>#&gt; Recipe</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Inputs:</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt;       role #variables</span></span>
<span><span class=c>#&gt;    outcome          1</span></span>
<span><span class=c>#&gt;  predictor          9</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Training data contained 100 data points and no missing data.</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Operations:</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Centering and scaling for c, d, e, f, g, h [trained]</span></span>
<span></span></code></pre></div><p>Or making dummy variables out of each of the nominal predictors:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf>recipe</span><span class=o>(</span><span class=nv>class</span> <span class=o>~</span> <span class=nv>.</span>, <span class=nv>goofy_data</span><span class=o>)</span> <span class=o>%&gt;%</span></span>
<span>  <span class=nf>step_dummy</span><span class=o>(</span><span class=nf>all_nominal_predictors</span><span class=o>(</span><span class=o>)</span><span class=o>)</span> <span class=o>%&gt;%</span></span>
<span>  <span class=nf>prep</span><span class=o>(</span><span class=o>)</span></span>
<span><span class=c>#&gt; Recipe</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Inputs:</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt;       role #variables</span></span>
<span><span class=c>#&gt;    outcome          1</span></span>
<span><span class=c>#&gt;  predictor          9</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Training data contained 100 data points and no missing data.</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Operations:</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Dummy variables from a, b, i [trained]</span></span>
<span></span></code></pre></div><p>Operations like those above have been long-standing functionality in recipes, and are powerful tools for effective modeling. The most recent release of recipes introduced
<a href=https://fosstodon.org/@emilhvitfeldt/109315135944110742 target=_blank rel=noopener>finer-grain selectors</a> for variable types. For instance, we may want to only center and scale the <em>double</em> (i.e.Â real-valued) predictors, excluding the integers. With the new release of recipes, we can easily do so:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf>recipe</span><span class=o>(</span><span class=nv>class</span> <span class=o>~</span> <span class=nv>.</span>, <span class=nv>goofy_data</span><span class=o>)</span> <span class=o>%&gt;%</span></span>
<span>  <span class=nf>step_normalize</span><span class=o>(</span><span class=nf>all_double_predictors</span><span class=o>(</span><span class=o>)</span><span class=o>)</span> <span class=o>%&gt;%</span></span>
<span>  <span class=nf>prep</span><span class=o>(</span><span class=o>)</span></span>
<span><span class=c>#&gt; Recipe</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Inputs:</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt;       role #variables</span></span>
<span><span class=c>#&gt;    outcome          1</span></span>
<span><span class=c>#&gt;  predictor          9</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Training data contained 100 data points and no missing data.</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Operations:</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Centering and scaling for f, g, h [trained]</span></span>
<span></span></code></pre></div><p>This is one of a number of new selectors:</p><ul><li><p>The <code>all_nominal()</code> selector now has finer-grained versions <code>all_string()</code>, <code>all_factor()</code>, <code>all_unordered()</code>, and <code>all_ordered()</code>.</p></li><li><p>The <code>all_numeric()</code> selector now has finer-grained versions <code>all_double()</code>, and <code>all_integer()</code>.</p></li><li><p>New <code>all_logical()</code>, <code>all_date()</code>, and <code>all_datetime()</code> selectors.</p></li></ul><p>All new selectors have <code>*_predictors()</code> variants. You can read more about recipes 1.0.3 in the
<a href=https://recipes.tidymodels.org/news/index.html#recipes-103 target=_blank rel=noopener>release notes</a>.</p><h2 id=grouped-resampling>Grouped resampling
<a href=#grouped-resampling><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The most recent release of rsample introduced support for stratification with grouped resampling. Consider the following toy data set on the number of melons in a household:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>melons</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 4,928 Ã— 3</span></span></span>
<span><span class=c>#&gt;    household n_melons chops</span></span>
<span><span class=c>#&gt;    <span style=color:#555;font-style:italic>&lt;fct&gt;</span>        <span style=color:#555;font-style:italic>&lt;int&gt;</span> <span style=color:#555;font-style:italic>&lt;chr&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span> 1              114 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span> 1              179 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span> 1              163 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span> 1               35 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span> 1               93 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span> 1               55 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span> 1              165 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span> 1               30 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span> 1              140 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span> 1                7 Yes  </span></span>
<span><span class=c>#&gt; <span style=color:#555># â€¦ with 4,918 more rows</span></span></span>
<span></span></code></pre></div><p>There are 100 different households in this dataset. Each member of the household has some number of melons <code>n_melons</code> in their fridge. A household, i.e., all its members, either <code>chops</code> their melons or keeps them whole.</p><p>Each of the resampling functions in rsample have a <code>group_*</code>ed analogue. From rsample&rsquo;s
<a href=https://rsample.tidymodels.org/articles/Common_Patterns.html#grouped-resampling target=_blank rel=noopener>&ldquo;Common Patterns&rdquo; article</a>:</p><blockquote><p>Often, some observations in your data will be &ldquo;more related&rdquo; to each other than would be probable under random chance, for instance because they represent repeated measurements of the same subject or were all collected at a single location. In these situations, you often want to assign all related observations to either the analysis or assessment fold as a group, to avoid having assessment data that's closely related to the data used to fit a model.</p></blockquote><p>For example, the grouped <code>initial_split()</code> variant will allot the training and testing set mutually exclusive levels of the <code>group</code> variable:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>resample</span> <span class=o>&lt;-</span> <span class=nf>group_initial_split</span><span class=o>(</span><span class=nv>melons</span>, group <span class=o>=</span> <span class=nv>household</span><span class=o>)</span></span>
<span></span>
<span><span class=nf><a href=https://rdrr.io/r/base/sum.html>sum</a></span><span class=o>(</span></span>
<span>  <span class=nf><a href=https://rdrr.io/r/base/unique.html>unique</a></span><span class=o>(</span><span class=nf>training</span><span class=o>(</span><span class=nv>resample</span><span class=o>)</span><span class=o>$</span><span class=nv>household</span><span class=o>)</span> <span class=o><a href=https://rdrr.io/r/base/match.html>%in%</a></span> </span>
<span>  <span class=nf><a href=https://rdrr.io/r/base/unique.html>unique</a></span><span class=o>(</span><span class=nf>testing</span><span class=o>(</span><span class=nv>resample</span><span class=o>)</span><span class=o>$</span><span class=nv>household</span><span class=o>)</span></span>
<span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] 0</span></span>
<span></span></code></pre></div><p>However, note that there are only a few households that don&rsquo;t chop their melons, and those households tend to have many more melons to chop!</p><div class=highlight><p><img src=figs/melon-plot-1.png alt="A ggplot histogram displaying the mean number of melons per household, filled by whether the household chops their melons or not. The plot shows that there are relatively few households that don't chop their melons, but those households have many more melons to chop. Households that chop their melons have around 80 to chop, while those that don't have around 200." width=700px style=display:block;margin:auto></p></div><p>If we&rsquo;re ultimately interested in modeling whether a household chops their melons, we ought to ensure that both values of <code>chops</code> are well-represented in both the training and testing set. The argument <code>strata = chops</code> indicates that sampling by <code>household</code> will occur within values of <code>chops</code>. Note that the strata must be constant in each group, so here, all members of a household need to either chop or not.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>resample_stratified</span> <span class=o>&lt;-</span> <span class=nf>group_initial_split</span><span class=o>(</span><span class=nv>melons</span>, group <span class=o>=</span> <span class=nv>household</span>, strata <span class=o>=</span> <span class=nv>chops</span><span class=o>)</span></span></code></pre></div><p>Note that this resampling scheme still resulted in different <code>household</code>s being allotted to training and testing:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/base/sum.html>sum</a></span><span class=o>(</span></span>
<span>  <span class=nf><a href=https://rdrr.io/r/base/unique.html>unique</a></span><span class=o>(</span><span class=nf>training</span><span class=o>(</span><span class=nv>resample_stratified</span><span class=o>)</span><span class=o>$</span><span class=nv>household</span><span class=o>)</span> <span class=o><a href=https://rdrr.io/r/base/match.html>%in%</a></span> </span>
<span>  <span class=nf><a href=https://rdrr.io/r/base/unique.html>unique</a></span><span class=o>(</span><span class=nf>testing</span><span class=o>(</span><span class=nv>resample_stratified</span><span class=o>)</span><span class=o>$</span><span class=nv>household</span><span class=o>)</span></span>
<span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] 0</span></span>
<span></span></code></pre></div><p>Also, though, it ensured that similar proportions of <code>chops</code> values are allotted to the training and testing set:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/base/diff.html>diff</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span></span>
<span>  <span class=nf><a href=https://rdrr.io/r/base/mean.html>mean</a></span><span class=o>(</span><span class=nf>training</span><span class=o>(</span><span class=nv>resample_stratified</span><span class=o>)</span><span class=o>$</span><span class=nv>chops</span> <span class=o>==</span> <span class=s>"Yes"</span><span class=o>)</span>,</span>
<span>  <span class=nf><a href=https://rdrr.io/r/base/mean.html>mean</a></span><span class=o>(</span><span class=nf>testing</span><span class=o>(</span><span class=nv>resample_stratified</span><span class=o>)</span><span class=o>$</span><span class=nv>chops</span> <span class=o>==</span> <span class=s>"Yes"</span><span class=o>)</span></span>
<span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] 0.01000042</span></span>
<span></span></code></pre></div><p>You can read more about rsample 1.1.1 in the
<a href=https://rsample.tidymodels.org/news/index.html#rsample-111 target=_blank rel=noopener>release notes</a>.</p><h2 id=performance-speedup>Performance speedup
<a href=#performance-speedup><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>We recently made a performance tweak, released as part of parsnip 1.0.3, that resulted in a substantial speedup in fit time. Fitting models via parsnip is a fundamental operation in the tidymodels, so the speedup can be observed across many modeling workflows.</p><p>The figure below demonstrates this speedup in
<a href=https://gist.github.com/simonpcouch/651d0ea4d968b455ded8194578dabf52 target=_blank rel=noopener>an experiment</a> involving fitting a simple linear regression model on resamples of simulated data. Simulated datasets with between one hundred and one million rows were partitioned into five, ten, or twenty folds and fitted with the new version of parsnip as well as the version preceding it. With smaller datasets, the speedup is negligible, but fit times decrease by a factor of three to five once training data reaches one million rows.</p><div class=highlight><p><img src=figs/speedup-1.png alt="A ggplot line plot displaying the relative speedup between parsnip 1.0.2 and 1.0.3. The number of rows in training data is on the x axis, ranging from one hundred to one million, and the factor of speedup (1.0.2 over 1.0.3) is on the y axis, ranging from 1 to 5. Three lines, colored by 'number of folds,' noting 5, 10, or 20 resamples, stretch from the bottom left to top right of the plot. This shows that, as training data gets larger, the magnitude of speedup with the new parsnip version gets larger and larger." width=100% style=display:block;margin:auto></p></div><p>You can read more about parsnip 1.0.3 in the
<a href=https://parsnip.tidymodels.org/news/index.html#parsnip-103 target=_blank rel=noopener>release notes</a>.</p><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>We&rsquo;d like to thank those in the community that contributed to tidymodels in the last quarter:</p><div class=highlight><ul><li>bonsai:
<a href=https://github.com/HenrikBengtsson target=_blank rel=noopener>@HenrikBengtsson</a>, and
<a href=https://github.com/simonpcouch target=_blank rel=noopener>@simonpcouch</a>.</li><li>broom:
<a href=https://github.com/amorris28 target=_blank rel=noopener>@amorris28</a>,
<a href=https://github.com/capnrefsmmat target=_blank rel=noopener>@capnrefsmmat</a>,
<a href=https://github.com/larmarange target=_blank rel=noopener>@larmarange</a>,
<a href=https://github.com/lukepilling target=_blank rel=noopener>@lukepilling</a>, and
<a href=https://github.com/simonpcouch target=_blank rel=noopener>@simonpcouch</a>.</li><li>butcher:
<a href=https://github.com/galen-ft target=_blank rel=noopener>@galen-ft</a>, and
<a href=https://github.com/juliasilge target=_blank rel=noopener>@juliasilge</a>.</li><li>dials:
<a href=https://github.com/EmilHvitfeldt target=_blank rel=noopener>@EmilHvitfeldt</a>,
<a href=https://github.com/hfrick target=_blank rel=noopener>@hfrick</a>, and
<a href=https://github.com/Tadge-Analytics target=_blank rel=noopener>@Tadge-Analytics</a>.</li><li>parsnip:
<a href=https://github.com/EmilHvitfeldt target=_blank rel=noopener>@EmilHvitfeldt</a>,
<a href=https://github.com/exsell-jc target=_blank rel=noopener>@exsell-jc</a>,
<a href=https://github.com/fkohrt target=_blank rel=noopener>@fkohrt</a>,
<a href=https://github.com/hfrick target=_blank rel=noopener>@hfrick</a>,
<a href=https://github.com/jonthegeek target=_blank rel=noopener>@jonthegeek</a>,
<a href=https://github.com/Marwolaeth target=_blank rel=noopener>@Marwolaeth</a>,
<a href=https://github.com/mattwarkentin target=_blank rel=noopener>@mattwarkentin</a>,
<a href=https://github.com/schoonees target=_blank rel=noopener>@schoonees</a>,
<a href=https://github.com/simonpcouch target=_blank rel=noopener>@simonpcouch</a>,
<a href=https://github.com/sweiner123 target=_blank rel=noopener>@sweiner123</a>, and
<a href=https://github.com/topepo target=_blank rel=noopener>@topepo</a>.</li><li>recipes:
<a href=https://github.com/andeek target=_blank rel=noopener>@andeek</a>,
<a href=https://github.com/DavisVaughan target=_blank rel=noopener>@DavisVaughan</a>,
<a href=https://github.com/EmilHvitfeldt target=_blank rel=noopener>@EmilHvitfeldt</a>,
<a href=https://github.com/hfrick target=_blank rel=noopener>@hfrick</a>,
<a href=https://github.com/joeycouse target=_blank rel=noopener>@joeycouse</a>,
<a href=https://github.com/mdancho84 target=_blank rel=noopener>@mdancho84</a>, and
<a href=https://github.com/mobius-eng target=_blank rel=noopener>@mobius-eng</a>.</li><li>rsample:
<a href=https://github.com/bschneidr target=_blank rel=noopener>@bschneidr</a>,
<a href=https://github.com/DavisVaughan target=_blank rel=noopener>@DavisVaughan</a>,
<a href=https://github.com/EmilHvitfeldt target=_blank rel=noopener>@EmilHvitfeldt</a>,
<a href=https://github.com/hfrick target=_blank rel=noopener>@hfrick</a>,
<a href=https://github.com/mikemahoney218 target=_blank rel=noopener>@mikemahoney218</a>,
<a href=https://github.com/pgg1309 target=_blank rel=noopener>@pgg1309</a>, and
<a href=https://github.com/topepo target=_blank rel=noopener>@topepo</a>.</li><li>stacks:
<a href=https://github.com/simonpcouch target=_blank rel=noopener>@simonpcouch</a>.</li><li>workflows:
<a href=https://github.com/EmilHvitfeldt target=_blank rel=noopener>@EmilHvitfeldt</a>,
<a href=https://github.com/hfrick target=_blank rel=noopener>@hfrick</a>,
<a href=https://github.com/simonpcouch target=_blank rel=noopener>@simonpcouch</a>,
<a href=https://github.com/talegari target=_blank rel=noopener>@talegari</a>, and
<a href=https://github.com/xiaochi-liu target=_blank rel=noopener>@xiaochi-liu</a>.</li></ul></div><p>We&rsquo;re grateful for all of the tidymodels community, from observers to users to contributors, and wish you all a happy new year!</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#specialized-role-selectors>Specialized role selectors</a></li><li><a href=#grouped-resampling>Grouped resampling</a></li><li><a href=#performance-speedup>Performance speedup</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script src=/js/math-code.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>