<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>forcats 1.0.0</title><meta property="og:title" content="forcats 1.0.0"><meta property="og:description" content="There are no major new features in this version of forcats, but the 1.0.0 label now clearly advertises that this a stable member of the tidyverse."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2023/01/forcats-1-0-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="forcats 1.0.0 - Tidyverse"><meta property="description" content="There are no major new features in this version of forcats, but the 1.0.0 label now clearly advertises that this a stable member of the tidyverse."><meta property="og:description" content="There are no major new features in this version of forcats, but the 1.0.0 label now clearly advertises that this a stable member of the tidyverse."><meta property="og:image" content="https://www.tidyverse.org/blog/2023/01/forcats-1-0-0/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2023/01/forcats-1-0-0/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>forcats 1.0.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2023/01/forcats-1-0-0/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/NWwv0ETyzxc>Diego Morales</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2023/01/30</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/forcats/>forcats</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Hadley Wickham</p><div class=article-content><p>We&rsquo;re so happy to announce the release of
<a href=https://forcats.tidyverse.org target=_blank rel=noopener>forcats</a> 1.0.0. The goal of the forcats package is to provide a suite of tools that solve common problems with factors, including changing the order of levels or the values.</p><p>You can install it from CRAN with:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/utils/install.packages.html>install.packages</a></span><span class=o>(</span><span class=s>"forcats"</span><span class=o>)</span></span></code></pre></div><p>While this is the 1.0.0 release of forcats, this version number is mainly to signal that we think forcats is stable, and that we don&rsquo;t anticipate any major changes in the future. This blog post will outline the only major new feature in this version: better tools for dealing with the two ways that missing values can be represented in factors. As usual, you can see a full list of changes in the
<a href=https://github.com/tidyverse/forcats/releases/tag/v1.0.0 target=_blank rel=noopener>release notes</a>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://forcats.tidyverse.org/>forcats</a></span><span class=o>)</span></span></code></pre></div><h2 id=na-in-levels-vs-na-in-values><code>NA</code> in levels vs <code>NA</code> in values
<a href=#na-in-levels-vs-na-in-values><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>There are two ways to represent a missing value in a factor:</p><ul><li><p>You can include it in the values of the factor; it does not appear in the levels and
<a href=https://rdrr.io/r/base/NA.html target=_blank rel=noopener><code>is.na()</code></a> reports it as missing. This is how missing values are encoded by default:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>f1</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/factor.html>factor</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"x"</span>, <span class=s>"y"</span>, <span class=kc>NA</span>, <span class=kc>NA</span>, <span class=s>"x"</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=nf><a href=https://rdrr.io/r/base/levels.html>levels</a></span><span class=o>(</span><span class=nv>f1</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] "x" "y"</span></span>
<span></span><span><span class=nf><a href=https://rdrr.io/r/base/NA.html>is.na</a></span><span class=o>(</span><span class=nv>f1</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] FALSE FALSE  TRUE  TRUE FALSE</span></span>
<span></span></code></pre></div></li><li><p>You can include it in the levels of the factor, thus
<a href=https://rdrr.io/r/base/NA.html target=_blank rel=noopener><code>is.na()</code></a> does not report it as missing. This requires a little more work to create, because, by default,
<a href=https://rdrr.io/r/base/factor.html target=_blank rel=noopener><code>factor()</code></a> uses <code>exclude = NA</code>, meaning that missing values are not included in the levels. You can force <code>NA</code> to be included by setting <code>exclude = NULL</code>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>f2</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/factor.html>factor</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"x"</span>, <span class=s>"y"</span>, <span class=kc>NA</span>, <span class=kc>NA</span>, <span class=s>"x"</span><span class=o>)</span>, exclude <span class=o>=</span> <span class=kc>NULL</span><span class=o>)</span></span>
<span><span class=nf><a href=https://rdrr.io/r/base/levels.html>levels</a></span><span class=o>(</span><span class=nv>f2</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] "x" "y" NA</span></span>
<span></span><span><span class=nf><a href=https://rdrr.io/r/base/NA.html>is.na</a></span><span class=o>(</span><span class=nv>f2</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] FALSE FALSE FALSE FALSE FALSE</span></span>
<span></span></code></pre></div></li></ul><p>You can see the difference a little more clearly by looking at the underlying integer values of the factor:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/base/integer.html>as.integer</a></span><span class=o>(</span><span class=nv>f1</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1]  1  2 NA NA  1</span></span>
<span></span><span><span class=nf><a href=https://rdrr.io/r/base/integer.html>as.integer</a></span><span class=o>(</span><span class=nv>f2</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] 1 2 3 3 1</span></span>
<span></span></code></pre></div><p>When the <code>NA</code> is stored in the levels, there&rsquo;s no missing value in the underlying integer values, because the value of level 3 is <code>NA</code>.</p><p><code>NA</code>s in the values tend to be best for data analysis, because
<a href=https://rdrr.io/r/base/NA.html target=_blank rel=noopener><code>is.na()</code></a> works as you&rsquo;d expect. <code>NA</code>s in the levels are useful if you need to control where missing values are shown in a table or a plot. To make it easier to switch between these forms, forcats now comes
<a href=https://forcats.tidyverse.org/reference/fct_na_value_to_level.html target=_blank rel=noopener><code>fct_na_value_to_level()</code></a> and
<a href=https://forcats.tidyverse.org/reference/fct_na_value_to_level.html target=_blank rel=noopener><code>fct_na_level_to_value()</code></a>.</p><p>Here&rsquo;s a practical example of why it matters. In the plot below, I&rsquo;ve attempted to use
<a href=https://forcats.tidyverse.org/reference/fct_inorder.html target=_blank rel=noopener><code>fct_infreq()</code></a> to reorder the levels of the factor so that the highest frequency levels are at the top of the bar chart:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://ggplot2.tidyverse.org>ggplot2</a></span><span class=o>)</span></span>
<span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://dplyr.tidyverse.org>dplyr</a></span>, warn.conflicts <span class=o>=</span> <span class=kc>FALSE</span><span class=o>)</span></span>
<span></span>
<span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>starwars</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span>y <span class=o>=</span> <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_rev.html>fct_rev</a></span><span class=o>(</span><span class=nf><a href=https://forcats.tidyverse.org/reference/fct_inorder.html>fct_infreq</a></span><span class=o>(</span><span class=nv>hair_color</span><span class=o>)</span><span class=o>)</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_bar.html>geom_bar</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>labs</a></span><span class=o>(</span>y <span class=o>=</span> <span class=s>"Hair color"</span><span class=o>)</span></span>
</code></pre><p><img src=figs/fct-infreq-hair-1.png alt="The bar chart of hair color, now ordered so that the least frequent colours come first and the most frequent colors come last. This makes it easy to see that the most common hair color is none (~35), followed by brown (~18), then black (~12). Surprisingly, NAs are at the top of the graph, even though there are ~5 NAs and other colors have smaller values." width=700px style=display:block;margin:auto></p></div><p>Unfortunately, however, because the <code>NA</code>s are stored in the values,
<a href=https://forcats.tidyverse.org/reference/fct_inorder.html target=_blank rel=noopener><code>fct_infreq()</code></a> has no ability to affect them, so they appear in their default position, after all the other values (it might not be obvious that that they&rsquo;re after the other values here, but remember in plots y values have their smallest values at the bottom and highest values at the top).</p><p>We can make
<a href=https://forcats.tidyverse.org/reference/fct_inorder.html target=_blank rel=noopener><code>fct_infreq()</code></a> do what we want by moving the <code>NA</code> from the values to the levels:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>starwars</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span>y <span class=o>=</span> <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_rev.html>fct_rev</a></span><span class=o>(</span><span class=nf><a href=https://forcats.tidyverse.org/reference/fct_inorder.html>fct_infreq</a></span><span class=o>(</span><span class=nf><a href=https://forcats.tidyverse.org/reference/fct_na_value_to_level.html>fct_na_value_to_level</a></span><span class=o>(</span><span class=nv>hair_color</span><span class=o>)</span><span class=o>)</span><span class=o>)</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_bar.html>geom_bar</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>labs</a></span><span class=o>(</span>y <span class=o>=</span> <span class=s>"Hair color"</span><span class=o>)</span></span>
</code></pre><p><img src=figs/unnamed-chunk-5-1.png alt="The bar chart of hair color, now ordered so that NAs are ordered where you'd expect: in between white (4) and black (12)." width=700px style=display:block;margin:auto></p></div><p>That code is getting a little verbose so lets pull it out into a separate dplyr step and pull the factor transformation in to its own mini pipeline:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>starwars</span> <span class=o>|&gt;</span> </span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span></span>
<span>    hair_color <span class=o>=</span> <span class=nv>hair_color</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_na_value_to_level.html>fct_na_value_to_level</a></span><span class=o>(</span><span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_inorder.html>fct_infreq</a></span><span class=o>(</span><span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_rev.html>fct_rev</a></span><span class=o>(</span><span class=o>)</span></span>
<span>  <span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span>y <span class=o>=</span> <span class=nv>hair_color</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_bar.html>geom_bar</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>labs</a></span><span class=o>(</span>y <span class=o>=</span> <span class=s>"Hair color"</span><span class=o>)</span></span>
</code></pre><p><img src=figs/unnamed-chunk-6-1.png width=700px style=display:block;margin:auto></p></div><p>This structure makes it easier to make other adjustments. For example, the code below uses a more informative label for the missing level and lumps together the colours with less than 2 observations. I&rsquo;ve left the (Other) category as a bar at the end, but if I wanted to I could cause it to sort in frequency order by flipping the order of
<a href=https://forcats.tidyverse.org/reference/fct_inorder.html target=_blank rel=noopener><code>fct_infreq()</code></a> and
<a href=https://forcats.tidyverse.org/reference/fct_lump.html target=_blank rel=noopener><code>fct_lump_min()</code></a> .</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>starwars</span> <span class=o>|&gt;</span> </span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span></span>
<span>    hair_color <span class=o>=</span> <span class=nv>hair_color</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_na_value_to_level.html>fct_na_value_to_level</a></span><span class=o>(</span><span class=s>"(Unknown)"</span><span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_inorder.html>fct_infreq</a></span><span class=o>(</span><span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_lump.html>fct_lump_min</a></span><span class=o>(</span><span class=m>2</span>, other_level <span class=o>=</span> <span class=s>"(Other)"</span><span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_rev.html>fct_rev</a></span><span class=o>(</span><span class=o>)</span> </span>
<span>  <span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span>y <span class=o>=</span> <span class=nv>hair_color</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_bar.html>geom_bar</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>labs</a></span><span class=o>(</span>y <span class=o>=</span> <span class=s>"Hair color"</span><span class=o>)</span></span>
</code></pre><p><img src=figs/unnamed-chunk-7-1.png alt="The bar chart of hair color, with NA hair colour now labelled as (Unknown) and the low frequency bars lumped into (Other)." width=700px style=display:block;margin:auto></p></div><p>Looking closely at what got lumped together made me realise that there&rsquo;s an existing &ldquo;Unknown&rdquo; level that should probably be represented as a missing value. One way to fix that is with
<a href=https://forcats.tidyverse.org/reference/fct_na_value_to_level.html target=_blank rel=noopener><code>fct_na_level_to_value()</code></a>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>starwars</span> <span class=o>|&gt;</span> </span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span></span>
<span>    hair_color <span class=o>=</span> <span class=nv>hair_color</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_na_value_to_level.html>fct_na_level_to_value</a></span><span class=o>(</span><span class=s>"Unknown"</span><span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_na_value_to_level.html>fct_na_value_to_level</a></span><span class=o>(</span><span class=s>"(Unknown)"</span><span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_inorder.html>fct_infreq</a></span><span class=o>(</span><span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_lump.html>fct_lump_min</a></span><span class=o>(</span><span class=m>2</span>, other_level <span class=o>=</span> <span class=s>"(Other)"</span><span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>      <span class=nf><a href=https://forcats.tidyverse.org/reference/fct_rev.html>fct_rev</a></span><span class=o>(</span><span class=o>)</span> </span>
<span>  <span class=o>)</span> <span class=o>|&gt;</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span>y <span class=o>=</span> <span class=nv>hair_color</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_bar.html>geom_bar</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span> </span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>labs</a></span><span class=o>(</span>y <span class=o>=</span> <span class=s>"Hair color"</span><span class=o>)</span></span>
</code></pre><p><img src=figs/unnamed-chunk-8-1.png alt='The bar chart of hair color, with "unknown" hair colour now lumped in with (Unknown) instead of other' width=700px style=display:block;margin:auto></p></div><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#na-in-levels-vs-na-in-values><code>NA</code> in levels vs <code>NA</code> in values</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>