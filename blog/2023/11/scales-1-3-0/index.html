<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>scales 1.3.0</title><meta property="og:title" content="scales 1.3.0"><meta property="og:description" content="scales 1.3.0 is a minor release focusing on streamlining the API and gradual improvements of the existing utilities"><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2023/11/scales-1-3-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="scales 1.3.0 - Tidyverse"><meta property="description" content="scales 1.3.0 is a minor release focusing on streamlining the API and gradual improvements of the existing utilities"><meta property="og:description" content="scales 1.3.0 is a minor release focusing on streamlining the API and gradual improvements of the existing utilities"><meta property="og:image" content="https://www.tidyverse.org/blog/2023/11/scales-1-3-0/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2023/11/scales-1-3-0/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>scales 1.3.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2023/11/scales-1-3-0/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/gold-and-silver-round-frame-magnifying-glass-j06gLuKK0GM>Elena Mozhvilo</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2023/11/27</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/scales/>scales</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Thomas Lin Pedersen</p><div class=article-content><p>We&rsquo;re delighted to announce the release of
<a href=https://scales.r-lib.org target=_blank rel=noopener>scales</a> 1.3.0. scales is a packages that extracts much of the scaling logic that is used in ggplot2 to a general framework, along with utility functions for e.g. formatting labels or creating color palettes.</p><p>You can install it from CRAN with:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf><a href=https://rdrr.io/r/utils/install.packages.html>install.packages</a></span><span class=o>(</span><span class=s>"scales"</span><span class=o>)</span>
</code></pre></div><p>This blog post will give a quick overview of the 1.3.0 release, which is mainly an upkeep release but does contain a few interesting tidbits.</p><p>You can see a full list of changes in the
<a href=https://scales.r-lib.org/news/index.html target=_blank rel=noopener>release notes</a></p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://scales.r-lib.org>scales</a></span><span class=o>)</span>
<span class=nf><a href=https://rdrr.io/r/base/Random.html>set.seed</a></span><span class=o>(</span><span class=m>1</span><span class=o>)</span>
</code></pre></div><h2 id=proper-support-for-difftime-objects>Proper support for difftime objects
<a href=#proper-support-for-difftime-objects><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>While scales had rudimentary support for objects from the hms package, I did not support the more common base R difftime objects. This is now rectified with the introduction of
<a href=https://scales.r-lib.org/reference/label_date.html target=_blank rel=noopener><code>label_timespan()</code></a>,
<a href=https://scales.r-lib.org/reference/breaks_timespan.html target=_blank rel=noopener><code>breaks_timespan()</code></a>, and
<a href=https://scales.r-lib.org/reference/transform_timespan.html target=_blank rel=noopener><code>transform_timespan()</code></a>. While the labels and breaks function can be used on their own, all the behavior is encapsulated in the timespan transform object which is kin to
<a href=https://scales.r-lib.org/reference/transform_timespan.html target=_blank rel=noopener><code>transform_hms()</code></a>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://ggplot2.tidyverse.org>ggplot2</a></span><span class=o>)</span>

<span class=nv>events</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/data.frame.html>data.frame</a></span><span class=o>(</span>
  time <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/difftime.html>as.difftime</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/stats/Uniform.html>runif</a></span><span class=o>(</span><span class=m>30</span>, max <span class=o>=</span> <span class=m>200</span><span class=o>)</span>, units <span class=o>=</span> <span class=s>"secs"</span><span class=o>)</span>,
  magnitude <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/stats/Normal.html>rnorm</a></span><span class=o>(</span><span class=m>30</span><span class=o>)</span> <span class=o>+</span> <span class=m>2</span>
<span class=o>)</span>

<span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>events</span><span class=o>)</span> <span class=o>+</span> 
  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_point.html>geom_point</a></span><span class=o>(</span>
    <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>time</span>, y <span class=o>=</span> <span class=m>0</span>, size <span class=o>=</span> <span class=nv>magnitude</span><span class=o>)</span>, 
    position <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/position_jitter.html>position_jitter</a></span><span class=o>(</span>width <span class=o>=</span> <span class=m>0</span><span class=o>)</span>
  <span class=o>)</span> <span class=o>+</span> 
  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/scale_continuous.html>scale_x_continuous</a></span><span class=o>(</span>trans <span class=o>=</span> <span class=nf><a href=https://scales.r-lib.org/reference/transform_timespan.html>transform_timespan</a></span><span class=o>(</span><span class=o>)</span><span class=o>)</span>

</code></pre><p><img src=figs/unnamed-chunk-2-1.png width=700px style=display:block;margin:auto></p></div><p>As we can see the timespan transform automatically picks the unit of the difftime object. Further it identifies that for this range, adding breaks for minutes makes most sense.</p><p>If we had recorded time as hours rather than seconds, we can see how that affects the labelling:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nv>events</span><span class=o>$</span><span class=nv>time</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/difftime.html>as.difftime</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/stats/Uniform.html>runif</a></span><span class=o>(</span><span class=m>30</span>, max <span class=o>=</span> <span class=m>200</span><span class=o>)</span>, units <span class=o>=</span> <span class=s>"hours"</span><span class=o>)</span>
<span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>events</span><span class=o>)</span> <span class=o>+</span> 
  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_point.html>geom_point</a></span><span class=o>(</span>
    <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>time</span>, y <span class=o>=</span> <span class=m>0</span>, size <span class=o>=</span> <span class=nv>magnitude</span><span class=o>)</span>, 
    position <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/position_jitter.html>position_jitter</a></span><span class=o>(</span>width <span class=o>=</span> <span class=m>0</span><span class=o>)</span>
  <span class=o>)</span> <span class=o>+</span> 
  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/scale_continuous.html>scale_x_continuous</a></span><span class=o>(</span>trans <span class=o>=</span> <span class=nf><a href=https://scales.r-lib.org/reference/transform_timespan.html>transform_timespan</a></span><span class=o>(</span><span class=o>)</span><span class=o>)</span>

</code></pre><p><img src=figs/unnamed-chunk-3-1.png width=700px style=display:block;margin:auto></p></div><h2 id=api-brush-up>API brush-up
<a href=#api-brush-up><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>scales has gone through a number of touch-ups on its API, such as revamping the labels functions to all start with <code>label_</code>. This release we continue (and hopefully conclude) the touch-ups by using a common prefix for the transformation utilities (<code>transform_</code>) and palettes (<code>pal_</code>). We have also rename
<a href=https://scales.r-lib.org/reference/dollar_format.html target=_blank rel=noopener><code>label_dollar()</code></a> to
<a href=https://scales.r-lib.org/reference/label_currency.html target=_blank rel=noopener><code>label_currency()</code></a> to make it clear that this can be used for any type of currency, not just dollars (US or otherwise). All the old functions have been kept around with no plan of deprecation but we advise you to update your code to use the new names.</p><h2 id=more-transformation-power>More transformation power
<a href=#more-transformation-power><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>This release also includes some other updates to the transformations. They have received a fair amount of bug fixes and a new built-in transformation type has joined the group:
<a href=https://scales.r-lib.org/reference/transform_asinh.html target=_blank rel=noopener><code>transform_asinh()</code></a>, the inverse hyperbolic sine transformation, can be used much like log transformations, but it also supports negative values.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf><a href=https://rdrr.io/r/graphics/plot.default.html>plot</a></span><span class=o>(</span><span class=nf><a href=https://scales.r-lib.org/reference/transform_asinh.html>transform_asinh</a></span><span class=o>(</span><span class=o>)</span>, xlim <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=o>-</span><span class=m>100</span>, <span class=m>100</span><span class=o>)</span><span class=o>)</span>
<span class=nf><a href=https://rdrr.io/r/graphics/lines.html>lines</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/base/seq.html>seq</a></span><span class=o>(</span><span class=o>-</span><span class=m>100</span>, <span class=m>100</span><span class=o>)</span>, <span class=nf><a href=https://scales.r-lib.org/reference/transform_log.html>transform_log</a></span><span class=o>(</span><span class=o>)</span><span class=o>$</span><span class=nf>transform</span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/base/seq.html>seq</a></span><span class=o>(</span><span class=o>-</span><span class=m>100</span>, <span class=m>100</span><span class=o>)</span><span class=o>)</span>, col <span class=o>=</span> <span class=s>"red"</span><span class=o>)</span>
<span class=nf><a href=https://rdrr.io/r/graphics/text.html>text</a></span><span class=o>(</span><span class=m>50</span>, <span class=m>3</span>, label <span class=o>=</span> <span class=s>"log-transform"</span>, col <span class=o>=</span> <span class=s>"red"</span>, adj <span class=o>=</span> <span class=m>0</span><span class=o>)</span>

</code></pre><p><img src=figs/unnamed-chunk-4-1.png width=700px style=display:block;margin:auto></p></div><p>Transformation objects can now also (optionally) record the derivatives and inverse derivative which makes it possible to properly correct density estimations of transformed values.</p><h2 id=fixes-to-range-training-in-discrete-scales>Fixes to range training in discrete scales
<a href=#fixes-to-range-training-in-discrete-scales><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The training of discrete ranges has seen a few changes that hopefully makes it more predictable what happens when you train a range based on factors or character vectors. When training based on factors the ordering of the range will follow the order of the levels in the factor as they are encountered. New values will be appended to the end of the range. For character vectors the range will always stay sorted alphanumerically. Mixing of character and factors during training will lead to undefined ordering. This has always been the advertised behavior but it was not applied consistently up until now. As a result you may see the occational reordering of e.g. legends in ggplot2 after upgrading scales.</p><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><a href=https://github.com/AndreeWarby target=_blank rel=noopener>@AndreeWarby</a>,
<a href=https://github.com/ari-nz target=_blank rel=noopener>@ari-nz</a>,
<a href=https://github.com/BioinformaNicks target=_blank rel=noopener>@BioinformaNicks</a>,
<a href=https://github.com/bwiernik target=_blank rel=noopener>@bwiernik</a>,
<a href=https://github.com/ccsarapas target=_blank rel=noopener>@ccsarapas</a>,
<a href=https://github.com/CMKnott target=_blank rel=noopener>@CMKnott</a>,
<a href=https://github.com/DanChaltiel target=_blank rel=noopener>@DanChaltiel</a>,
<a href=https://github.com/davidhodge931 target=_blank rel=noopener>@davidhodge931</a>,
<a href=https://github.com/DavisVaughan target=_blank rel=noopener>@DavisVaughan</a>,
<a href=https://github.com/dmurdoch target=_blank rel=noopener>@dmurdoch</a>,
<a href=https://github.com/EricMarcon target=_blank rel=noopener>@EricMarcon</a>,
<a href=https://github.com/Generalized target=_blank rel=noopener>@Generalized</a>,
<a href=https://github.com/hadley target=_blank rel=noopener>@hadley</a>,
<a href=https://github.com/JJHelly target=_blank rel=noopener>@JJHelly</a>,
<a href=https://github.com/joshuaylevy target=_blank rel=noopener>@joshuaylevy</a>,
<a href=https://github.com/jzadra target=_blank rel=noopener>@jzadra</a>,
<a href=https://github.com/kuriwaki target=_blank rel=noopener>@kuriwaki</a>,
<a href=https://github.com/larmarange target=_blank rel=noopener>@larmarange</a>,
<a href=https://github.com/laurejo1 target=_blank rel=noopener>@laurejo1</a>,
<a href=https://github.com/lz1nwm target=_blank rel=noopener>@lz1nwm</a>,
<a href=https://github.com/MikkoVihtakari target=_blank rel=noopener>@MikkoVihtakari</a>,
<a href=https://github.com/mjskay target=_blank rel=noopener>@mjskay</a>,
<a href=https://github.com/pearsonca target=_blank rel=noopener>@pearsonca</a>,
<a href=https://github.com/Saadi4469 target=_blank rel=noopener>@Saadi4469</a>,
<a href=https://github.com/teunbrand target=_blank rel=noopener>@teunbrand</a>,
<a href=https://github.com/thomasp85 target=_blank rel=noopener>@thomasp85</a>, and
<a href=https://github.com/zeehio target=_blank rel=noopener>@zeehio</a>.</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#proper-support-for-difftime-objects>Proper support for difftime objects</a></li><li><a href=#api-brush-up>API brush-up</a></li><li><a href=#more-transformation-power>More transformation power</a></li><li><a href=#fixes-to-range-training-in-discrete-scales>Fixes to range training in discrete scales</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script src=/js/math-code.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>