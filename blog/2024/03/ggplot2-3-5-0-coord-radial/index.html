<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>ggplot2 3.5.0: Introducing: coord_radial()</title><meta property="og:title" content="ggplot2 3.5.0: Introducing: coord_radial()"><meta property="og:description" content="Introducing a new polar coordinate system that supersedes the old  `coord_polar()`. Read on about the new `coord_radial()`."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2024/03/ggplot2-3-5-0-coord-radial/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="ggplot2 3.5.0: Introducing: coord_radial() - Tidyverse"><meta property="description" content="Introducing a new polar coordinate system that supersedes the old  `coord_polar()`. Read on about the new `coord_radial()`."><meta property="og:description" content="Introducing a new polar coordinate system that supersedes the old  `coord_polar()`. Read on about the new `coord_radial()`."><meta property="og:image" content="https://www.tidyverse.org/blog/2024/03/ggplot2-3-5-0-coord-radial/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2024/03/ggplot2-3-5-0-coord-radial/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>ggplot2 3.5.0: Introducing: coord_radial()</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2024/03/ggplot2-3-5-0-coord-radial/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/ferris-wheel-beside-body-of-water-under-blue-sky-during-daytime-IWOo59NUXBk>Ismail Merad</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2024/03/01</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/ggplot2/>ggplot2</a>,
<a href=/tags/ggplot2-3-5-0/>ggplot2-3-5-0</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Teun van den Brand</p><div class=article-content><p>We are happy to announce the release of
<a href=https://ggplot2.tidyverse.org target=_blank rel=noopener>ggplot2</a> 3.5.0. This is one blogpost among several outlining a new polar coordinate system. Please find the
<a href=/blog/2024/02/ggplot2-3-5-0/>main release post</a> to read about other exciting changes.</p><p>Polar coordinates are a good reminder of the flexibility of the Grammar of Graphics: pie charts are just bar charts with polar coordinates. While the tried and tested
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_polar()</code></a> has served well in the past to fulfill your pie chart needs, we felt it was due some modernisation. We realised we could not adapt
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_polar()</code></a> to fit with the
<a href=/blog/2024/02/ggplot2-3-5-0/#guide-rewrite>new guide system</a> without severely breaking existing plots, so
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a> was born to give a facelift to the polar coordinate system in ggplot2.</p><p>Relative to
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_polar()</code></a>,
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a> can:</p><ol><li>Draw circle sectors instead of only full circles.</li><li>Avoid data vanishing in the centre of the plot.</li><li>Adjust text angles on the fly.</li><li>Use the new guide system.</li></ol><h2 id=an-updated-look>An updated look
<a href=#an-updated-look><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The first noticeable contrast with
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_polar()</code></a> is that
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a> is not particularly suited to building pie charts. Instead, it uses the scale expansion conventions like
<a href=https://ggplot2.tidyverse.org/reference/coord_cartesian.html target=_blank rel=noopener><code>coord_cartesian()</code></a>. This makes sense for most chart types, but not pie charts. Nonetheless, you can use the <code>expand = FALSE</code> setting to use
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a> for pie charts.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://ggplot2.tidyverse.org>ggplot2</a></span><span class=o>)</span></span>
<span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://patchwork.data-imaginist.com>patchwork</a></span><span class=o>)</span></span>
<span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://scales.r-lib.org>scales</a></span><span class=o>)</span></span>
<span></span>
<span><span class=nv>pie</span> <span class=o>&lt;-</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>mtcars</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span>y <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/factor.html>factor</a></span><span class=o>(</span><span class=m>1</span><span class=o>)</span>, fill <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/factor.html>factor</a></span><span class=o>(</span><span class=nv>cyl</span><span class=o>)</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_bar.html>geom_bar</a></span><span class=o>(</span>width <span class=o>=</span> <span class=m>1</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/scale_discrete.html>scale_y_discrete</a></span><span class=o>(</span>guide <span class=o>=</span> <span class=s>"none"</span>, name <span class=o>=</span> <span class=kc>NULL</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guides.html>guides</a></span><span class=o>(</span>fill <span class=o>=</span> <span class=s>"none"</span><span class=o>)</span></span>
<span><span class=nv>default</span>   <span class=o>&lt;-</span> <span class=nv>pie</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_radial</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>ggtitle</a></span><span class=o>(</span><span class=s>"default"</span><span class=o>)</span></span>
<span><span class=nv>no_expand</span> <span class=o>&lt;-</span> <span class=nv>pie</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_radial</a></span><span class=o>(</span>expand <span class=o>=</span> <span class=kc>FALSE</span><span class=o>)</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>ggtitle</a></span><span class=o>(</span><span class=s>"expand = FALSE"</span><span class=o>)</span></span>
<span><span class=nv>polar</span>     <span class=o>&lt;-</span> <span class=nv>pie</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_polar</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>ggtitle</a></span><span class=o>(</span><span class=s>"coord_polar()"</span><span class=o>)</span></span>
<span></span>
<span><span class=nv>default</span> <span class=o>|</span> <span class=nv>no_expand</span> <span class=o>|</span> <span class=nv>polar</span></span>
</code></pre><p><img src=figs/compare_polar-1.png alt="Three pie charts showing the proportion of each cylinder number. The first has a gap in the middle and at the top with a grey circle in the background and is titled 'default'. The second is titled 'expand = FALSE' and shows a full pie chart with tick marks labelling the angle positions. The last plot is a full pie chart with a gray rectangular background without tick marks and a white line around the pie." width=700px style=display:block;margin:auto></p></div><p>Some visual differences stand out in the plots above. In
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a>, the panel background covers the data area of the plot, not a rectangle. It also does not have a grid-line encircling the plot and instead uses tick marks to indicate values along the theta (angle) coordinate. You may also notice that
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_polar()</code></a> still draws the radius axis, despite instructions to use <code>guide = "none"</code>. That is the integration with the guide system that birthed
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a>.</p><h2 id=partial-polar-plots>Partial polar plots
<a href=#partial-polar-plots><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Another important difference is that
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a> does not necessarily need to display a full circle. By setting the <code>start</code> and <code>end</code> arguments separately, you can now make a partial polar plot. This makes it much easier to make semi- or quarter-circle plots.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>p</span> <span class=o>&lt;-</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>mpg</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>displ</span>, <span class=nv>hwy</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_point.html>geom_point</a></span><span class=o>(</span><span class=o>)</span></span>
<span></span>
<span><span class=nv>half</span> <span class=o>&lt;-</span> <span class=nv>p</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_radial</a></span><span class=o>(</span>start <span class=o>=</span> <span class=o>-</span><span class=m>0.5</span> <span class=o>*</span> <span class=nv>pi</span>, end <span class=o>=</span> <span class=m>0.5</span> <span class=o>*</span> <span class=nv>pi</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>ggtitle</a></span><span class=o>(</span><span class=s>"−0.5π to +0.5π"</span><span class=o>)</span></span>
<span><span class=nv>quarter</span> <span class=o>&lt;-</span> <span class=nv>p</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_radial</a></span><span class=o>(</span>start <span class=o>=</span> <span class=m>0</span>, end <span class=o>=</span> <span class=m>0.5</span> <span class=o>*</span> <span class=nv>pi</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/labs.html>ggtitle</a></span><span class=o>(</span><span class=s>"0 to +0.5π"</span><span class=o>)</span></span>
<span><span class=nv>half</span> <span class=o>|</span> <span class=nv>quarter</span></span>
</code></pre><p><img src=figs/partial_polar-1.png alt="Two polar scatterplots of the 'mpg' dataset. The left plot is shaped like as a semicircle and the right plot as a quarter circle." width=700px style=display:block;margin:auto></p></div><h2 id=donuts>Donuts
<a href=#donuts><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>It was already possible to turn a pie-chart into a donut-chart with
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_polar()</code></a>. This is made even easier in
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a> by setting the <code>inner.radius</code> argument to make a donut hole. For most plots, this avoids crowding data points in the center of the plot: points with a widely different <code>theta</code> coordinate but similarly small <code>r</code> coordinate are placed further apart.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>p</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_radial</a></span><span class=o>(</span>inner.radius <span class=o>=</span> <span class=m>0.3</span>, r_axis_inside <span class=o>=</span> <span class=kc>TRUE</span><span class=o>)</span></span>
</code></pre><p><img src=figs/open_radial_plot-1.png alt="A donut-shaped scatterplot of the 'mpg' dataset." width=700px style=display:block;margin:auto></p></div><h2 id=text-annotations>Text annotations
<a href=#text-annotations><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>A common grievance with about polar coordinates is that it was cumbersome to rotate text annotations along with the <code>theta</code> coordinate. Calculating the correct angles for labels is pretty involved and usually changes from plot to plot depending on how many items need to be displayed. To remove some of this hassle
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a> has a <code>rotate_angle</code> switch, that will line up the text&rsquo;s <code>angle</code> aesthetic with the theta coordinate. For text angles of 0 degrees, this will place text in a tangent orientation to the circle and for angles of 90 degrees, this places text along the radius, as in the plot below.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>mtcars</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/base/seq.html>seq_along</a></span><span class=o>(</span><span class=nv>mpg</span><span class=o>)</span>, <span class=nv>mpg</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_bar.html>geom_col</a></span><span class=o>(</span>width <span class=o>=</span> <span class=m>1</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_text.html>geom_text</a></span><span class=o>(</span></span>
<span>    <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span>y <span class=o>=</span> <span class=m>32</span>, label <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/colnames.html>rownames</a></span><span class=o>(</span><span class=nv>mtcars</span><span class=o>)</span><span class=o>)</span>,</span>
<span>    angle <span class=o>=</span> <span class=m>90</span>, hjust <span class=o>=</span> <span class=m>1</span></span>
<span>  <span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_radial</a></span><span class=o>(</span>rotate_angle <span class=o>=</span> <span class=kc>TRUE</span>, expand <span class=o>=</span> <span class=kc>FALSE</span><span class=o>)</span></span>
</code></pre><p><img src=figs/text_angles-1.png alt="A wind rose plot showing miles per gallon for different cars. The car names skirt the outer edge of the plot and are oriented towards the centre." width=700px style=display:block;margin:auto></p></div><h2 id=axes>Axes
<a href=#axes><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Because the logic of drawing axes for polar coordinates is not the same as when axes are perfectly vertical or horizontal, we used the new guide system to build an axis specific to
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a>: the
<a href=https://ggplot2.tidyverse.org/reference/guide_axis_theta.html target=_blank rel=noopener><code>guide_axis_theta()</code></a> axis. Guides for
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a> can be set using <code>theta</code> and <code>r</code> name in the
<a href=https://ggplot2.tidyverse.org/reference/guides.html target=_blank rel=noopener><code>guides()</code></a> function. While the <code>r</code> axis can be the regular
<a href=https://ggplot2.tidyverse.org/reference/guide_axis.html target=_blank rel=noopener><code>guide_axis()</code></a>, the <code>theta</code> axis uses the highly specialised
<a href=https://ggplot2.tidyverse.org/reference/guide_axis_theta.html target=_blank rel=noopener><code>guide_axis_theta()</code></a>. The theta axis shares many features with typical axes, like setting the text angle or the new <code>minor.ticks</code> and <code>cap</code> settings. More on these settings in the
<a href=/blog/2024/02/ggplot2-3-5-0-axes/>axis blog</a>. As seen in previous plots, the default is to place text horizontally. One neat trick we&rsquo;ve put into
<a href=https://ggplot2.tidyverse.org/reference/coord_polar.html target=_blank rel=noopener><code>coord_radial()</code></a> is that we can set a <em>relative</em> text angle in the guides, such as in the plot below.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>mpg</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>class</span>, <span class=nv>displ</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_boxplot.html>geom_boxplot</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_radial</a></span><span class=o>(</span>start <span class=o>=</span> <span class=m>0.25</span> <span class=o>*</span> <span class=nv>pi</span>, end <span class=o>=</span> <span class=m>1.75</span> <span class=o>*</span> <span class=nv>pi</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guides.html>guides</a></span><span class=o>(</span></span>
<span>    theta <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guide_axis_theta.html>guide_axis_theta</a></span><span class=o>(</span>angle <span class=o>=</span> <span class=m>0</span><span class=o>)</span>,</span>
<span>    r     <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guide_axis.html>guide_axis</a></span><span class=o>(</span>angle <span class=o>=</span> <span class=m>0</span><span class=o>)</span></span>
<span>  <span class=o>)</span></span>
</code></pre><p><img src=figs/axis_angles-1.png alt="Boxplot of the 'mpg' dataset displayed in partial polar coordinates. The theta labels are placed tangential to the circle. The radius labels line up with the tick mark direction." width=700px style=display:block;margin:auto></p></div><p>The theme elements to style these axes have the <code>theta</code> or <code>r</code> position indication, so to change the the axis line, you use the <code>axis.line.theta</code> and <code>axis.line.r</code> arguments. The theme settings can also be used to set the <em>absolute</em> angle of text.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>mpg</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>class</span>, <span class=nv>displ</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_boxplot.html>geom_boxplot</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_radial</a></span><span class=o>(</span>start <span class=o>=</span> <span class=m>0.25</span> <span class=o>*</span> <span class=nv>pi</span>, end <span class=o>=</span> <span class=m>1.75</span> <span class=o>*</span> <span class=nv>pi</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/theme.html>theme</a></span><span class=o>(</span></span>
<span>    axis.line.theta <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/element.html>element_line</a></span><span class=o>(</span>colour <span class=o>=</span> <span class=s>"red"</span><span class=o>)</span>,</span>
<span>    axis.text.theta <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/element.html>element_text</a></span><span class=o>(</span>angle <span class=o>=</span> <span class=m>90</span><span class=o>)</span>,</span>
<span>    axis.text.r     <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/element.html>element_text</a></span><span class=o>(</span>colour <span class=o>=</span> <span class=s>"blue"</span><span class=o>)</span></span>
<span>  <span class=o>)</span></span>
</code></pre><p><img src=figs/axis_styling-1.png alt="Boxplot of the 'mpg' dataset displayed in partial polar coordinates. The theta labels are placed vertically and a red line traces the outer circle. The radius labels are displayed in blue." width=700px style=display:block;margin:auto></p></div><p>Lastly, there can also be secondary axes. We anticipate that this is practically never needed, as grid lines follow the primary axes and without them, it is very hard to read from axes in polar coordinates. However, if there is some reason for using secondary axes on polar coordinates, you can use the <code>theta.sec</code> and <code>r.sec</code> names in the
<a href=https://ggplot2.tidyverse.org/reference/guides.html target=_blank rel=noopener><code>guides()</code></a> function to control the guides. Please note that a secondary theta axis is entirely useless when <code>inner.radius = 0</code> (the default). There are no separate theme options for secondary r/theta axes, but to style them separately from the primary axes, you can use the <code>theme</code> argument in the guide instead.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>pressure</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>temperature</span>, <span class=nv>pressure</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_path.html>geom_line</a></span><span class=o>(</span>colour <span class=o>=</span> <span class=s>"blue"</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/scale_continuous.html>scale_x_continuous</a></span><span class=o>(</span></span>
<span>    labels <span class=o>=</span> <span class=nf><a href=https://scales.r-lib.org/reference/label_number.html>label_number</a></span><span class=o>(</span>suffix <span class=o>=</span> <span class=s>"°C"</span><span class=o>)</span>,</span>
<span>    sec.axis <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/sec_axis.html>sec_axis</a></span><span class=o>(</span><span class=o>~</span> <span class=nv>.x</span> <span class=o>*</span> <span class=m>9</span><span class=o>/</span><span class=m>5</span> <span class=o>+</span> <span class=m>35</span>, labels <span class=o>=</span> <span class=nf><a href=https://scales.r-lib.org/reference/label_number.html>label_number</a></span><span class=o>(</span>suffix <span class=o>=</span> <span class=s>"°F"</span><span class=o>)</span><span class=o>)</span></span>
<span>  <span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/scale_continuous.html>scale_y_continuous</a></span><span class=o>(</span></span>
<span>    labels <span class=o>=</span> <span class=nf><a href=https://scales.r-lib.org/reference/label_number.html>label_number</a></span><span class=o>(</span>suffix <span class=o>=</span> <span class=s>" mmHg"</span><span class=o>)</span>,</span>
<span>    sec.axis <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/sec_axis.html>sec_axis</a></span><span class=o>(</span><span class=o>~</span> <span class=nv>.x</span> <span class=o>*</span> <span class=m>0.133322</span>, labels <span class=o>=</span> <span class=nf><a href=https://scales.r-lib.org/reference/label_number.html>label_number</a></span><span class=o>(</span>suffix <span class=o>=</span> <span class=s>" kPa"</span><span class=o>)</span><span class=o>)</span></span>
<span>  <span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guides.html>guides</a></span><span class=o>(</span></span>
<span>    theta.sec <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guide_axis_theta.html>guide_axis_theta</a></span><span class=o>(</span>theme <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/theme.html>theme</a></span><span class=o>(</span>axis.line.theta <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/element.html>element_line</a></span><span class=o>(</span><span class=o>)</span><span class=o>)</span><span class=o>)</span>,</span>
<span>    r.sec <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guide_axis.html>guide_axis</a></span><span class=o>(</span>theme <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/theme.html>theme</a></span><span class=o>(</span>axis.text.r <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/element.html>element_text</a></span><span class=o>(</span>colour <span class=o>=</span> <span class=s>"red"</span><span class=o>)</span><span class=o>)</span><span class=o>)</span></span>
<span>  <span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_polar.html>coord_radial</a></span><span class=o>(</span></span>
<span>    start <span class=o>=</span> <span class=m>0.25</span> <span class=o>*</span> <span class=nv>pi</span>, end <span class=o>=</span> <span class=m>1.75</span> <span class=o>*</span> <span class=nv>pi</span>,</span>
<span>    inner.radius <span class=o>=</span> <span class=m>0.3</span></span>
<span>  <span class=o>)</span></span>
</code></pre><p><img src=figs/secondary_axes-1.png alt="A lineplot of the 'pressure' dataset in partial polar coordinates that is shaped like a donut with a bite taken out on top. The primary, outer theta axis displays temperature in degrees Celcius. The secondary, inner theta axis displays temperature in degrees Fahrenheit and has an axis line. The primary radius axis on the right displays pressure in millimetres of mercury. The secondary radius axis on the left displays pressure in kilo-Pascals in red text." width=700px style=display:block;margin:auto></p></div></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#an-updated-look>An updated look</a></li><li><a href=#partial-polar-plots>Partial polar plots</a></li><li><a href=#donuts>Donuts</a></li><li><a href=#text-annotations>Text annotations</a></li><li><a href=#axes>Axes</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>