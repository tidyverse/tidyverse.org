<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>ggplot2 3.5.0: Axes</title><meta property="og:title" content="ggplot2 3.5.0: Axes"><meta property="og:description" content="The 3.5.0 version of ggplot2 comes with an overhaul of the guide system. Read here what is new for axes."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0-axes/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="ggplot2 3.5.0: Axes - Tidyverse"><meta property="description" content="The 3.5.0 version of ggplot2 comes with an overhaul of the guide system. Read here what is new for axes."><meta property="og:description" content="The 3.5.0 version of ggplot2 comes with an overhaul of the guide system. Read here what is new for axes."><meta property="og:image" content="https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0-axes/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0-axes/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>ggplot2 3.5.0: Axes</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2024/02/ggplot2-3-5-0-axes/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/white-and-black-measuring-tape-9rSP3SRUYh4>CHUTTERSNAP</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2024/02/28</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/ggplot2/>ggplot2</a>,
<a href=/tags/ggplot2-3-5-0/>ggplot2-3-5-0</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Teun van den Brand</p><div class=article-content><p>We are pleased to release
<a href=https://ggplot2.tidyverse.org target=_blank rel=noopener>ggplot2</a> 3.5.0. This release is a large one, so we have split the updates into multiple posts. This posts outlines changes to axes; see the
<a href=/blog/2024/02/ggplot2-3-5-0/>main release post</a> to learn about other changes.</p><p>Axes, alongside
<a href=/blog/2024/02/ggplot2-3-5-0-legends/>legends</a>, are visual representations of scales and allow observers to read values off of a plot. The innards of axes, like other guides, underwent a major overhaul with the guide system rewrite. Axes specifically are guides for positions and classically display labelled tick marks. In Cartesian coordinates, these are the x- and y-positions, but in non-Cartesian systems may reflect a theta, radius, longitude or latitude. In ggplot2, an axis is usually represented by the
<a href=https://ggplot2.tidyverse.org/reference/guide_axis.html target=_blank rel=noopener><code>guide_axis()</code></a> function. We outline the following changes to axes:</p><ul><li><a href=#minor-ticks>Minor ticks</a></li><li><a href=#capping>Capping the axis line</a></li><li><a href=#logarithmic-axes>Logartihmic axes</a></li><li><a href=#stacked-axes>Stacking axes</a></li><li><a href=#display-in-facets>Display in facets</a></li></ul><div class=highlight></div><h2 id=minor-ticks>Minor ticks
<a href=#minor-ticks><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>A much requested expansion of axis capabilities is the ability to draw minor ticks. To draw minor ticks, you can use the <code>minor.ticks</code> argument of
<a href=https://ggplot2.tidyverse.org/reference/guide_axis.html target=_blank rel=noopener><code>guide_axis()</code></a>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://ggplot2.tidyverse.org>ggplot2</a></span><span class=o>)</span></span>
<span></span>
<span><span class=nv>p</span> <span class=o>&lt;-</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>mpg</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>displ</span>, <span class=nv>hwy</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_point.html>geom_point</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guides.html>guides</a></span><span class=o>(</span></span>
<span>    x <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guide_axis.html>guide_axis</a></span><span class=o>(</span>minor.ticks <span class=o>=</span> <span class=kc>TRUE</span><span class=o>)</span>,</span>
<span>    y <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guide_axis.html>guide_axis</a></span><span class=o>(</span>minor.ticks <span class=o>=</span> <span class=kc>TRUE</span><span class=o>)</span></span>
<span>  <span class=o>)</span></span>
<span><span class=nv>p</span></span>
</code></pre><p><img src=figs/minor_ticks-1.png alt="Scatterplot of engine displacement versus highway miles per gallon. Both the x and y axes have smaller ticks in between normal ticks." width=700px style=display:block;margin:auto></p></div><p>The minor ticks are unlabelled ticks and follow the <code>minor_breaks</code> provided to the scale. Their length is determined by the <code>axis.minor.ticks.length</code> and their positional children. The rest of their appearance is inherited from the major ticks, as can be seen in the plot below where the minor ticks on the y-axis are also blue. To tweak their style separately from the major ticks, the <code>axis.minor.ticks.{x.bottom/x.top/y.left/y.right}</code> setting can be used. Please note that there is <em>no</em> <code>axis.minor.ticks</code> setting without the position suffixes, as they inherit from the major ticks.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>p</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/scale_continuous.html>scale_x_continuous</a></span><span class=o>(</span>minor_breaks <span class=o>=</span> <span class=nf>scales</span><span class=nf>::</span><span class=nf><a href=https://scales.r-lib.org/reference/breaks_width.html>breaks_width</a></span><span class=o>(</span><span class=m>0.2</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/theme.html>theme</a></span><span class=o>(</span></span>
<span>    axis.ticks.length <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/grid/unit.html>unit</a></span><span class=o>(</span><span class=m>5</span>, <span class=s>"pt"</span><span class=o>)</span>,</span>
<span>    axis.minor.ticks.length <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/element.html>rel</a></span><span class=o>(</span><span class=m>0.5</span><span class=o>)</span>,</span>
<span>    axis.minor.ticks.x.bottom <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/element.html>element_line</a></span><span class=o>(</span>colour <span class=o>=</span> <span class=s>'red'</span><span class=o>)</span>,</span>
<span>    axis.ticks.y <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/element.html>element_line</a></span><span class=o>(</span>colour <span class=o>=</span> <span class=s>"blue"</span><span class=o>)</span></span>
<span>  <span class=o>)</span></span>
</code></pre><p><img src=figs/minor_ticks_theming-1.png alt="Scatterplot of engine displacement versus highway miles per gallon. The y-axis has blue larger and smaller tick marks, whereas the x-axis has the larger ticks in black and the smaller ticks in red. The x-axis has 4 smaller ticks in between large ones and the smaller ticks are half the size of larger ticks." width=700px style=display:block;margin:auto></p></div><h2 id=capping>Capping
<a href=#capping><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Axes can now also be &lsquo;capped&rsquo; at the upper and lower end. We hesitate to call this improvement &lsquo;new&rsquo;, as it has been a part of base R plotting since time immemorial. When axes are capped, the axis line will not be drawn up to the panel edge, but up to the first and last breaks. Unsurprisingly, this only affects plots where the axis line is not blank.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>mpg</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>displ</span>, <span class=nv>hwy</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_point.html>geom_point</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guides.html>guides</a></span><span class=o>(</span></span>
<span>    x <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guide_axis.html>guide_axis</a></span><span class=o>(</span>cap <span class=o>=</span> <span class=s>"both"</span><span class=o>)</span>, <span class=c># Cap both ends</span></span>
<span>    y <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guide_axis.html>guide_axis</a></span><span class=o>(</span>cap <span class=o>=</span> <span class=s>"upper"</span><span class=o>)</span> <span class=c># Cap the upper end</span></span>
<span>  <span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/theme.html>theme</a></span><span class=o>(</span>axis.line <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/element.html>element_line</a></span><span class=o>(</span><span class=o>)</span><span class=o>)</span></span>
</code></pre><p><img src=figs/capped_axes-1.png alt="Scatterplot of engine displacement versus highway miles per gallon. The y-axis line starts at the bottom of the panel and continues to the top break. The x-axis line starts at the most left break and ends at the most right break." width=700px style=display:block;margin:auto></p></div><h2 id=logarithmic-axes>Logarithmic axes
<a href=#logarithmic-axes><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>A new axis for displaying logarithmic (and related) scales has been added:
<a href=https://ggplot2.tidyverse.org/reference/guide_axis_logticks.html target=_blank rel=noopener><code>guide_axis_logticks()</code></a>. This axis draws three types of tick marks at log10-spaced positions. The ticks positions are placed in the original, untransformed data-space, so the axis plays well with scale- and coord-transformations. To accommodate a series of logarithmic-like transformations, such as
<a href=https://scales.r-lib.org/reference/transform_log.html target=_blank rel=noopener><code>scales::transform_pseudo_log()</code></a> or
<a href=https://scales.r-lib.org/reference/transform_asinh.html target=_blank rel=noopener><code>scales::transform_asinh()</code></a>, scales that include 0 in their limits have the ticks mirrored around 0.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>r</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/seq.html>seq</a></span><span class=o>(</span><span class=m>0.001</span>, <span class=m>0.999</span>, length.out <span class=o>=</span> <span class=m>100</span><span class=o>)</span></span>
<span><span class=nv>df</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/data.frame.html>data.frame</a></span><span class=o>(</span></span>
<span>  x <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/stats/Cauchy.html>qcauchy</a></span><span class=o>(</span><span class=nv>r</span><span class=o>)</span>,</span>
<span>  y <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/stats/Lognormal.html>qlnorm</a></span><span class=o>(</span><span class=nv>r</span><span class=o>)</span></span>
<span><span class=o>)</span></span>
<span></span>
<span><span class=nv>p</span> <span class=o>&lt;-</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>df</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>x</span>, <span class=nv>y</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_path.html>geom_line</a></span><span class=o>(</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/coord_trans.html>coord_trans</a></span><span class=o>(</span>y <span class=o>=</span> <span class=s>"reverse"</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/scale_continuous.html>scale_y_continuous</a></span><span class=o>(</span></span>
<span>    transform <span class=o>=</span> <span class=s>"log10"</span>,</span>
<span>    breaks <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=m>0.1</span>, <span class=m>1</span>, <span class=m>10</span><span class=o>)</span>,</span>
<span>    guide <span class=o>=</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/guide_axis_logticks.html>guide_axis_logticks</a></span><span class=o>(</span>long <span class=o>=</span> <span class=m>2</span>, mid <span class=o>=</span> <span class=m>1</span>, short <span class=o>=</span> <span class=m>0.5</span><span class=o>)</span></span>
<span>  <span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/scale_continuous.html>scale_x_continuous</a></span><span class=o>(</span></span>
<span>    transform <span class=o>=</span> <span class=s>"asinh"</span>,</span>
<span>    breaks <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=o>-</span><span class=m>100</span>, <span class=o>-</span><span class=m>10</span>, <span class=o>-</span><span class=m>1</span>, <span class=m>0</span>, <span class=m>1</span>, <span class=m>10</span>, <span class=m>100</span><span class=o>)</span>,</span>
<span>    guide <span class=o>=</span> <span class=s>"axis_logticks"</span></span>
<span>  <span class=o>)</span></span>
<span><span class=nv>p</span></span>
</code></pre><p><img src=figs/log_axes-1.png alt="A line plot showing a negatively sloped line with a reversed log10-transformation on the y-axis and inverse hyberbolic sine transformation on the x-axis. Large ticks appears at multiples of 10, medium ticks at multiples of 5 and small ticks at multiples of 1." width=700px style=display:block;margin:auto></p></div><p>The log-ticks axis supersedes the earlier
<a href=https://ggplot2.tidyverse.org/reference/annotation_logticks.html target=_blank rel=noopener><code>annotation_logticks()</code></a> function. Because it is implemented as an axis, it has minimal fuss with the placement of labels and is immune to the clipping options in the coord. To mirror
<a href=https://ggplot2.tidyverse.org/reference/annotation_logticks.html target=_blank rel=noopener><code>annotation_logticks()</code></a> more closely, you can set a negative tick length in the theme.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>p</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/theme.html>theme</a></span><span class=o>(</span>axis.ticks.length <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/grid/unit.html>unit</a></span><span class=o>(</span><span class=o>-</span><span class=m>2.25</span>, <span class=s>"pt"</span><span class=o>)</span><span class=o>)</span></span>
</code></pre><p><img src=figs/log_ticks_inward-1.png alt="The same plot as above, but the tick marks now point inwards." width=700px style=display:block;margin:auto></p></div><h2 id=stacked-axes>Stacked axes
<a href=#stacked-axes><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The last new axis is technically not an axis, but a way to combine axes.
<a href=https://ggplot2.tidyverse.org/reference/guide_axis_stack.html target=_blank rel=noopener><code>guide_axis_stack()</code></a> can take multiple other axes and combine them by placing them next to one another. On its own, the usefulness of stacking axes is pretty limited. However, when extensions start defining custom position guides, it is an easy way to mix-and-match axes from different extensions. The first axis is placed next to the panel and subsequent axes are placed further away from the panel. Axes, like legends, have acquired a <code>theme</code> argument that can be used to customise the display of individual axes. Currently, there is not a compelling case to use
<a href=https://ggplot2.tidyverse.org/reference/guide_axis_stack.html target=_blank rel=noopener><code>guide_axis_stack()</code></a>, but it is an important building block for when axis extensions arrive.</p><h2 id=display-in-facets>Display in facets
<a href=#display-in-facets><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>More of an indirect improvement to axes, is the ability of facets to tweak the appearance of inner axes when scales are fixed. This facilitates requirements in some journals that every panel should have labelled axes.
<a href=https://ggplot2.tidyverse.org/reference/facet_wrap.html target=_blank rel=noopener><code>facet_wrap()</code></a> and
<a href=https://ggplot2.tidyverse.org/reference/facet_grid.html target=_blank rel=noopener><code>facet_grid()</code></a> would previously only display axes in between panels when <code>scales = "free"</code> was set. This is still the case, but there are more options available for
<a href=https://ggplot2.tidyverse.org/reference/facet_grid.html target=_blank rel=noopener><code>facet_grid()</code></a> and fixed scales. Using the <code>axes = "all"</code> option, all axes are displayed, including those in between panels. When using <code>axes = "all_x"</code> or <code>axes = "all_y"</code>, you can narrow down which axes are displayed.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>p</span> <span class=o>&lt;-</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/ggplot.html>ggplot</a></span><span class=o>(</span><span class=nv>mpg</span>, <span class=nf><a href=https://ggplot2.tidyverse.org/reference/aes.html>aes</a></span><span class=o>(</span><span class=nv>displ</span>, <span class=nv>hwy</span><span class=o>)</span><span class=o>)</span> <span class=o>+</span></span>
<span>  <span class=nf><a href=https://ggplot2.tidyverse.org/reference/geom_point.html>geom_point</a></span><span class=o>(</span><span class=o>)</span></span>
<span></span>
<span><span class=nv>p</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/facet_grid.html>facet_grid</a></span><span class=o>(</span><span class=nv>year</span> <span class=o>~</span> <span class=nv>drv</span>, axes <span class=o>=</span> <span class=s>"all_y"</span><span class=o>)</span></span>
</code></pre><p><img src=figs/facet_axes_display-1.png alt="A scatterplot facetted by the 'drv' and 'year' variables. The x-axes appear only at the bottom panels, whereas y-axes are displayed for every panel." width=700px style=display:block;margin:auto></p></div><p>In addition, you can choose to selectively suppress labels and only show ticks marks by using the <code>axis.labels</code> argument.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>p</span> <span class=o>+</span> <span class=nf><a href=https://ggplot2.tidyverse.org/reference/facet_grid.html>facet_grid</a></span><span class=o>(</span><span class=nv>year</span> <span class=o>~</span> <span class=nv>drv</span>, axes <span class=o>=</span> <span class=s>"all"</span>, axis.labels <span class=o>=</span> <span class=s>"all_y"</span><span class=o>)</span></span>
</code></pre><p><img src=figs/facet_axes_label_display-1.png alt="A scatterplot facetted by the 'drv' and 'year' variables. The x-axes appear in full only at the bottom panels, and as tick marks in the first row of panels. The y-axes are displayed in full at every panel." width=700px style=display:block;margin:auto></p></div><p>That wraps up the visible changes to axes for this post. To read about general changes, see the
<a href=/blog/2024/02/ggplot2-3-5-0/>main post</a>. The changes to legends are covered in a
<a href=/blog/2024/02/ggplot2-3-5-0-legends/>separate post</a> and for the new polar coordinate system (and their axes) will be in a future post.</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#minor-ticks>Minor ticks</a></li><li><a href=#capping>Capping</a></li><li><a href=#logarithmic-axes>Logarithmic axes</a></li><li><a href=#stacked-axes>Stacked axes</a></li><li><a href=#display-in-facets>Display in facets</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>