<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>dplyr 1.2.0</title><meta property="og:title" content="dplyr 1.2.0"><meta property="og:description" content="dplyr 1.2.0 fills in some important gaps in dplyr's API: we've added a new complement to `filter()` focused on dropping rows, and we've expanded the `case_when()` family with three new recoding and replacing functions!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2026/02/dplyr-1-2-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="dplyr 1.2.0 - Tidyverse"><meta property="description" content="dplyr 1.2.0 fills in some important gaps in dplyr's API: we've added a new complement to `filter()` focused on dropping rows, and we've expanded the `case_when()` family with three new recoding and replacing functions!"><meta property="og:description" content="dplyr 1.2.0 fills in some important gaps in dplyr's API: we've added a new complement to `filter()` focused on dropping rows, and we've expanded the `case_when()` family with three new recoding and replacing functions!"><meta property="og:image" content="https://www.tidyverse.org/blog/2026/02/dplyr-1-2-0/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2026/02/dplyr-1-2-0/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>dplyr 1.2.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2026/02/dplyr-1-2-0/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/eksqjXTLpak>Nathan Dumlao</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2026/02/04</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/dplyr/>dplyr</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Davis Vaughan</p><div class=article-content><p><a href=https://dplyr.tidyverse.org target=_blank rel=noopener>dplyr 1.2.0</a> is out now! This large release of dplyr comes with two sets of exciting features:</p><ul><li><p><a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter_out()</code></a>, the missing complement to
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a>, and accompanying
<a href=https://dplyr.tidyverse.org/reference/when-any-all.html target=_blank rel=noopener><code>when_any()</code></a> and
<a href=https://dplyr.tidyverse.org/reference/when-any-all.html target=_blank rel=noopener><code>when_all()</code></a> helpers.</p></li><li><p><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a>,
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>replace_values()</code></a>, and
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>replace_when()</code></a>, three new functions that join
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a> to create a cohesive family of powerful tools for recoding and replacing.</p></li></ul><p>Both of these sets of features are backed by successful <em>tidyups</em>, the tidyverse&rsquo;s community facing proposal process (
<a href=https://github.com/tidyverse/tidyups/pull/30 target=_blank rel=noopener>filtering</a>,
<a href=https://github.com/tidyverse/tidyups/pull/29 target=_blank rel=noopener>recoding</a>). We really enjoyed having the community weigh in on these features!</p><p>You can install dplyr 1.2.0 from CRAN with:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/utils/install.packages.html>install.packages</a></span><span class=o>(</span><span class=s>"dplyr"</span><span class=o>)</span></span></code></pre></div><p>You can see a full list of changes in the
<a href=https://github.com/tidyverse/dplyr/releases/tag/v1.2.0 target=_blank rel=noopener>release notes</a>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://dplyr.tidyverse.org>dplyr</a></span><span class=o>)</span></span></code></pre></div><h2 id=expanding-the-filter-family>Expanding the <code>filter()</code> family
<a href=#expanding-the-filter-family><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> has been a core dplyr verb since the very beginning, but over the years we&rsquo;ve isolated a few key issues with it:</p><ul><li><p>The name
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> is ambiguous, are you keeping or dropping rows? i.e., are you filtering <em>for</em> rows or filtering <em>out</em> rows?</p></li><li><p><a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> is optimized for the case of <em>keeping</em> rows, but you are just as likely to try and use it for <em>dropping</em> rows. Using
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> to drop rows quickly forces you to confront complex boolean logic and explicitly handle missing values, which is difficult to teach, error prone to write, and hard to understand when you come back to it in the future.</p></li><li><p><a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> combines comma separated conditions with <code>&</code> because this covers the majority of the cases. But if you&rsquo;d like to combine conditions with <code>|</code>, then you have to introduce parentheses around your conditions and combine them into one large condition separated by <code>|</code>, reducing readability.</p></li></ul><p>In the next few sections, we&rsquo;ll motivate these issues and discuss how some new features in dplyr can simplify things dramatically!</p><h3 id=filteringout>Filtering&mldr;out!
<a href=#filteringout><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Take a look at this <code>patients</code> data. Our task with this data is:</p><blockquote><p><em>Filter out</em> rows where the patient is deceased <em>and</em> the year was before 2012.</p></blockquote><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>patients</span> <span class=o>&lt;-</span> <span class=nf><a href=https://tibble.tidyverse.org/reference/tibble.html>tibble</a></span><span class=o>(</span></span>
<span>  name <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"Anne"</span>, <span class=s>"Mark"</span>, <span class=s>"Sarah"</span>, <span class=s>"Davis"</span>, <span class=s>"Max"</span>, <span class=s>"Derek"</span>, <span class=s>"Tina"</span><span class=o>)</span>,</span>
<span>  deceased <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=kc>FALSE</span>, <span class=kc>TRUE</span>, <span class=kc>NA</span>, <span class=kc>TRUE</span>, <span class=kc>NA</span>, <span class=kc>FALSE</span>, <span class=kc>TRUE</span><span class=o>)</span>,</span>
<span>  date <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=m>2005</span>, <span class=m>2010</span>, <span class=kc>NA</span>, <span class=m>2020</span>, <span class=m>2010</span>, <span class=kc>NA</span>, <span class=kc>NA</span><span class=o>)</span></span>
<span><span class=o>)</span></span>
<span></span>
<span><span class=nv>patients</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 7 Ã— 3</span></span></span>
<span><span class=c>#&gt;   name  deceased  date</span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span> <span style=color:#555;font-style:italic>&lt;lgl&gt;</span>    <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> Anne  FALSE     <span style=text-decoration:underline>2</span>005</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> Mark  TRUE      <span style=text-decoration:underline>2</span>010</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> Sarah <span style=color:#b00>NA</span>          <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> Davis TRUE      <span style=text-decoration:underline>2</span>020</span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span> Max   <span style=color:#b00>NA</span>        <span style=text-decoration:underline>2</span>010</span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span> Derek FALSE       <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span> Tina  TRUE        <span style=color:#b00>NA</span></span></span>
<span></span></code></pre></div><p>With
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a>, you&rsquo;d probably start by translating &ldquo;patient is deceased and the year was before 2012&rdquo; into <code>deceased & date &lt; 2012</code>, and then inverting that with <code>!(&lt;expression>)</code> to drop rows:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>patients</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/filter.html>filter</a></span><span class=o>(</span><span class=o>!</span><span class=o>(</span><span class=nv>deceased</span> <span class=o>&amp;</span> <span class=nv>date</span> <span class=o>&lt;</span> <span class=m>2012</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 3 Ã— 3</span></span></span>
<span><span class=c>#&gt;   name  deceased  date</span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span> <span style=color:#555;font-style:italic>&lt;lgl&gt;</span>    <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> Anne  FALSE     <span style=text-decoration:underline>2</span>005</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> Davis TRUE      <span style=text-decoration:underline>2</span>020</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> Derek FALSE       <span style=color:#b00>NA</span></span></span>
<span></span></code></pre></div><p>That seems to have worked, let&rsquo;s use an
<a href=https://dplyr.tidyverse.org/reference/filter-joins.html target=_blank rel=noopener><code>anti_join()</code></a> to check with rows have been dropped from <code>patients</code>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=c># These rows were dropped</span></span>
<span><span class=nf><a href=https://dplyr.tidyverse.org/reference/filter-joins.html>anti_join</a></span><span class=o>(</span></span>
<span>  <span class=nv>patients</span>,</span>
<span>  <span class=nv>patients</span> <span class=o>|&gt;</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/filter.html>filter</a></span><span class=o>(</span><span class=o>!</span><span class=o>(</span><span class=nv>deceased</span> <span class=o>&amp;</span> <span class=nv>date</span> <span class=o>&lt;</span> <span class=m>2012</span><span class=o>)</span><span class=o>)</span>,</span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/join_by.html>join_by</a></span><span class=o>(</span><span class=nv>name</span>, <span class=nv>deceased</span>, <span class=nv>date</span><span class=o>)</span></span>
<span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 4 Ã— 3</span></span></span>
<span><span class=c>#&gt;   name  deceased  date</span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span> <span style=color:#555;font-style:italic>&lt;lgl&gt;</span>    <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> Mark  TRUE      <span style=text-decoration:underline>2</span>010</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> Sarah <span style=color:#b00>NA</span>          <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> Max   <span style=color:#b00>NA</span>        <span style=text-decoration:underline>2</span>010</span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> Tina  TRUE        <span style=color:#b00>NA</span></span></span>
<span></span></code></pre></div><p>This is subtly wrong! We only wanted to drop rows where we <em>know</em> that the patient was deceased before 2012. If a missing value is present, we <em>don&rsquo;t</em> want to drop that row because we aren&rsquo;t sure about the condition. In this case, we were hoping to only drop <code>Mark</code>! It seems like
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> has unexpectedly <em>dropped more rows than we expected</em>.</p><p>Here&rsquo;s what a technically correct
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> call might look like:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>patients</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/filter.html>filter</a></span><span class=o>(</span></span>
<span>    <span class=o>!</span><span class=o>(</span><span class=o>(</span><span class=nv>deceased</span> <span class=o>&amp;</span> <span class=o>!</span><span class=nf><a href=https://rdrr.io/r/base/NA.html>is.na</a></span><span class=o>(</span><span class=nv>deceased</span><span class=o>)</span><span class=o>)</span> <span class=o>&amp;</span></span>
<span>      <span class=o>(</span><span class=nv>date</span> <span class=o>&lt;</span> <span class=m>2012</span> <span class=o>&amp;</span> <span class=o>!</span><span class=nf><a href=https://rdrr.io/r/base/NA.html>is.na</a></span><span class=o>(</span><span class=nv>date</span><span class=o>)</span><span class=o>)</span><span class=o>)</span></span>
<span>  <span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 6 Ã— 3</span></span></span>
<span><span class=c>#&gt;   name  deceased  date</span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span> <span style=color:#555;font-style:italic>&lt;lgl&gt;</span>    <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> Anne  FALSE     <span style=text-decoration:underline>2</span>005</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> Sarah <span style=color:#b00>NA</span>          <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> Davis TRUE      <span style=text-decoration:underline>2</span>020</span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> Max   <span style=color:#b00>NA</span>        <span style=text-decoration:underline>2</span>010</span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span> Derek FALSE       <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span> Tina  TRUE        <span style=color:#b00>NA</span></span></span>
<span></span></code></pre></div><p>That&rsquo;s horrible! You&rsquo;ll likely look back on this in a year wondering what you were even trying to do here.</p><p>This phenomenon is rather confusing, but is due to the fact that
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> is designed around the idea that you&rsquo;re going to tell it which rows to <em>keep</em>. With that design in mind, dropping <code>NA</code>s makes sense, i.e.Â if you don&rsquo;t <em>know</em> that you want to keep that row (because an <code>NA</code> is ambiguous), then you probably don&rsquo;t want to keep it.</p><p>This works well until you try to use
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> as a way to <em>filter out</em> rows, at which point this behavior works against you. At this point, most people (reasonably!) reach for <code>& !is.na()</code> and you end up with the mess from above.</p><p>We took a close look at many examples like this one, and eventually realized that the core issue is:</p><ul><li><a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> is designed around supplying which rows to <em>keep</em></li><li>We are missing a verb designed around supplying which rows to <em>drop</em></li></ul><p><a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter_out()</code></a> fills that gap:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>patients</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/filter.html>filter_out</a></span><span class=o>(</span><span class=nv>deceased</span>, <span class=nv>date</span> <span class=o>&lt;</span> <span class=m>2012</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 6 Ã— 3</span></span></span>
<span><span class=c>#&gt;   name  deceased  date</span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span> <span style=color:#555;font-style:italic>&lt;lgl&gt;</span>    <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> Anne  FALSE     <span style=text-decoration:underline>2</span>005</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> Sarah <span style=color:#b00>NA</span>          <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> Davis TRUE      <span style=text-decoration:underline>2</span>020</span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> Max   <span style=color:#b00>NA</span>        <span style=text-decoration:underline>2</span>010</span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span> Derek FALSE       <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span> Tina  TRUE        <span style=color:#b00>NA</span></span></span>
<span></span></code></pre></div><p>Just like with
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a>,
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter_out()</code></a> treats <code>NA</code> values as <code>FALSE</code>. The difference is that
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter_out()</code></a> expects that you are going to tell it which rows to <em>drop</em> (rather than which rows to keep), so the default behavior of treating <code>NA</code> like <code>FALSE</code> works <em>with you</em> rather than <em>against you</em>. It&rsquo;s also much easier to understand when you look back on it a year from now!</p><p>In general, our advice is that if you find yourself using &ldquo;negative&rdquo; operators like <code>!=</code> or <code>!</code> or reaching for the <code>!is.na()</code> pattern to manually handle missing values, try reaching for
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter_out()</code></a> instead.</p><p>Personally, I&rsquo;ve always been pretty jealous of Stata here because they had both
<a href=https://www.stata.com/manuals/ddrop.pdf target=_blank rel=noopener><code>keep if</code> and <code>drop if</code></a>, allowing them to write <code>drop if deceased & date &lt; 2012</code>. In my first job, I translated a bunch of Stata code over to R and still remember being frustrated by <code>NA</code> handling every time I had to translate a <code>drop if</code> to a
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a>. With
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter_out()</code></a>, it feels like I can finally let go of a long term grudge I&rsquo;ve held over the past 6 years ðŸ™‚.</p><h3 id=combining-with-or-rather-than-and>Combining with <code>OR</code> rather than <code>AND</code>
<a href=#combining-with-or-rather-than-and><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>So far, we&rsquo;ve talked a lot about <em>dropping</em> rows, but dplyr 1.2.0 also has a new feature to help with <em>keeping</em> rows using conditions combined with <code>|</code> -
<a href=https://dplyr.tidyverse.org/reference/when-any-all.html target=_blank rel=noopener><code>when_any()</code></a>.</p><p>Our goal here is:</p><blockquote><p><em>Filter for</em> rows where &ldquo;US&rdquo; and &ldquo;CA&rdquo; have a score between 200-300, <em>or</em> rows where &ldquo;PR&rdquo; and &ldquo;RU&rdquo; have a score between 100-200.</p></blockquote><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>countries</span> <span class=o>&lt;-</span> <span class=nf><a href=https://tibble.tidyverse.org/reference/tibble.html>tibble</a></span><span class=o>(</span></span>
<span>  name <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"US"</span>, <span class=s>"CA"</span>, <span class=s>"PR"</span>, <span class=s>"RU"</span>, <span class=s>"US"</span>, <span class=kc>NA</span>, <span class=s>"CA"</span>, <span class=s>"PR"</span><span class=o>)</span>,</span>
<span>  score <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=m>200</span>, <span class=m>100</span>, <span class=m>150</span>, <span class=kc>NA</span>, <span class=m>50</span>, <span class=m>100</span>, <span class=m>300</span>, <span class=m>250</span><span class=o>)</span></span>
<span><span class=o>)</span></span>
<span></span>
<span><span class=nv>countries</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 8 Ã— 2</span></span></span>
<span><span class=c>#&gt;   name  score</span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span> <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> US      200</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> CA      100</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> PR      150</span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> RU       <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span> US       50</span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span> <span style=color:#b00>NA</span>      100</span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span> CA      300</span></span>
<span><span class=c>#&gt; <span style=color:#555>8</span> PR      250</span></span>
<span></span></code></pre></div><p>Here&rsquo;s a
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a> solution, note how we lose the ability to specify comma separated conditions, and in the process we&rsquo;ve introduced 3 operators, <code>&</code>, <code>|</code>, and <code>()</code>, decreasing readability and increasing the mental gymnastics required to understand it:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>countries</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/filter.html>filter</a></span><span class=o>(</span></span>
<span>    <span class=o>(</span><span class=nv>name</span> <span class=o><a href=https://rdrr.io/r/base/match.html>%in%</a></span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"US"</span>, <span class=s>"CA"</span><span class=o>)</span> <span class=o>&amp;</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/between.html>between</a></span><span class=o>(</span><span class=nv>score</span>, <span class=m>200</span>, <span class=m>300</span><span class=o>)</span><span class=o>)</span> <span class=o>|</span></span>
<span>      <span class=o>(</span><span class=nv>name</span> <span class=o><a href=https://rdrr.io/r/base/match.html>%in%</a></span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"PR"</span>, <span class=s>"RU"</span><span class=o>)</span> <span class=o>&amp;</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/between.html>between</a></span><span class=o>(</span><span class=nv>score</span>, <span class=m>100</span>, <span class=m>200</span><span class=o>)</span><span class=o>)</span></span>
<span>  <span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 3 Ã— 2</span></span></span>
<span><span class=c>#&gt;   name  score</span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span> <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> US      200</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> PR      150</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> CA      300</span></span>
<span></span></code></pre></div><p>With
<a href=https://dplyr.tidyverse.org/reference/when-any-all.html target=_blank rel=noopener><code>when_any()</code></a>, you specify comma separated conditions like you&rsquo;re used to, but they get combined with <code>|</code> rather than <code>&</code>. This allows us to reduce the amount of operators introduced down to just <code>&</code>, and it remains very readable:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>countries</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/filter.html>filter</a></span><span class=o>(</span><span class=nf><a href=https://dplyr.tidyverse.org/reference/when-any-all.html>when_any</a></span><span class=o>(</span></span>
<span>    <span class=nv>name</span> <span class=o><a href=https://rdrr.io/r/base/match.html>%in%</a></span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"US"</span>, <span class=s>"CA"</span><span class=o>)</span> <span class=o>&amp;</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/between.html>between</a></span><span class=o>(</span><span class=nv>score</span>, <span class=m>200</span>, <span class=m>300</span><span class=o>)</span>,</span>
<span>    <span class=nv>name</span> <span class=o><a href=https://rdrr.io/r/base/match.html>%in%</a></span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"PR"</span>, <span class=s>"RU"</span><span class=o>)</span> <span class=o>&amp;</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/between.html>between</a></span><span class=o>(</span><span class=nv>score</span>, <span class=m>100</span>, <span class=m>200</span><span class=o>)</span></span>
<span>  <span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 3 Ã— 2</span></span></span>
<span><span class=c>#&gt;   name  score</span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span> <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> US      200</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> PR      150</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> CA      300</span></span>
<span></span></code></pre></div><p><a href=https://dplyr.tidyverse.org/reference/when-any-all.html target=_blank rel=noopener><code>when_any()</code></a> and its counterpart
<a href=https://dplyr.tidyverse.org/reference/when-any-all.html target=_blank rel=noopener><code>when_all()</code></a> aren&rsquo;t restricted to
<a href=https://dplyr.tidyverse.org/reference/filter.html target=_blank rel=noopener><code>filter()</code></a>. They are normal vector functions that can be used anywhere. And if you&rsquo;re a package author, you might be interested in
<a href=https://vctrs.r-lib.org/reference/parallel-operators.html target=_blank rel=noopener><code>vctrs::vec_pany()</code></a> and
<a href=https://vctrs.r-lib.org/reference/parallel-operators.html target=_blank rel=noopener><code>vctrs::vec_pall()</code></a>, the underlying low dependency functions that power the dplyr variants.</p><h2 id=reaching-recoding-nirvana>Reaching recoding nirvana
<a href=#reaching-recoding-nirvana><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Over the years, we&rsquo;ve experimented with various ways of recoding columns and replacing values within them, including:</p><ul><li><a href=https://rdrr.io/pkg/plyr/man/mapvalues.html target=_blank rel=noopener><code>plyr::mapvalues()</code></a></li><li><a href=https://rdrr.io/pkg/plyr/man/revalue.html target=_blank rel=noopener><code>plyr::revalue()</code></a></li><li><a href=https://dplyr.tidyverse.org/reference/recode.html target=_blank rel=noopener><code>dplyr::recode()</code></a></li><li><a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>dplyr::case_when()</code></a></li></ul><p>Despite all of our improvements, it&rsquo;s felt like there have always been holes in our solutions. Most recently, this came to the forefront in a post about
<a href="https://www.linkedin.com/posts/libbyheeren_rstats-activity-7343291858275487744-XlPl?utm_source=share&utm_medium=member_desktop&rcm=ACoAAAy7IywB2qfaREGGoCca5XkthJ2hLjru6ts" target=_blank rel=noopener>recoding using a lookup table</a>, which is almost impossible to do with
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a>, and had people resorting to confusing solutions using the superseded
<a href=https://dplyr.tidyverse.org/reference/recode.html target=_blank rel=noopener><code>dplyr::recode()</code></a> combined with <code>!!!</code> to splice in a lookup table.</p><p>After seeing this, we took a step back and were finally able to isolate the issues with our current solutions. The result of our
<a href=https://github.com/tidyverse/tidyups/pull/29 target=_blank rel=noopener>analysis</a> is three new functions that join
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a> to form a powerful recoding and replacing family.</p><p>It&rsquo;ll be helpful to define exactly what we mean by recoding vs replacing:</p><ul><li><p><em>Recoding</em> a column creates an entirely new column using values from an existing column. The new column may have a different type from the original column.</p></li><li><p><em>Replacing</em> values within a column partially updates an existing column with new values. The result has the same type as the original column.</p></li></ul><p>The family of functions can be summarized by the following table:</p><table><thead><tr><th></th><th><strong>Recoding</strong></th><th><strong>Replacing</strong></th></tr></thead><tbody><tr><td><strong>Match with conditions</strong></td><td><a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a></td><td><a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>replace_when()</code></a></td></tr><tr><td><strong>Match with values</strong></td><td><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a></td><td><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>replace_values()</code></a></td></tr></tbody></table><p>We&rsquo;ve written a
<a href=https://dplyr.tidyverse.org/articles/recoding-replacing.html target=_blank rel=noopener>new vignette</a> that expands on all of these from first principles, and in the next few sections we&rsquo;ll look at some examples.</p><h3 id=recode_values><code>recode_values()</code>
<a href=#recode_values><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>The goal of the post from above was to recode a numeric column of
<a href=https://en.wikipedia.org/wiki/Likert_scale target=_blank rel=noopener>Likert scale</a> scores into their string counterparts.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>likert</span> <span class=o>&lt;-</span> <span class=nf><a href=https://tibble.tidyverse.org/reference/tibble.html>tibble</a></span><span class=o>(</span></span>
<span>  score <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=m>1</span>, <span class=m>2</span>, <span class=m>3</span>, <span class=m>4</span>, <span class=m>5</span>, <span class=m>2</span>, <span class=m>3</span>, <span class=m>1</span>, <span class=m>4</span><span class=o>)</span></span>
<span><span class=o>)</span></span></code></pre></div><p>We could certainly try
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>likert</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span></span>
<span>    category <span class=o>=</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html>case_when</a></span><span class=o>(</span></span>
<span>      <span class=nv>score</span> <span class=o>==</span> <span class=m>1</span> <span class=o>~</span> <span class=s>"Strongly disagree"</span>,</span>
<span>      <span class=nv>score</span> <span class=o>==</span> <span class=m>2</span> <span class=o>~</span> <span class=s>"Disagree"</span>,</span>
<span>      <span class=nv>score</span> <span class=o>==</span> <span class=m>3</span> <span class=o>~</span> <span class=s>"Neutral"</span>,</span>
<span>      <span class=nv>score</span> <span class=o>==</span> <span class=m>4</span> <span class=o>~</span> <span class=s>"Agree"</span>,</span>
<span>      <span class=nv>score</span> <span class=o>==</span> <span class=m>5</span> <span class=o>~</span> <span class=s>"Strongly agree"</span></span>
<span>    <span class=o>)</span></span>
<span>  <span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 9 Ã— 2</span></span></span>
<span><span class=c>#&gt;   score category         </span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;dbl&gt;</span> <span style=color:#555;font-style:italic>&lt;chr&gt;</span>            </span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span>     1 Strongly disagree</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span>     2 Disagree         </span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span>     3 Neutral          </span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span>     4 Agree            </span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span>     5 Strongly agree   </span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span>     2 Disagree         </span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span>     3 Neutral          </span></span>
<span><span class=c>#&gt; <span style=color:#555>8</span>     1 Strongly disagree</span></span>
<span><span class=c>#&gt; <span style=color:#555>9</span>     4 Agree</span></span>
<span></span></code></pre></div><p>But <code>score ==</code> is repeated so many times! When you find yourself using <code>==</code> in this way, recognize that what you&rsquo;re really doing is matching on the <em>values</em> of a single column. In cases like these, you&rsquo;ll want to switch to
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a>. Rather than taking logical vectors,
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a> takes <em>values</em> on the left-hand side to match against a single input that you&rsquo;ll provide as the first argument.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>likert</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span></span>
<span>    category <span class=o>=</span> <span class=nv>score</span> <span class=o>|&gt;</span></span>
<span>      <span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>recode_values</a></span><span class=o>(</span></span>
<span>        <span class=m>1</span> <span class=o>~</span> <span class=s>"Strongly disagree"</span>,</span>
<span>        <span class=m>2</span> <span class=o>~</span> <span class=s>"Disagree"</span>,</span>
<span>        <span class=m>3</span> <span class=o>~</span> <span class=s>"Neutral"</span>,</span>
<span>        <span class=m>4</span> <span class=o>~</span> <span class=s>"Agree"</span>,</span>
<span>        <span class=m>5</span> <span class=o>~</span> <span class=s>"Strongly agree"</span></span>
<span>      <span class=o>)</span></span>
<span>  <span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 9 Ã— 2</span></span></span>
<span><span class=c>#&gt;   score category         </span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;dbl&gt;</span> <span style=color:#555;font-style:italic>&lt;chr&gt;</span>            </span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span>     1 Strongly disagree</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span>     2 Disagree         </span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span>     3 Neutral          </span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span>     4 Agree            </span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span>     5 Strongly agree   </span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span>     2 Disagree         </span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span>     3 Neutral          </span></span>
<span><span class=c>#&gt; <span style=color:#555>8</span>     1 Strongly disagree</span></span>
<span><span class=c>#&gt; <span style=color:#555>9</span>     4 Agree</span></span>
<span></span></code></pre></div><p>This removes all of the repetition, allowing you to focus on the mapping. And it should feel pretty familiar! This is the same formula interface of
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a>.</p><p>If you squint, the mapping should look roughly like a lookup table between the numeric value and the Likert encoding. One of the novel features of
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a> is that it has an alternate interface that allows you to make this lookup table more explicit. Using a
<a href=https://tibble.tidyverse.org/reference/tribble.html target=_blank rel=noopener><code>tribble()</code></a>, we can extract out the lookup table into its own standalone data frame.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>lookup</span> <span class=o>&lt;-</span> <span class=nf><a href=https://tibble.tidyverse.org/reference/tribble.html>tribble</a></span><span class=o>(</span></span>
<span>  <span class=o>~</span><span class=nv>from</span> , <span class=o>~</span><span class=nv>to</span>                 ,</span>
<span>      <span class=m>1</span> , <span class=s>"Strongly disagree"</span> ,</span>
<span>      <span class=m>2</span> , <span class=s>"Disagree"</span>          ,</span>
<span>      <span class=m>3</span> , <span class=s>"Neutral"</span>           ,</span>
<span>      <span class=m>4</span> , <span class=s>"Agree"</span>             ,</span>
<span>      <span class=m>5</span> , <span class=s>"Strongly agree"</span>    ,</span>
<span><span class=o>)</span></span></code></pre></div><p>We can then utilize the alternative <code>from</code> and <code>to</code> arguments of
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a> rather than supplying formulas to specify how the values should be recoded:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>likert</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span>category <span class=o>=</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>recode_values</a></span><span class=o>(</span><span class=nv>score</span>, from <span class=o>=</span> <span class=nv>lookup</span><span class=o>$</span><span class=nv>from</span>, to <span class=o>=</span> <span class=nv>lookup</span><span class=o>$</span><span class=nv>to</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 9 Ã— 2</span></span></span>
<span><span class=c>#&gt;   score category         </span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;dbl&gt;</span> <span style=color:#555;font-style:italic>&lt;chr&gt;</span>            </span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span>     1 Strongly disagree</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span>     2 Disagree         </span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span>     3 Neutral          </span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span>     4 Agree            </span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span>     5 Strongly agree   </span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span>     2 Disagree         </span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span>     3 Neutral          </span></span>
<span><span class=c>#&gt; <span style=color:#555>8</span>     1 Strongly disagree</span></span>
<span><span class=c>#&gt; <span style=color:#555>9</span>     4 Agree</span></span>
<span></span></code></pre></div><p>Lifting the lookup table out to the top of the file is particularly nice when you have a long pipe chain. The details of the mapping get some room to breathe, and in the pipe chain you can focus on the actual data manipulations.</p><p>It&rsquo;s also very common for your <code>lookup</code> table to exist in a CSV file that you have to read in separately. In that case, you can replace the
<a href=https://tibble.tidyverse.org/reference/tribble.html target=_blank rel=noopener><code>tribble()</code></a> call with:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>lookup</span> <span class=o>&lt;-</span> <span class=nf>readr</span><span class=nf>::</span><span class=nf><a href=https://readr.tidyverse.org/reference/read_delim.html>read_csv</a></span><span class=o>(</span><span class=s>"lookup.csv"</span><span class=o>)</span></span></code></pre></div><p>Then everything else works the same.</p><h3 id=unmatched-cases>Unmatched cases
<a href=#unmatched-cases><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>If you are confident that you&rsquo;ve captured every case during the recoding process, you can now supply <code>unmatched = "error"</code> as an alternative to <code>default</code>.
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a> will error if that assertion doesn&rsquo;t hold. This is great for defensive programming!</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=c># Notice the `0` that we don't have a mapping for!</span></span>
<span><span class=nv>likert</span> <span class=o>&lt;-</span> <span class=nf><a href=https://tibble.tidyverse.org/reference/tibble.html>tibble</a></span><span class=o>(</span></span>
<span>  score <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=m>0</span>, <span class=m>1</span>, <span class=m>2</span>, <span class=m>2</span>, <span class=m>4</span>, <span class=m>5</span>, <span class=m>2</span>, <span class=m>3</span>, <span class=m>1</span>, <span class=m>4</span><span class=o>)</span></span>
<span><span class=o>)</span></span>
<span></span>
<span><span class=nv>likert</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span></span>
<span>    score <span class=o>=</span> <span class=nv>score</span> <span class=o>|&gt;</span></span>
<span>      <span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>recode_values</a></span><span class=o>(</span></span>
<span>        from <span class=o>=</span> <span class=nv>lookup</span><span class=o>$</span><span class=nv>from</span>,</span>
<span>        to <span class=o>=</span> <span class=nv>lookup</span><span class=o>$</span><span class=nv>to</span>,</span>
<span>        unmatched <span class=o>=</span> <span class=s>"error"</span></span>
<span>      <span class=o>)</span></span>
<span>  <span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#bb0;font-weight:700>Error</span><span style=font-weight:700> in `mutate()`:</span></span></span>
<span><span class=c>#&gt; <span style=color:#0bb>â„¹</span> In argument: `score = recode_values(score, from = lookup$from, to = lookup$to, unmatched = "error")`.</span></span>
<span><span class=c>#&gt; <span style=font-weight:700>Caused by error in `recode_values()`:</span></span></span>
<span><span class=c>#&gt; <span style=color:#bb0>!</span> Each location must be matched.</span></span>
<span><span class=c>#&gt; <span style=color:#b00>âœ–</span> Location 1 is unmatched.</span></span>
<span></span></code></pre></div><p>Note that missing values must be explicitly handled when setting <code>unmatched = "error"</code>, even if that&rsquo;s just setting <code>NA ~ NA</code>, otherwise they will trigger the unmatched error. This forces you to explicitly opt in to expecting missing values.</p><p>Similar to
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a>,
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a> has also gained the <code>.unmatched</code> argument.</p><h3 id=replace_values><code>replace_values()</code>
<a href=#replace_values><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Out of all of the new things introduced in dplyr 1.2.0, I think I&rsquo;m most excited about
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>replace_values()</code></a>.</p><p>While
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a> is great for creating an entirely new column (possibly with a new type), if you just need to replace a few rows of an existing column, then
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>replace_values()</code></a> is the best tool for the job!</p><p>Imagine we&rsquo;d like to collapse some, but not all, of these school names into common buckets:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>schools</span> <span class=o>&lt;-</span> <span class=nf><a href=https://tibble.tidyverse.org/reference/tibble.html>tibble</a></span><span class=o>(</span></span>
<span>  name <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span></span>
<span>    <span class=s>"UNC"</span>,</span>
<span>    <span class=s>"Chapel Hill"</span>,</span>
<span>    <span class=kc>NA</span>,</span>
<span>    <span class=s>"Duke"</span>,</span>
<span>    <span class=s>"Duke University"</span>,</span>
<span>    <span class=s>"UNC"</span>,</span>
<span>    <span class=s>"NC State"</span>,</span>
<span>    <span class=s>"ECU"</span></span>
<span>  <span class=o>)</span></span>
<span><span class=o>)</span></span></code></pre></div><p>We could use
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a> or
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>schools</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span></span>
<span>    name <span class=o>=</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html>case_when</a></span><span class=o>(</span></span>
<span>      <span class=nv>name</span> <span class=o><a href=https://rdrr.io/r/base/match.html>%in%</a></span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"UNC"</span>, <span class=s>"Chapel Hill"</span><span class=o>)</span> <span class=o>~</span> <span class=s>"UNC Chapel Hill"</span>,</span>
<span>      <span class=nv>name</span> <span class=o><a href=https://rdrr.io/r/base/match.html>%in%</a></span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"Duke"</span>, <span class=s>"Duke University"</span><span class=o>)</span> <span class=o>~</span> <span class=s>"Duke"</span>,</span>
<span>      .default <span class=o>=</span> <span class=nv>name</span></span>
<span>    <span class=o>)</span></span>
<span>  <span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 8 Ã— 1</span></span></span>
<span><span class=c>#&gt;   name           </span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span>          </span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> <span style=color:#b00>NA</span>             </span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span> NC State       </span></span>
<span><span class=c>#&gt; <span style=color:#555>8</span> ECU</span></span>
<span></span><span></span>
<span><span class=nv>schools</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span></span>
<span>    name <span class=o>=</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>recode_values</a></span><span class=o>(</span></span>
<span>      <span class=nv>name</span>,</span>
<span>      <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"UNC"</span>, <span class=s>"Chapel Hill"</span><span class=o>)</span> <span class=o>~</span> <span class=s>"UNC Chapel Hill"</span>,</span>
<span>      <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"Duke"</span>, <span class=s>"Duke University"</span><span class=o>)</span> <span class=o>~</span> <span class=s>"Duke"</span>,</span>
<span>      default <span class=o>=</span> <span class=nv>name</span></span>
<span>    <span class=o>)</span></span>
<span>  <span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 8 Ã— 1</span></span></span>
<span><span class=c>#&gt;   name           </span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span>          </span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> <span style=color:#b00>NA</span>             </span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span> NC State       </span></span>
<span><span class=c>#&gt; <span style=color:#555>8</span> ECU</span></span>
<span></span></code></pre></div><p>But this &ldquo;partial update&rdquo; operation is so common that it really deserves its own name that doesn&rsquo;t require you to specify <code>default</code> and is type stable on the input. For that, we have
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>replace_values()</code></a>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>schools</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span></span>
<span>    name <span class=o>=</span> <span class=nv>name</span> <span class=o>|&gt;</span></span>
<span>      <span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>replace_values</a></span><span class=o>(</span></span>
<span>        <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"UNC"</span>, <span class=s>"Chapel Hill"</span><span class=o>)</span> <span class=o>~</span> <span class=s>"UNC Chapel Hill"</span>,</span>
<span>        <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"Duke"</span>, <span class=s>"Duke University"</span><span class=o>)</span> <span class=o>~</span> <span class=s>"Duke"</span></span>
<span>      <span class=o>)</span></span>
<span>  <span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 8 Ã— 1</span></span></span>
<span><span class=c>#&gt;   name           </span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span>          </span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> <span style=color:#b00>NA</span>             </span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span> NC State       </span></span>
<span><span class=c>#&gt; <span style=color:#555>8</span> ECU</span></span>
<span></span></code></pre></div><p>Notice how pipe friendly
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>replace_values()</code></a> is! The first input is your &ldquo;primary&rdquo; input, and you can expect the output to have the same type and size as that input.</p><p>Like
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a>,
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>replace_values()</code></a> has an alternative <code>from</code> and <code>to</code> API that works well with lookup tables and allows you to move your mapping out of the pipe chain:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>lookup</span> <span class=o>&lt;-</span> <span class=nf><a href=https://tibble.tidyverse.org/reference/tribble.html>tribble</a></span><span class=o>(</span></span>
<span>  <span class=o>~</span><span class=nv>from</span>             , <span class=o>~</span><span class=nv>to</span>               ,</span>
<span>  <span class=s>"UNC"</span>             , <span class=s>"UNC Chapel Hill"</span> ,</span>
<span>  <span class=s>"Chapel Hill"</span>     , <span class=s>"UNC Chapel Hill"</span> ,</span>
<span>  <span class=s>"Duke"</span>            , <span class=s>"Duke"</span>            ,</span>
<span>  <span class=s>"Duke University"</span> , <span class=s>"Duke"</span>            ,</span>
<span><span class=o>)</span></span>
<span></span>
<span><span class=nv>schools</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span>name <span class=o>=</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>replace_values</a></span><span class=o>(</span><span class=nv>name</span>, from <span class=o>=</span> <span class=nv>lookup</span><span class=o>$</span><span class=nv>from</span>, to <span class=o>=</span> <span class=nv>lookup</span><span class=o>$</span><span class=nv>to</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 8 Ã— 1</span></span></span>
<span><span class=c>#&gt;   name           </span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span>          </span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> <span style=color:#b00>NA</span>             </span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span> NC State       </span></span>
<span><span class=c>#&gt; <span style=color:#555>8</span> ECU</span></span>
<span></span></code></pre></div><p>An extremely neat feature of the <code>from</code> and <code>to</code> API is that they also take <em>lists</em> of vectors that describe the mapping, which has been designed to work elegantly with the fact that
<a href=https://tibble.tidyverse.org/reference/tribble.html target=_blank rel=noopener><code>tribble()</code></a> can create list columns, allowing you to further collapse this lookup table:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=c># Condensed lookup table with a `many:1` mapping per row</span></span>
<span><span class=nv>lookup</span> <span class=o>&lt;-</span> <span class=nf><a href=https://tibble.tidyverse.org/reference/tribble.html>tribble</a></span><span class=o>(</span></span>
<span>  <span class=o>~</span><span class=nv>from</span>                        , <span class=o>~</span><span class=nv>to</span>               ,</span>
<span>  <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"UNC"</span>, <span class=s>"Chapel Hill"</span><span class=o>)</span>      , <span class=s>"UNC Chapel Hill"</span> ,</span>
<span>  <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"Duke"</span>, <span class=s>"Duke University"</span><span class=o>)</span> , <span class=s>"Duke"</span>            ,</span>
<span><span class=o>)</span></span>
<span></span>
<span><span class=c># Note that `from` is a list column</span></span>
<span><span class=nv>lookup</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 2 Ã— 2</span></span></span>
<span><span class=c>#&gt;   from      to             </span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;list&gt;</span>    <span style=color:#555;font-style:italic>&lt;chr&gt;</span>          </span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> <span style=color:#555>&lt;chr [2]&gt;</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> <span style=color:#555>&lt;chr [2]&gt;</span> Duke</span></span>
<span></span><span></span>
<span><span class=nv>lookup</span><span class=o>$</span><span class=nv>from</span></span>
<span><span class=c>#&gt; [[1]]</span></span>
<span><span class=c>#&gt; [1] "UNC"         "Chapel Hill"</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; [[2]]</span></span>
<span><span class=c>#&gt; [1] "Duke"            "Duke University"</span></span>
<span></span><span></span>
<span><span class=c># Works the same as before</span></span>
<span><span class=nv>schools</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span>name <span class=o>=</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>replace_values</a></span><span class=o>(</span><span class=nv>name</span>, from <span class=o>=</span> <span class=nv>lookup</span><span class=o>$</span><span class=nv>from</span>, to <span class=o>=</span> <span class=nv>lookup</span><span class=o>$</span><span class=nv>to</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 8 Ã— 1</span></span></span>
<span><span class=c>#&gt;   name           </span></span>
<span><span class=c>#&gt;   <span style=color:#555;font-style:italic>&lt;chr&gt;</span>          </span></span>
<span><span class=c>#&gt; <span style=color:#555>1</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>2</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>3</span> <span style=color:#b00>NA</span>             </span></span>
<span><span class=c>#&gt; <span style=color:#555>4</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>5</span> Duke           </span></span>
<span><span class=c>#&gt; <span style=color:#555>6</span> UNC Chapel Hill</span></span>
<span><span class=c>#&gt; <span style=color:#555>7</span> NC State       </span></span>
<span><span class=c>#&gt; <span style=color:#555>8</span> ECU</span></span>
<span></span></code></pre></div><p>The formula interface of
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>replace_values()</code></a> is a bit of a Swiss Army knife for all manner of scenarios where you might have previously reached for
<a href=https://dplyr.tidyverse.org/reference/coalesce.html target=_blank rel=noopener><code>dplyr::coalesce()</code></a>,
<a href=https://dplyr.tidyverse.org/reference/na_if.html target=_blank rel=noopener><code>dplyr::na_if()</code></a>, or
<a href=https://tidyr.tidyverse.org/reference/replace_na.html target=_blank rel=noopener><code>tidyr::replace_na()</code></a>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>state</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"NC"</span>, <span class=s>"NY"</span>, <span class=s>"CA"</span>, <span class=kc>NA</span>, <span class=s>"NY"</span>, <span class=s>"Unknown"</span>, <span class=kc>NA</span><span class=o>)</span></span>
<span></span>
<span><span class=c># Replace missing values with a constant</span></span>
<span><span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>replace_values</a></span><span class=o>(</span><span class=nv>state</span>, <span class=kc>NA</span> <span class=o>~</span> <span class=s>"Unknown"</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] "NC"      "NY"      "CA"      "Unknown" "NY"      "Unknown" "Unknown"</span></span>
<span></span><span></span>
<span><span class=c># Replace missing values with the corresponding value from another column</span></span>
<span><span class=nv>region</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"South"</span>, <span class=s>"North"</span>, <span class=s>"West"</span>, <span class=s>"East"</span>, <span class=s>"North"</span>, <span class=s>"Unknown"</span>, <span class=s>"West"</span><span class=o>)</span></span>
<span><span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>replace_values</a></span><span class=o>(</span><span class=nv>state</span>, <span class=kc>NA</span> <span class=o>~</span> <span class=nv>region</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] "NC"      "NY"      "CA"      "East"    "NY"      "Unknown" "West"</span></span>
<span></span><span></span>
<span><span class=c># Replace problematic values with a missing value</span></span>
<span><span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>replace_values</a></span><span class=o>(</span><span class=nv>state</span>, <span class=s>"Unknown"</span> <span class=o>~</span> <span class=kc>NA</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] "NC" "NY" "CA" NA   "NY" NA   NA</span></span>
<span></span><span></span>
<span><span class=c># Standardize multiple issues at once</span></span>
<span><span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>replace_values</a></span><span class=o>(</span><span class=nv>state</span>, <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=kc>NA</span>, <span class=s>"Unknown"</span><span class=o>)</span> <span class=o>~</span> <span class=s>"&lt;missing&gt;"</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] "NC"        "NY"        "CA"        "&lt;missing&gt;" "NY"        "&lt;missing&gt;"</span></span>
<span><span class=c>#&gt; [7] "&lt;missing&gt;"</span></span>
<span></span></code></pre></div><p>We also think it better expresses intent than
<a href=https://dplyr.tidyverse.org/reference/if_else.html target=_blank rel=noopener><code>if_else()</code></a> or
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a> when performing a partial update:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=c># - Type stable on `x`</span></span>
<span><span class=c># - Intent of "partially updating" `state` is clear</span></span>
<span><span class=c># - Pipe friendly</span></span>
<span><span class=nv>state</span> <span class=o>|&gt;</span> <span class=nf><a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html>replace_values</a></span><span class=o>(</span><span class=kc>NA</span> <span class=o>~</span> <span class=s>"Unknown"</span><span class=o>)</span></span>
<span></span>
<span><span class=c># Historically this has been "the way" to do a partial update,</span></span>
<span><span class=c># but it's odd that the "primary" input is at the end!</span></span>
<span><span class=nf><a href=https://dplyr.tidyverse.org/reference/if_else.html>if_else</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/base/NA.html>is.na</a></span><span class=o>(</span><span class=nv>state</span><span class=o>)</span>, <span class=s>"Unknown"</span>, <span class=nv>state</span><span class=o>)</span></span>
<span><span class=nf><a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html>case_when</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/base/NA.html>is.na</a></span><span class=o>(</span><span class=nv>state</span><span class=o>)</span> <span class=o>~</span> <span class=s>"Unknown"</span>, .default <span class=o>=</span> <span class=nv>state</span><span class=o>)</span></span></code></pre></div><p>If you&rsquo;re a package author, you&rsquo;ll probably also be interested in
<a href=https://vctrs.r-lib.org/reference/vec-recode-and-replace.html target=_blank rel=noopener><code>vctrs::vec_recode_values()</code></a> and
<a href=https://vctrs.r-lib.org/reference/vec-recode-and-replace.html target=_blank rel=noopener><code>vctrs::vec_replace_values()</code></a>, which are low dependency functions that power the dplyr variants.</p><h3 id=what-about-case_match>What about <code>case_match()</code>?
<a href=#what-about-case_match><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>We&rsquo;ve soft-deprecated
<a href=https://dplyr.tidyverse.org/reference/case_match.html target=_blank rel=noopener><code>case_match()</code></a> in favor of
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a>, which is a drop in replacement.</p><p><a href=https://dplyr.tidyverse.org/reference/case_match.html target=_blank rel=noopener><code>case_match()</code></a> was an incremental step towards this recoding family, but:</p><ul><li>It has a pretty confusing name compared with
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>recode_values()</code></a>.</li><li>It lacked a way to work with lookup tables, like <code>from</code> and <code>to</code>.</li><li>It lacks a replacement variant, like
<a href=https://dplyr.tidyverse.org/reference/recode-and-replace-values.html target=_blank rel=noopener><code>replace_values()</code></a>.</li></ul><p>Rather than keeping
<a href=https://dplyr.tidyverse.org/reference/case_match.html target=_blank rel=noopener><code>case_match()</code></a> around indefinitely, we&rsquo;ve decided to initiate the process of its removal since it was only introduced in dplyr 1.1.0.</p><h2 id=deprecations>Deprecations
<a href=#deprecations><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>dplyr 1.2.0 advances the lifecycle stage of many deprecated functions. These deprecations have been in the works for many years now, due to our slow and very deliberate deprecation process via the
<a href=https://lifecycle.r-lib.org/ target=_blank rel=noopener>lifecycle package</a>. We&rsquo;ll cover the highlights, and you can find the full list
<a href=https://github.com/tidyverse/dplyr/releases/tag/v1.2.0 target=_blank rel=noopener>here</a>.</p><p>For any packages that we broke via these deprecations, we provided a pull request (or at least an issue, for complex cases) and some advance warning. We semi-automated some of this process using Claude Code, which you can read about
<a href=https://blog.davisvaughan.com/posts/2026-01-09-claude-200-pull-requests/ target=_blank rel=noopener>here</a>.</p><ul><li><p>All underscored verbs have moved from deprecated to defunct, such as
<a href=https://dplyr.tidyverse.org/reference/defunct-lazyeval.html target=_blank rel=noopener><code>mutate_()</code></a> and
<a href=https://dplyr.tidyverse.org/reference/defunct-lazyeval.html target=_blank rel=noopener><code>arrange_()</code></a>. These have been deprecated since dplyr 0.7.0 back in 2017 (yes, 2017!!). Use the non-underscored versions, see
<a href=https://dplyr.tidyverse.org/articles/programming.html target=_blank rel=noopener><code>vignette("programming")</code></a> for details.</p></li><li><p><a href=https://dplyr.tidyverse.org/reference/defunct-each.html target=_blank rel=noopener><code>mutate_each()</code></a> and
<a href=https://dplyr.tidyverse.org/reference/defunct-each.html target=_blank rel=noopener><code>summarise_each()</code></a> have moved from deprecated to defunct. These were also deprecated in dplyr 0.7.0. Use
<a href=https://dplyr.tidyverse.org/reference/mutate.html target=_blank rel=noopener><code>mutate()</code></a> and
<a href=https://dplyr.tidyverse.org/reference/summarise.html target=_blank rel=noopener><code>summarise()</code></a> with
<a href=https://dplyr.tidyverse.org/reference/across.html target=_blank rel=noopener><code>across()</code></a> instead.</p></li><li><p>Returning more or less than 1 row per group in
<a href=https://dplyr.tidyverse.org/reference/summarise.html target=_blank rel=noopener><code>summarise()</code></a> has moved from deprecated to defunct. This was deprecated in dplyr 1.1.0 in 2023 after we realized that this was an unsafe feature for
<a href=https://dplyr.tidyverse.org/reference/summarise.html target=_blank rel=noopener><code>summarise()</code></a>, which you should always expect to return exactly 1 row per group.
<a href=https://dplyr.tidyverse.org/reference/reframe.html target=_blank rel=noopener><code>reframe()</code></a> is a drop in replacement when you need this.</p></li><li><p>In
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a>, supplying all size 1 LHS inputs along with a size >1 RHS input is now soft-deprecated. This is an improper usage of
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a> that should instead be a series of if statements, like:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=c1># Scalars!</span>
<span class=n>code</span> <span class=o>&lt;-</span> <span class=m>1L</span>
<span class=n>flavor</span> <span class=o>&lt;-</span> <span class=s>&#34;vanilla&#34;</span>

<span class=c1># Improper usage:</span>
<span class=nf>case_when</span><span class=p>(</span>
  <span class=n>code</span> <span class=o>==</span> <span class=m>1L</span> <span class=o>&amp;&amp;</span> <span class=n>flavor</span> <span class=o>==</span> <span class=s>&#34;chocolate&#34;</span> <span class=o>~</span> <span class=n>x</span><span class=p>,</span>
  <span class=n>code</span> <span class=o>==</span> <span class=m>1L</span> <span class=o>&amp;&amp;</span> <span class=n>flavor</span> <span class=o>==</span> <span class=s>&#34;vanilla&#34;</span> <span class=o>~</span> <span class=n>y</span><span class=p>,</span>
  <span class=n>code</span> <span class=o>==</span> <span class=m>2L</span> <span class=o>&amp;&amp;</span> <span class=n>flavor</span> <span class=o>==</span> <span class=s>&#34;vanilla&#34;</span> <span class=o>~</span> <span class=n>z</span><span class=p>,</span>
  <span class=n>.default</span> <span class=o>=</span> <span class=n>default</span>
<span class=p>)</span>

<span class=c1># Recommended:</span>
<span class=nf>if </span><span class=p>(</span><span class=n>code</span> <span class=o>==</span> <span class=m>1L</span> <span class=o>&amp;&amp;</span> <span class=n>flavor</span> <span class=o>==</span> <span class=s>&#34;chocolate&#34;</span><span class=p>)</span> <span class=p>{</span>
  <span class=n>x</span>
<span class=p>}</span> <span class=n>else</span> <span class=nf>if </span><span class=p>(</span><span class=n>code</span> <span class=o>==</span> <span class=m>1L</span> <span class=o>&amp;&amp;</span> <span class=n>flavor</span> <span class=o>==</span> <span class=s>&#34;vanilla&#34;</span><span class=p>)</span> <span class=p>{</span>
  <span class=n>y</span>
<span class=p>}</span> <span class=n>else</span> <span class=nf>if </span><span class=p>(</span><span class=n>code</span> <span class=o>==</span> <span class=m>2L</span> <span class=o>&amp;&amp;</span> <span class=n>flavor</span> <span class=o>==</span> <span class=s>&#34;vanilla&#34;</span><span class=p>)</span> <span class=p>{</span>
  <span class=n>z</span>
<span class=p>}</span> <span class=n>else</span> <span class=p>{</span>
  <span class=n>default</span>
<span class=p>}</span>
</code></pre></div><p>The recycling behavior that allows this style of
<a href=https://dplyr.tidyverse.org/reference/case-and-replace-when.html target=_blank rel=noopener><code>case_when()</code></a> to work is unsafe, and can result in silent bugs that we&rsquo;d like to guard against with an error in the future. See
<a href=https://github.com/tidyverse/dplyr/issues/7082 target=_blank rel=noopener>this issue</a> for context.</p></li><li><p>The <code>dplyr.legacy_locale</code> global option is soft-deprecated. If you used this to affect the ordering of
<a href=https://dplyr.tidyverse.org/reference/arrange.html target=_blank rel=noopener><code>arrange()</code></a>, use <code>arrange(.locale =)</code> instead. If you used this to affect the ordering of <code>group_by() |> summarise()</code>, follow up with an additional call to <code>arrange(.locale =)</code> instead.</p></li><li><p><a href=https://dplyr.tidyverse.org/reference/if_else.html target=_blank rel=noopener><code>if_else()</code></a> no longer allows <code>condition</code> to be a logical array. It must be a logical vector with no <code>dim</code> attribute.</p></li><li><p>We&rsquo;ve removed a number of previously defunct functions, shrinking the footprint of dplyr&rsquo;s API:</p><ul><li><code>id()</code></li><li><code>failwith()</code></li><li><code>select_vars()</code> and <code>select_vars_()</code></li><li><code>rename_vars()</code> and <code>rename_vars_()</code></li><li><code>select_var()</code></li><li><code>current_vars()</code></li><li><code>bench_tbls()</code>, <code>compare_tbls()</code>, <code>compare_tbls2()</code>, <code>eval_tbls()</code>, and <code>eval_tbls2()</code></li><li><code>location()</code> and <code>changes()</code></li></ul></li></ul><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>We&rsquo;d like to thank all 177 contributors who help in someway, whether it was filing issues or contributing code and documentation:
<a href=https://github.com/abalter target=_blank rel=noopener>@abalter</a>,
<a href=https://github.com/abichat target=_blank rel=noopener>@abichat</a>,
<a href=https://github.com/adupaix target=_blank rel=noopener>@adupaix</a>,
<a href=https://github.com/AlexBainton target=_blank rel=noopener>@AlexBainton</a>,
<a href=https://github.com/alexmcsw target=_blank rel=noopener>@alexmcsw</a>,
<a href=https://github.com/AltfunsMA target=_blank rel=noopener>@AltfunsMA</a>,
<a href=https://github.com/AmeliaMN target=_blank rel=noopener>@AmeliaMN</a>,
<a href=https://github.com/antdurrant target=_blank rel=noopener>@antdurrant</a>,
<a href=https://github.com/AnthonyEbert target=_blank rel=noopener>@AnthonyEbert</a>,
<a href=https://github.com/apalacio9502 target=_blank rel=noopener>@apalacio9502</a>,
<a href=https://github.com/apeterson91 target=_blank rel=noopener>@apeterson91</a>,
<a href=https://github.com/arnaudgallou target=_blank rel=noopener>@arnaudgallou</a>,
<a href=https://github.com/awpsoras target=_blank rel=noopener>@awpsoras</a>,
<a href=https://github.com/bakaburg1 target=_blank rel=noopener>@bakaburg1</a>,
<a href=https://github.com/barnabasharris target=_blank rel=noopener>@barnabasharris</a>,
<a href=https://github.com/BHII-KSC target=_blank rel=noopener>@BHII-KSC</a>,
<a href=https://github.com/bholtemeyer target=_blank rel=noopener>@bholtemeyer</a>,
<a href=https://github.com/billdenney target=_blank rel=noopener>@billdenney</a>,
<a href=https://github.com/bounlu target=_blank rel=noopener>@bounlu</a>,
<a href=https://github.com/brendensm target=_blank rel=noopener>@brendensm</a>,
<a href=https://github.com/bridroberts1 target=_blank rel=noopener>@bridroberts1</a>,
<a href=https://github.com/brookslogan target=_blank rel=noopener>@brookslogan</a>,
<a href=https://github.com/catalamarti target=_blank rel=noopener>@catalamarti</a>,
<a href=https://github.com/cboettig target=_blank rel=noopener>@cboettig</a>,
<a href=https://github.com/cbrnr target=_blank rel=noopener>@cbrnr</a>,
<a href=https://github.com/ccani007 target=_blank rel=noopener>@ccani007</a>,
<a href=https://github.com/charliejhadley target=_blank rel=noopener>@charliejhadley</a>,
<a href=https://github.com/ChrisHIV target=_blank rel=noopener>@ChrisHIV</a>,
<a href=https://github.com/ChristianRohde target=_blank rel=noopener>@ChristianRohde</a>,
<a href=https://github.com/cobac target=_blank rel=noopener>@cobac</a>,
<a href=https://github.com/conig target=_blank rel=noopener>@conig</a>,
<a href=https://github.com/const-ae target=_blank rel=noopener>@const-ae</a>,
<a href=https://github.com/Copilot target=_blank rel=noopener>@Copilot</a>,
<a href=https://github.com/d-morrison target=_blank rel=noopener>@d-morrison</a>,
<a href=https://github.com/DanChaltiel target=_blank rel=noopener>@DanChaltiel</a>,
<a href=https://github.com/daniel-simeone target=_blank rel=noopener>@daniel-simeone</a>,
<a href=https://github.com/DanielBraddock target=_blank rel=noopener>@DanielBraddock</a>,
<a href=https://github.com/david-romano target=_blank rel=noopener>@david-romano</a>,
<a href=https://github.com/davidrsch target=_blank rel=noopener>@davidrsch</a>,
<a href=https://github.com/davidss101 target=_blank rel=noopener>@davidss101</a>,
<a href=https://github.com/DavisVaughan target=_blank rel=noopener>@DavisVaughan</a>,
<a href=https://github.com/dcaud target=_blank rel=noopener>@dcaud</a>,
<a href=https://github.com/deschen1 target=_blank rel=noopener>@deschen1</a>,
<a href=https://github.com/DesiQuintans target=_blank rel=noopener>@DesiQuintans</a>,
<a href=https://github.com/devster31 target=_blank rel=noopener>@devster31</a>,
<a href=https://github.com/dkutner target=_blank rel=noopener>@dkutner</a>,
<a href=https://github.com/dmuenz target=_blank rel=noopener>@dmuenz</a>,
<a href=https://github.com/ds-jim target=_blank rel=noopener>@ds-jim</a>,
<a href=https://github.com/eitsupi target=_blank rel=noopener>@eitsupi</a>,
<a href=https://github.com/EmilHvitfeldt target=_blank rel=noopener>@EmilHvitfeldt</a>,
<a href=https://github.com/etiennebacher target=_blank rel=noopener>@etiennebacher</a>,
<a href=https://github.com/eutwt target=_blank rel=noopener>@eutwt</a>,
<a href=https://github.com/EvertonTLima target=_blank rel=noopener>@EvertonTLima</a>,
<a href=https://github.com/ferreirafm target=_blank rel=noopener>@ferreirafm</a>,
<a href=https://github.com/gaborcsardi target=_blank rel=noopener>@gaborcsardi</a>,
<a href=https://github.com/GabryS3 target=_blank rel=noopener>@GabryS3</a>,
<a href=https://github.com/Gastonia02 target=_blank rel=noopener>@Gastonia02</a>,
<a href=https://github.com/GBarnsley target=_blank rel=noopener>@GBarnsley</a>,
<a href=https://github.com/gevro target=_blank rel=noopener>@gevro</a>,
<a href=https://github.com/ggrothendieck target=_blank rel=noopener>@ggrothendieck</a>,
<a href=https://github.com/GischD target=_blank rel=noopener>@GischD</a>,
<a href=https://github.com/gks281263 target=_blank rel=noopener>@gks281263</a>,
<a href=https://github.com/gracehartley target=_blank rel=noopener>@gracehartley</a>,
<a href=https://github.com/graphdr target=_blank rel=noopener>@graphdr</a>,
<a href=https://github.com/hadley target=_blank rel=noopener>@hadley</a>,
<a href=https://github.com/heliconone target=_blank rel=noopener>@heliconone</a>,
<a href=https://github.com/Hzanib target=_blank rel=noopener>@Hzanib</a>,
<a href=https://github.com/ilovemane target=_blank rel=noopener>@ilovemane</a>,
<a href=https://github.com/ja-ortiz-uniandes target=_blank rel=noopener>@ja-ortiz-uniandes</a>,
<a href=https://github.com/jack-davison target=_blank rel=noopener>@jack-davison</a>,
<a href=https://github.com/james-kilgour target=_blank rel=noopener>@james-kilgour</a>,
<a href=https://github.com/JamesHWade target=_blank rel=noopener>@JamesHWade</a>,
<a href=https://github.com/jaymicro target=_blank rel=noopener>@jaymicro</a>,
<a href=https://github.com/JBrandenburg02 target=_blank rel=noopener>@JBrandenburg02</a>,
<a href=https://github.com/jc-usda target=_blank rel=noopener>@jc-usda</a>,
<a href=https://github.com/jennybc target=_blank rel=noopener>@jennybc</a>,
<a href=https://github.com/jeroenjanssens target=_blank rel=noopener>@jeroenjanssens</a>,
<a href=https://github.com/jestover target=_blank rel=noopener>@jestover</a>,
<a href=https://github.com/jl5000 target=_blank rel=noopener>@jl5000</a>,
<a href=https://github.com/jmbarbone target=_blank rel=noopener>@jmbarbone</a>,
<a href=https://github.com/john-b-edwards target=_blank rel=noopener>@john-b-edwards</a>,
<a href=https://github.com/jordanmross target=_blank rel=noopener>@jordanmross</a>,
<a href=https://github.com/joshua-theisen target=_blank rel=noopener>@joshua-theisen</a>,
<a href=https://github.com/jrwinget target=_blank rel=noopener>@jrwinget</a>,
<a href=https://github.com/juliaapolonio target=_blank rel=noopener>@juliaapolonio</a>,
<a href=https://github.com/jxu target=_blank rel=noopener>@jxu</a>,
<a href=https://github.com/KaiAragaki target=_blank rel=noopener>@KaiAragaki</a>,
<a href=https://github.com/kiki830621 target=_blank rel=noopener>@kiki830621</a>,
<a href=https://github.com/KittJonathan target=_blank rel=noopener>@KittJonathan</a>,
<a href=https://github.com/kleinerChemiker target=_blank rel=noopener>@kleinerChemiker</a>,
<a href=https://github.com/kletts target=_blank rel=noopener>@kletts</a>,
<a href=https://github.com/krlmlr target=_blank rel=noopener>@krlmlr</a>,
<a href=https://github.com/ks8997 target=_blank rel=noopener>@ks8997</a>,
<a href=https://github.com/kylebutts target=_blank rel=noopener>@kylebutts</a>,
<a href=https://github.com/larsentom target=_blank rel=noopener>@larsentom</a>,
<a href=https://github.com/latot target=_blank rel=noopener>@latot</a>,
<a href=https://github.com/lboller-pwbm target=_blank rel=noopener>@lboller-pwbm</a>,
<a href=https://github.com/lionel- target=_blank rel=noopener>@lionel-</a>,
<a href=https://github.com/Longfei2 target=_blank rel=noopener>@Longfei2</a>,
<a href=https://github.com/lschneiderbauer target=_blank rel=noopener>@lschneiderbauer</a>,
<a href=https://github.com/LukasTang target=_blank rel=noopener>@LukasTang</a>,
<a href=https://github.com/lukebandy target=_blank rel=noopener>@lukebandy</a>,
<a href=https://github.com/maciekbanas target=_blank rel=noopener>@maciekbanas</a>,
<a href=https://github.com/maelle target=_blank rel=noopener>@maelle</a>,
<a href=https://github.com/marcuslehr target=_blank rel=noopener>@marcuslehr</a>,
<a href=https://github.com/Mark-AP target=_blank rel=noopener>@Mark-AP</a>,
<a href=https://github.com/markwestcott34 target=_blank rel=noopener>@markwestcott34</a>,
<a href=https://github.com/maskegger target=_blank rel=noopener>@maskegger</a>,
<a href=https://github.com/matiasandina target=_blank rel=noopener>@matiasandina</a>,
<a href=https://github.com/matthewjnield target=_blank rel=noopener>@matthewjnield</a>,
<a href=https://github.com/mbcann01 target=_blank rel=noopener>@mbcann01</a>,
<a href=https://github.com/Meghansaha target=_blank rel=noopener>@Meghansaha</a>,
<a href=https://github.com/metanoid target=_blank rel=noopener>@metanoid</a>,
<a href=https://github.com/MichaelChirico target=_blank rel=noopener>@MichaelChirico</a>,
<a href=https://github.com/MikeJohnPage target=_blank rel=noopener>@MikeJohnPage</a>,
<a href=https://github.com/MilesMcBain target=_blank rel=noopener>@MilesMcBain</a>,
<a href=https://github.com/mine-cetinkaya-rundel target=_blank rel=noopener>@mine-cetinkaya-rundel</a>,
<a href=https://github.com/MohsenSoltanifar target=_blank rel=noopener>@MohsenSoltanifar</a>,
<a href=https://github.com/moodymudskipper target=_blank rel=noopener>@moodymudskipper</a>,
<a href=https://github.com/Moohan target=_blank rel=noopener>@Moohan</a>,
<a href=https://github.com/mp8 target=_blank rel=noopener>@mp8</a>,
<a href=https://github.com/mpsturbo target=_blank rel=noopener>@mpsturbo</a>,
<a href=https://github.com/mr-c target=_blank rel=noopener>@mr-c</a>,
<a href=https://github.com/muschellij2 target=_blank rel=noopener>@muschellij2</a>,
<a href=https://github.com/musvaage target=_blank rel=noopener>@musvaage</a>,
<a href=https://github.com/Mzhuk7 target=_blank rel=noopener>@Mzhuk7</a>,
<a href=https://github.com/nalimilan target=_blank rel=noopener>@nalimilan</a>,
<a href=https://github.com/nathanhaigh target=_blank rel=noopener>@nathanhaigh</a>,
<a href=https://github.com/nirguk target=_blank rel=noopener>@nirguk</a>,
<a href=https://github.com/nmercadeb target=_blank rel=noopener>@nmercadeb</a>,
<a href=https://github.com/olivermagnanimous target=_blank rel=noopener>@olivermagnanimous</a>,
<a href=https://github.com/olivroy target=_blank rel=noopener>@olivroy</a>,
<a href=https://github.com/orgadish target=_blank rel=noopener>@orgadish</a>,
<a href=https://github.com/pangchaoran target=_blank rel=noopener>@pangchaoran</a>,
<a href=https://github.com/paschatz target=_blank rel=noopener>@paschatz</a>,
<a href=https://github.com/prubin73 target=_blank rel=noopener>@prubin73</a>,
<a href=https://github.com/PStaus target=_blank rel=noopener>@PStaus</a>,
<a href=https://github.com/psychelzh target=_blank rel=noopener>@psychelzh</a>,
<a href=https://github.com/py9mrg target=_blank rel=noopener>@py9mrg</a>,
<a href=https://github.com/Raesu target=_blank rel=noopener>@Raesu</a>,
<a href=https://github.com/randyzwitch target=_blank rel=noopener>@randyzwitch</a>,
<a href=https://github.com/Raoul-Kima target=_blank rel=noopener>@Raoul-Kima</a>,
<a href=https://github.com/ReedMerrill target=_blank rel=noopener>@ReedMerrill</a>,
<a href=https://github.com/RodDalBen target=_blank rel=noopener>@RodDalBen</a>,
<a href=https://github.com/RodrigoZepeda target=_blank rel=noopener>@RodrigoZepeda</a>,
<a href=https://github.com/rossholmberg target=_blank rel=noopener>@rossholmberg</a>,
<a href=https://github.com/RoyalTS target=_blank rel=noopener>@RoyalTS</a>,
<a href=https://github.com/ryandward target=_blank rel=noopener>@ryandward</a>,
<a href=https://github.com/sbanville-delfi target=_blank rel=noopener>@sbanville-delfi</a>,
<a href=https://github.com/ScientiaFelis target=_blank rel=noopener>@ScientiaFelis</a>,
<a href=https://github.com/shirdekel target=_blank rel=noopener>@shirdekel</a>,
<a href=https://github.com/slager target=_blank rel=noopener>@slager</a>,
<a href=https://github.com/sschooler target=_blank rel=noopener>@sschooler</a>,
<a href=https://github.com/steffen-stell target=_blank rel=noopener>@steffen-stell</a>,
<a href=https://github.com/szimmer target=_blank rel=noopener>@szimmer</a>,
<a href=https://github.com/TheClownBongo target=_blank rel=noopener>@TheClownBongo</a>,
<a href=https://github.com/thomasjwood target=_blank rel=noopener>@thomasjwood</a>,
<a href=https://github.com/TimTaylor target=_blank rel=noopener>@TimTaylor</a>,
<a href=https://github.com/tlyons253 target=_blank rel=noopener>@tlyons253</a>,
<a href=https://github.com/tomalrussell target=_blank rel=noopener>@tomalrussell</a>,
<a href=https://github.com/tomwagstaff-opml target=_blank rel=noopener>@tomwagstaff-opml</a>,
<a href=https://github.com/torfason target=_blank rel=noopener>@torfason</a>,
<a href=https://github.com/Tyrrx target=_blank rel=noopener>@Tyrrx</a>,
<a href=https://github.com/Unaimend target=_blank rel=noopener>@Unaimend</a>,
<a href=https://github.com/VisruthSK target=_blank rel=noopener>@VisruthSK</a>,
<a href=https://github.com/vorpalvorpal target=_blank rel=noopener>@vorpalvorpal</a>,
<a href=https://github.com/walkerjameschris target=_blank rel=noopener>@walkerjameschris</a>,
<a href=https://github.com/wbvguo target=_blank rel=noopener>@wbvguo</a>,
<a href=https://github.com/wbzyl target=_blank rel=noopener>@wbzyl</a>,
<a href=https://github.com/wkumler target=_blank rel=noopener>@wkumler</a>,
<a href=https://github.com/yaboody target=_blank rel=noopener>@yaboody</a>,
<a href=https://github.com/yjunechoe target=_blank rel=noopener>@yjunechoe</a>,
<a href=https://github.com/ynsec37 target=_blank rel=noopener>@ynsec37</a>,
<a href=https://github.com/ywhcuhk target=_blank rel=noopener>@ywhcuhk</a>,
<a href=https://github.com/ZHBHSMILE target=_blank rel=noopener>@ZHBHSMILE</a>,
<a href=https://github.com/zhjx19 target=_blank rel=noopener>@zhjx19</a>, and
<a href=https://github.com/ZIBOWANGKANGYU target=_blank rel=noopener>@ZIBOWANGKANGYU</a>.</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#expanding-the-filter-family>Expanding the <code>filter()</code> family</a></li><li><a href=#reaching-recoding-nirvana>Reaching recoding nirvana</a></li><li><a href=#deprecations>Deprecations</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script src=/js/math-code.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>