<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>ragnar 0.3.0</title><meta property="og:title" content="ragnar 0.3.0"><meta property="og:description" content="The new release of ragnar adds faster ingestion, new embedding providers, improved retrieval, and new integrations for using ragnar stores from tools."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2026/01/ragnar-0-3-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="ragnar 0.3.0 - Tidyverse"><meta property="description" content="The new release of ragnar adds faster ingestion, new embedding providers, improved retrieval, and new integrations for using ragnar stores from tools."><meta property="og:description" content="The new release of ragnar adds faster ingestion, new embedding providers, improved retrieval, and new integrations for using ragnar stores from tools."><meta property="og:image" content="https://www.tidyverse.org/blog/2026/01/ragnar-0-3-0/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2026/01/ragnar-0-3-0/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>ragnar 0.3.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2026/01/ragnar-0-3-0/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/a-bunch-of-vegetables-being-washed-in-a-machine-72Xh7lH72k0>wei</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2026/01/27</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/ai/>ai</a>,
<a href=/tags/ragnar/>ragnar</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Tomasz Kalinowski</p><div class=article-content><h1 id=ragnar-030>ragnar 0.3.0
<a href=#ragnar-030><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>We&rsquo;re happy to announce that
<a href=https://ragnar.tidyverse.org/ target=_blank rel=noopener>ragnar 0.3.0</a> is now available on CRAN. ragnar is a tidy, transparent toolkit for building trustworthy retrieval-augmented generation (RAG) workflows: ingest documents, build a store, retrieve relevant chunks, and inspect exactly what&rsquo;s being fed to a model.</p><p>If you&rsquo;re new to ragnar, the quickest way to get oriented is the
<a href=https://ragnar.tidyverse.org/articles/ragnar.html target=_blank rel=noopener>Getting Started vignette</a>. If you&rsquo;ve already built a store with ragnar 0.2, this release focuses on making it easier to scale ingestion, use more embedding providers, and connect your store to the tools you already use.</p><p>You can install ragnar from CRAN with:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/utils/install.packages.html>install.packages</a></span><span class=o>(</span><span class=s>"ragnar"</span><span class=o>)</span></span></code></pre></div><p>This post covers the biggest user-facing changes in ragnar 0.3.0. For a complete list of changes, see the
<a href=https://github.com/tidyverse/ragnar/blob/main/NEWS.md target=_blank rel=noopener>NEWS</a>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://ragnar.tidyverse.org/>ragnar</a></span><span class=o>)</span></span></code></pre></div><h2 id=a-quick-refresher>A quick refresher
<a href=#a-quick-refresher><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>If you&rsquo;re already familiar with ragnar, feel free to skip this section.</p><p>ragnar helps you build retrieval-augmented generation (RAG) workflows by turning your trusted documents into a local store that you can query with both vector search (embeddings) and keyword search (BM25).</p><p>At the &ldquo;front door&rdquo;,
<a href=https://ragnar.tidyverse.org/reference/read_as_markdown.html target=_blank rel=noopener><code>read_as_markdown()</code></a> can ingest web pages, PDFs, Office documents, images (via OCR), archives, and even YouTube URLs (via transcripts), so you can usually start from the same sources you&rsquo;d use for manual research.</p><p>At a high level, a typical ragnar workflow has three parts:</p><ol><li>Build a store:<ul><li>Collect document sources (URLs or files) and convert them to Markdown with
<a href=https://ragnar.tidyverse.org/reference/read_as_markdown.html target=_blank rel=noopener><code>read_as_markdown()</code></a>.</li><li>Split documents into chunks with
<a href=https://ragnar.tidyverse.org/reference/markdown_chunk.html target=_blank rel=noopener><code>markdown_chunk()</code></a> (optionally adding context).</li><li>Embed and store chunks in a DuckDB-backed <code>RagnarStore</code>.</li></ul></li><li>Query and inspect the store:<ul><li>Retrieve chunks directly with
<a href=https://ragnar.tidyverse.org/reference/ragnar_retrieve.html target=_blank rel=noopener><code>ragnar_retrieve()</code></a>. It returns a tibble with scores, source information, and the chunk text (including columns like <code>origin</code>, <code>cosine_distance</code>, <code>bm25</code>, <code>context</code>, and <code>text</code>), so you can inspect exactly what will be passed downstream.</li><li>Use the Store Inspector or Embedding Atlas (
<a href=https://ragnar.tidyverse.org/reference/ragnar_store_inspect.html target=_blank rel=noopener><code>ragnar_store_inspect()</code></a> and
<a href=https://ragnar.tidyverse.org/reference/ragnar_store_atlas.html target=_blank rel=noopener><code>ragnar_store_atlas()</code></a>) to understand what&rsquo;s working, then iterate and go back to step 1 as needed.</li></ul></li><li>Connect the store to tools:<ul><li>Register a retrieval tool with an ellmer chat so an agent can search the store on demand.</li><li>Serve retrieval over MCP so external tools and agents can query the store directly.</li><li>Write your own loop using
<a href=https://ragnar.tidyverse.org/reference/ragnar_retrieve.html target=_blank rel=noopener><code>ragnar_retrieve()</code></a> or lower-level helpers like
<a href=https://ragnar.tidyverse.org/reference/ragnar_retrieve_vss.html target=_blank rel=noopener><code>ragnar_retrieve_vss()</code></a> and
<a href=https://ragnar.tidyverse.org/reference/ragnar_retrieve_bm25.html target=_blank rel=noopener><code>ragnar_retrieve_bm25()</code></a>.</li></ul></li></ol><h2 id=whats-new>What&rsquo;s new
<a href=#whats-new><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>This release focuses on four big improvements:</p><ul><li>Faster ingestion for large corpora with
<a href=https://ragnar.tidyverse.org/reference/ragnar_store_ingest.html target=_blank rel=noopener><code>ragnar_store_ingest()</code></a>.</li><li>Better retrieval with multi-query support and better de-duplication and de-overlapping of results.</li><li>New embedding providers: Azure OpenAI and Snowflake.</li><li>New integrations and tooling: serve a store over MCP, plus improved inspection with the Store Inspector and embedding atlas.</li></ul><p>In the sections below, we&rsquo;ll walk through each change in more detail.</p><h3 id=faster-ingestion-with-ragnar_store_ingest>Faster ingestion with <code>ragnar_store_ingest()</code>
<a href=#faster-ingestion-with-ragnar_store_ingest><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Ingestion is usually the slowest part of building a knowledge store.
<a href=https://ragnar.tidyverse.org/reference/ragnar_store_ingest.html target=_blank rel=noopener><code>ragnar_store_ingest()</code></a> parallelizes the document preparation step with
<a href=https://mirai.r-lib.org target=_blank rel=noopener>mirai</a>, and then writes prepared chunks to the store in the main process. It&rsquo;s designed to make it easy to ingest hundreds (or thousands) of pages without hand-rolling your own parallel pipeline.</p><p>Only preparation (reading, chunking, and optionally embedding) is parallelized; store writes still happen in the main process.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>store</span> <span class=o>&lt;-</span> <span class=nf><a href=https://ragnar.tidyverse.org/reference/ragnar_store_create.html>ragnar_store_create</a></span><span class=o>(</span></span>
<span>  <span class=s>"docs.ragnar.duckdb"</span>,</span>
<span>  embed <span class=o>=</span> \<span class=o>(</span><span class=nv>x</span><span class=o>)</span> <span class=nf>ragnar</span><span class=nf>::</span><span class=nf><a href=https://ragnar.tidyverse.org/reference/embed_ollama.html>embed_openai</a></span><span class=o>(</span><span class=nv>x</span>, model <span class=o>=</span> <span class=s>"text-embedding-3-small"</span><span class=o>)</span></span>
<span><span class=o>)</span></span>
<span></span>
<span><span class=nv>paths</span> <span class=o>&lt;-</span> <span class=nf><a href=https://ragnar.tidyverse.org/reference/ragnar_find_links.html>ragnar_find_links</a></span><span class=o>(</span><span class=s>"https://quarto.org/sitemap.xml"</span><span class=o>)</span></span>
<span></span>
<span><span class=nf><a href=https://ragnar.tidyverse.org/reference/ragnar_store_ingest.html>ragnar_store_ingest</a></span><span class=o>(</span><span class=nv>store</span>, <span class=nv>paths</span>, n_workers <span class=o>=</span> <span class=m>4</span>, prepare <span class=o>=</span> \<span class=o>(</span><span class=nv>path</span><span class=o>)</span> <span class=o>&#123;</span></span>
<span>  <span class=nv>path</span> <span class=o>|&gt;</span> <span class=nf><a href=https://ragnar.tidyverse.org/reference/read_as_markdown.html>read_as_markdown</a></span><span class=o>(</span><span class=o>)</span> <span class=o>|&gt;</span> <span class=nf><a href=https://ragnar.tidyverse.org/reference/markdown_chunk.html>markdown_chunk</a></span><span class=o>(</span><span class=o>)</span></span>
<span><span class=o>&#125;</span><span class=o>)</span></span></code></pre></div><h3 id=better-retrieval-multiple-queries-and-fewer-duplicates>Better retrieval: multiple queries and fewer duplicates
<a href=#better-retrieval-multiple-queries-and-fewer-duplicates><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Retrieval is where ragnar tries to be pragmatic: we run both semantic search (embeddings) and keyword search (BM25) because they fail in different ways. This release makes it easier to do that intentionally.</p><ul><li><a href=https://ragnar.tidyverse.org/reference/ragnar_retrieve.html target=_blank rel=noopener><code>ragnar_retrieve()</code></a> now accepts a <em>vector of queries</em>, so you can pass one query tuned for semantic search and one tuned for keywords.</li><li><a href=https://ragnar.tidyverse.org/reference/ragnar_register_tool_retrieve.html target=_blank rel=noopener><code>ragnar_register_tool_retrieve()</code></a> uses a new default tool name prefix: <code>search_{store@name}</code> (instead of <code>rag_retrieve_from_{store@name}</code>).</li><li>When registered with ellmer, ragnar&rsquo;s retrieval tool continues to avoid returning previously returned chunks, enabling deeper searches via repeated tool calls.</li><li>BM25 result ordering was corrected to sort by descending score.</li><li>Duplicate rows from
<a href=https://ragnar.tidyverse.org/reference/ragnar_retrieve.html target=_blank rel=noopener><code>ragnar_retrieve()</code></a> when running multiple queries were removed.</li></ul><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://ragnar.tidyverse.org/reference/ragnar_retrieve.html>ragnar_retrieve</a></span><span class=o>(</span></span>
<span>  <span class=nv>store</span>,</span>
<span>  <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span></span>
<span>    <span class=s>"How do I subset a data frame with a logical vector?"</span>,</span>
<span>    <span class=s>"subset dataframe logical vector"</span></span>
<span>  <span class=o>)</span>,</span>
<span>  top_k <span class=o>=</span> <span class=m>10</span></span>
<span><span class=o>)</span></span></code></pre></div><h3 id=new-embedding-providers-azure-openai-and-snowflake>New embedding providers: Azure OpenAI and Snowflake
<a href=#new-embedding-providers-azure-openai-and-snowflake><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>ragnar&rsquo;s embedding helpers continue to expand so you can use the infrastructure you already have:</p><ul><li><a href=https://ragnar.tidyverse.org/reference/embed_azure_openai.html target=_blank rel=noopener><code>embed_azure_openai()</code></a> supports embeddings from Azure AI Foundry.</li><li><a href=https://ragnar.tidyverse.org/reference/embed_snowflake.html target=_blank rel=noopener><code>embed_snowflake()</code></a> supports embeddings via the Snowflake Cortex Embedding API.</li></ul><p>These integrate the same way as the other providers: you choose an embed function when creating a store, and ragnar uses it during insertion and retrieval.</p><h3 id=better-document-reading-including-youtube-transcripts>Better document reading (including YouTube transcripts)
<a href=#better-document-reading-including-youtube-transcripts><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p><a href=https://ragnar.tidyverse.org/reference/read_as_markdown.html target=_blank rel=noopener><code>read_as_markdown()</code></a> is now more robust across common inputs, so you get higher-quality documents without having to hand-fix edge cases.</p><ul><li>Substantial improvements to HTML-to-Markdown conversion, including correct handling of nested code blocks, plus a range of other robustness fixes driven by real-world failure cases.</li><li><a href=https://ragnar.tidyverse.org/reference/read_as_markdown.html target=_blank rel=noopener><code>read_as_markdown()</code></a> once again fetches YouTube transcripts and now supports a <code>youtube_transcript_formatter</code> so you can include timestamps or links in the transcript output.</li><li>Reading plain text with non-ASCII content was fixed.</li><li><a href=https://ragnar.tidyverse.org/reference/read_as_markdown.html target=_blank rel=noopener><code>read_as_markdown()</code></a> gained an <code>origin</code> argument to control what gets recorded on returned documents.</li></ul><p>Together, these changes make ingestion more reliable, which helps improve retrieval quality downstream.</p><h3 id=new-integrations-serve-a-store-over-mcp>New integrations: serve a store over MCP
<a href=#new-integrations-serve-a-store-over-mcp><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p><a href=https://ragnar.tidyverse.org/reference/mcp_serve_store.html target=_blank rel=noopener><code>mcp_serve_store()</code></a> lets you expose a <code>RagnarStore</code> as an MCP tool. This is particularly useful if you already have a local store and want an MCP-enabled client (like Codex CLI or Claude Code) to query it directly.</p><p>For example, with Codex CLI you can add something like this to <code>~/.codex/config.toml</code>:</p><div class=highlight><pre class=chroma><code class=language-toml data-lang=toml><span class=p>[</span><span class=nx>mcp_servers</span><span class=p>.</span><span class=nx>my_store</span><span class=p>]</span>
<span class=nx>command</span> <span class=p>=</span> <span class=s2>&#34;Rscript&#34;</span>
<span class=nx>args</span> <span class=p>=</span> <span class=p>[</span>
  <span class=s2>&#34;-e&#34;</span><span class=p>,</span>
  <span class=s2>&#34;ragnar::mcp_serve_store(&#39;docs.ragnar.duckdb&#39;, top_k=10)&#34;</span>
<span class=p>]</span>
</code></pre></div><p>This runs a long-lived R process that exposes retrieval over MCP.</p><h3 id=new-ways-to-inspect-a-store>New ways to inspect a store
<a href=#new-ways-to-inspect-a-store><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>ragnar now has more tools to help you understand what your store contains and why retrieval is (or isn&rsquo;t) working:</p><ul><li>The Store Inspector received a number of usability improvements (keyboard shortcuts, improved preview, better metadata display, and general bug fixes).</li><li><a href=https://ragnar.tidyverse.org/reference/ragnar_store_atlas.html target=_blank rel=noopener><code>ragnar_store_atlas()</code></a> integrates with the Embedding Atlas project to visualize your embedding space (via reticulate).</li></ul><p>The Store Inspector makes it easy to iterate on retrieval: try a query, compare vector search and BM25, and inspect the underlying chunks and metadata that were returned. The screenshots below show a store built from the Quarto documentation.</p><figure><img src=ragnar-store-inspector.png alt="The Store Inspector, showing retrieval results and a document preview."><figcaption aria-hidden=true>The Store Inspector, showing retrieval results and a document preview.</figcaption></figure><p>If you&rsquo;re not sure whether a store &ldquo;looks right&rdquo;,
<a href=https://ragnar.tidyverse.org/reference/ragnar_store_atlas.html target=_blank rel=noopener><code>ragnar_store_atlas()</code></a> gives you a high-level view of how your documents cluster in embedding space. It&rsquo;s a useful way to spot outliers, see which areas of the space match a query, and explore how clusters relate back to your sources.</p><figure><img src=ragnar-store-atlas.png alt="An embedding atlas view of a ragnar store, with query highlighting and metadata filters."><figcaption aria-hidden=true>An embedding atlas view of a ragnar store, with query highlighting and metadata filters.</figcaption></figure><h2 id=get-started>Get started
<a href=#get-started><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Install ragnar with <code>install.packages("ragnar")</code>, then work through the
<a href=https://ragnar.tidyverse.org/articles/ragnar.html target=_blank rel=noopener>Getting Started vignette</a>. For details on individual functions, see the
<a href=https://ragnar.tidyverse.org/reference/ target=_blank rel=noopener>function reference</a>. For the full changelog, see
<a href=https://github.com/tidyverse/ragnar/blob/main/NEWS.md target=_blank rel=noopener>NEWS</a>.</p><p>ragnar is designed to help you build trustworthy RAG workflows by making it easy to inspect what gets retrieved and what ultimately gets sent to your model. If you try ragnar 0.3.0, we&rsquo;d love to hear what you&rsquo;re using it for in
<a href=https://github.com/tidyverse/ragnar/discussions target=_blank rel=noopener>GitHub Discussions</a>.</p><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Thanks to everyone who contributed to ragnar 0.3.0 through code, issues, testing, and feedback:
<a href=https://github.com/agricolamz target=_blank rel=noopener>@agricolamz</a>,
<a href=https://github.com/AlekFisher target=_blank rel=noopener>@AlekFisher</a>,
<a href=https://github.com/bianchenhao target=_blank rel=noopener>@bianchenhao</a>,
<a href=https://github.com/brooklynbagel target=_blank rel=noopener>@brooklynbagel</a>,
<a href=https://github.com/bshashikadze target=_blank rel=noopener>@bshashikadze</a>,
<a href=https://github.com/christophscheuch target=_blank rel=noopener>@christophscheuch</a>,
<a href=https://github.com/cstubben target=_blank rel=noopener>@cstubben</a>,
<a href=https://github.com/dfalbel target=_blank rel=noopener>@dfalbel</a>,
<a href=https://github.com/eschillerstrom-usfws target=_blank rel=noopener>@eschillerstrom-usfws</a>,
<a href=https://github.com/grantmcdermott target=_blank rel=noopener>@grantmcdermott</a>,
<a href=https://github.com/howardbaik target=_blank rel=noopener>@howardbaik</a>,
<a href=https://github.com/jeroenjanssens target=_blank rel=noopener>@jeroenjanssens</a>,
<a href=https://github.com/jhbrut target=_blank rel=noopener>@jhbrut</a>,
<a href=https://github.com/JosiahParry target=_blank rel=noopener>@JosiahParry</a>,
<a href=https://github.com/jpmarindiaz target=_blank rel=noopener>@jpmarindiaz</a>,
<a href=https://github.com/luisDVA target=_blank rel=noopener>@luisDVA</a>,
<a href=https://github.com/mattwarkentin target=_blank rel=noopener>@mattwarkentin</a>,
<a href=https://github.com/Rednose22 target=_blank rel=noopener>@Rednose22</a>,
<a href=https://github.com/shikokuchuo target=_blank rel=noopener>@shikokuchuo</a>,
<a href=https://github.com/smach target=_blank rel=noopener>@smach</a>,
<a href=https://github.com/SokolovAnatoliy target=_blank rel=noopener>@SokolovAnatoliy</a>,
<a href=https://github.com/t-kalinowski target=_blank rel=noopener>@t-kalinowski</a>,
<a href=https://github.com/thisisnic target=_blank rel=noopener>@thisisnic</a>, and
<a href=https://github.com/vrognas target=_blank rel=noopener>@vrognas</a>.</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#a-quick-refresher>A quick refresher</a></li><li><a href=#whats-new>What&rsquo;s new</a></li><li><a href=#get-started>Get started</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script src=/js/math-code.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>