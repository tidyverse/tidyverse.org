<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>yaml12: YAML 1.2 for R and Python</title><meta property="og:title" content="yaml12: YAML 1.2 for R and Python"><meta property="og:description" content="We’re pleased to announce two new YAML 1.2 packages: `yaml12` for R and `py-yaml12` for Python. Both are implemented in Rust and designed for fast, predictable YAML 1.2 parsing, with safe opt-in tag handling and document stream support."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2026/01/yaml12-0-1-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="yaml12: YAML 1.2 for R and Python - Tidyverse"><meta property="description" content="We’re pleased to announce two new YAML 1.2 packages: `yaml12` for R and `py-yaml12` for Python. Both are implemented in Rust and designed for fast, predictable YAML 1.2 parsing, with safe opt-in tag handling and document stream support."><meta property="og:description" content="We’re pleased to announce two new YAML 1.2 packages: `yaml12` for R and `py-yaml12` for Python. Both are implemented in Rust and designed for fast, predictable YAML 1.2 parsing, with safe opt-in tag handling and document stream support."><meta property="og:image" content="https://www.tidyverse.org/blog/2026/01/yaml12-0-1-0/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2026/01/yaml12-0-1-0/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>yaml12: YAML 1.2 for R and Python</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2026/01/yaml12-0-1-0/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/green-plant-on-brown-clay-pot-PAEwrnasOvY>Devin H</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2026/01/07</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/python/>python</a>,
<a href=/tags/r/>r</a>,
<a href=/tags/rust/>rust</a>,
<a href=/tags/yaml/>yaml</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Tomasz Kalinowski</p><div class=article-content><p>Today we&rsquo;re announcing two new packages for parsing and emitting YAML 1.2:
<a href=https://posit-dev.github.io/r-yaml12/ target=_blank rel=noopener><code>yaml12</code></a> for R and
<a href=https://posit-dev.github.io/py-yaml12/ target=_blank rel=noopener><code>py-yaml12</code></a> for Python.</p><p>Both packages are implemented in Rust and built on the excellent
<a href=https://github.com/saphyr-rs/saphyr target=_blank rel=noopener><code>saphyr</code></a> crate. They share the same design goals: predictable YAML 1.2 typing, explicit control over tag interpretation via handlers, and clean round-tripping of unhandled tags.</p><p>Before we get into the details, a quick note on how this relates to the existing R
<a href=https://github.com/r-lib/yaml target=_blank rel=noopener><code>yaml</code></a> package. The R <code>yaml</code> package is now in
<a href=https://github.com/r-lib target=_blank rel=noopener>r-lib</a>, and we&rsquo;ve taken over maintenance after years of stewardship by its original author, Jeremy Stephens, and later by Shawn Garbett.</p><p>If <code>yaml</code> already works for you, there&rsquo;s no need to switch. <code>yaml12</code> is an experiment providing consistent R and Python bindings to a new Rust library specifically for YAML 1.2, which, as we&rsquo;ll see below, has some particular advantages.</p><h2 id=install>Install
<a href=#install><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Install the R package from CRAN:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/utils/install.packages.html>install.packages</a></span><span class=o>(</span><span class=s>"yaml12"</span><span class=o>)</span></span></code></pre></div><p>Install the Python package from PyPI:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>pip install py-yaml12
</code></pre></div><h2 id=quick-start-r>Quick start (R)
<a href=#quick-start-r><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://posit-dev.github.io/r-yaml12/>yaml12</a></span><span class=o>)</span></span>
<span></span>
<span><span class=nv>yaml</span> <span class=o>&lt;-</span> <span class=s>"</span></span>
<span><span class=s>title: A modern YAML parser and emitter written in Rust</span></span>
<span><span class=s>properties: [fast, correct, safe, simple]</span></span>
<span><span class=s>"</span></span>
<span></span>
<span><span class=nv>doc</span> <span class=o>&lt;-</span> <span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html>parse_yaml</a></span><span class=o>(</span><span class=nv>yaml</span><span class=o>)</span></span>
<span><span class=nf><a href=https://rdrr.io/r/utils/str.html>str</a></span><span class=o>(</span><span class=nv>doc</span><span class=o>)</span></span>
<span><span class=c>#&gt; List of 2</span></span>
<span><span class=c>#&gt;  $ title     : chr "A modern YAML parser and emitter written in Rust"</span></span>
<span><span class=c>#&gt;  $ properties: chr [1:4] "fast" "correct" "safe" "simple"</span></span>
<span></span></code></pre></div><p>Round-trip back to YAML:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>obj</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/list.html>list</a></span><span class=o>(</span></span>
<span>  seq <span class=o>=</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span>,</span>
<span>  map <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/list.html>list</a></span><span class=o>(</span>key <span class=o>=</span> <span class=s>"value"</span><span class=o>)</span>,</span>
<span>  tagged <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/structure.html>structure</a></span><span class=o>(</span><span class=s>"1 + 1"</span>, yaml_tag <span class=o>=</span> <span class=s>"!expr"</span><span class=o>)</span></span>
<span><span class=o>)</span></span>
<span><span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/format_yaml.html>write_yaml</a></span><span class=o>(</span><span class=nv>obj</span><span class=o>)</span></span>
<span><span class=c>#&gt; ---</span></span>
<span><span class=c>#&gt; seq:</span></span>
<span><span class=c>#&gt;   - 1</span></span>
<span><span class=c>#&gt;   - 2</span></span>
<span><span class=c>#&gt; map:</span></span>
<span><span class=c>#&gt;   key: value</span></span>
<span><span class=c>#&gt; tagged: !expr 1 + 1</span></span>
<span><span class=c>#&gt; ...</span></span>
<span></span><span></span>
<span><span class=nf><a href=https://rdrr.io/r/base/identical.html>identical</a></span><span class=o>(</span><span class=nv>obj</span>, <span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html>parse_yaml</a></span><span class=o>(</span><span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/format_yaml.html>format_yaml</a></span><span class=o>(</span><span class=nv>obj</span><span class=o>)</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] TRUE</span></span>
<span></span></code></pre></div><h2 id=quick-start-python>Quick start (Python)
<a href=#quick-start-python><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><div class=highlight><pre class=chroma><code class=language-r data-lang=r># Install from PyPI:
#   python -m pip install py-yaml12
from yaml12 import parse_yaml, format_yaml, Yaml

yaml_text = """
title: A modern YAML parser and emitter written in Rust
properties: [fast, correct, safe, simple]
"""

doc = parse_yaml(yaml_text)

assert doc == {
  "title": "A modern YAML parser and emitter written in Rust",
  "properties": ["fast", "correct", "safe", "simple"]
}

assert doc == parse_yaml(format_yaml(doc))

# Tagged values
tagged = parse_yaml("!expr 1 + 1")
assert tagged == Yaml(value="1 + 1", tag="!expr")
</code></pre></div><h2 id=why-yaml-12>Why YAML 1.2?
<a href=#why-yaml-12><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>YAML 1.2 tightened up a number of ambiguous implicit conversions. In particular, plain scalars like <code>on</code>/<code>off</code>/<code>yes</code>/<code>no</code>/<code>y</code>/<code>n</code> are strings in the 1.2 core schema, and YAML 1.2 removed sexagesimal (base-60) parsing, so values like <code>1:2</code> are not treated as numbers.</p><p>YAML 1.2 also removed <code>!!timestamp</code>, <code>!!binary</code>, and <code>!!omap</code> from the set of core types, which further reduces implicit coercions (for example, getting a date/time object when you expected a string). If you want to interpret those values, you can do so explicitly via tags and handlers.</p><p>That makes YAML a better default for configuration files, front matter, and data interchange. You get fewer surprises and fewer &ldquo;why did this become a boolean?&rdquo; moments (or &ldquo;why did this become a date?").</p><h2 id=highlights>Highlights
<a href=#highlights><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><h3 id=a-consistent-api-in-r-and-python>A consistent API in R and Python
<a href=#a-consistent-api-in-r-and-python><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>The two packages intentionally share the same high-level functions:</p><ul><li><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html target=_blank rel=noopener><code>parse_yaml()</code></a>: Parse YAML from a string</li><li><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html target=_blank rel=noopener><code>read_yaml()</code></a>: Read YAML from a file</li><li><a href=https://posit-dev.github.io/r-yaml12/reference/format_yaml.html target=_blank rel=noopener><code>format_yaml()</code></a>: Format values as YAML (to a string)</li><li><a href=https://posit-dev.github.io/r-yaml12/reference/format_yaml.html target=_blank rel=noopener><code>write_yaml()</code></a>: Write YAML to a file (or stdout)</li></ul><h3 id=tags-and-handlers-opt-in-meaning-safe-defaults>Tags and handlers (opt-in, meaning, safe defaults)
<a href=#tags-and-handlers-opt-in-meaning-safe-defaults><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>In YAML, tags are explicit annotations like <code>!expr</code> or <code>!!timestamp</code> that attach type and meaning to a value.</p><p>Tags are preserved by default:</p><ul><li>In R, tags are kept in a <code>yaml_tag</code> attribute.</li><li>In Python, tags are kept by wrapping values in a <code>Yaml()</code> object.</li></ul><p>Handlers let you opt into custom behavior for tags (including tags on mapping keys) while keeping parsing as a data-only operation by default.</p><p>If you used R <code>yaml</code>'s <code>!expr</code> tag to evaluate expressions, you can recreate that behavior by registering a handler, but it&rsquo;s only recommended when parsing trusted YAML, since evaluating arbitrary code is a security risk. For untrusted input, the default behavior is safer because it keeps <code>!expr</code> as data and does not execute code.</p><p>R example:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=c># by default, tags are kept as data</span></span>
<span><span class=nf><a href=https://rdrr.io/r/base/dput.html>dput</a></span><span class=o>(</span><span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html>parse_yaml</a></span><span class=o>(</span><span class=s>"!expr 1 + 1"</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; structure("1 + 1", yaml_tag = "!expr")</span></span>
<span></span><span></span>
<span><span class=c># Add a handler to process tagged nodes (like the &#123;yaml&#125; package does)</span></span>
<span><span class=nv>handlers</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rdrr.io/r/base/list.html>list</a></span><span class=o>(</span><span class=s>"!expr"</span> <span class=o>=</span> \<span class=o>(</span><span class=nv>x</span><span class=o>)</span> <span class=nf><a href=https://rdrr.io/r/base/eval.html>eval</a></span><span class=o>(</span><span class=nf><a href=https://rdrr.io/r/base/parse.html>str2expression</a></span><span class=o>(</span><span class=nv>x</span><span class=o>)</span>, <span class=nf><a href=https://rdrr.io/r/base/environment.html>globalenv</a></span><span class=o>(</span><span class=o>)</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html>parse_yaml</a></span><span class=o>(</span><span class=s>"!expr 1 + 1"</span>, handlers <span class=o>=</span> <span class=nv>handlers</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1] 2</span></span>
<span></span></code></pre></div><p>Python example:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r>from yaml12 import parse_yaml

handlers = {"!expr": eval}  # use with trusted input only
parse_yaml("!expr 1 + 1", handlers=handlers)

#> 2
</code></pre></div><h3 id=simplification-and-missing-values-r>Simplification and missing values (R)
<a href=#simplification-and-missing-values-r><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>In R,
<a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html target=_blank rel=noopener><code>parse_yaml()</code></a> can simplify homogeneous sequences to vectors. When it does, YAML <code>null</code> becomes the appropriate <code>NA</code> type:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html>parse_yaml</a></span><span class=o>(</span><span class=s>"[1, 2, 3, null]"</span><span class=o>)</span></span>
<span><span class=c>#&gt; [1]  1  2  3 NA</span></span>
<span></span><span></span>
<span><span class=nf><a href=https://rdrr.io/r/utils/str.html>str</a></span><span class=o>(</span><span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html>parse_yaml</a></span><span class=o>(</span><span class=s>"[1, 2, 3, null]"</span>, simplify <span class=o>=</span> <span class=kc>FALSE</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; List of 4</span></span>
<span><span class=c>#&gt;  $ : int 1</span></span>
<span><span class=c>#&gt;  $ : int 2</span></span>
<span><span class=c>#&gt;  $ : int 3</span></span>
<span><span class=c>#&gt;  $ : NULL</span></span>
<span></span></code></pre></div><h3 id=non-string-mapping-keys>Non-string mapping keys
<a href=#non-string-mapping-keys><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>YAML allows mapping keys that aren&rsquo;t plain strings (numbers, booleans, tagged scalars, even sequences and mappings). Both packages preserve these safely:</p><ul><li>In R, you&rsquo;ll get a regular named list plus a <code>yaml_keys</code> attribute when needed.</li><li>In Python, unhashable keys (like lists/dicts) are wrapped in <code>Yaml</code> so they can still be used as <code>dict</code> keys and round-trip correctly.</li></ul><p>R example:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/base/dput.html>dput</a></span><span class=o>(</span><span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html>parse_yaml</a></span><span class=o>(</span><span class=s>"&#123;a: b&#125;: c"</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; structure(list("c"), names = "", yaml_keys = list(list(a = "b")))</span></span>
<span></span></code></pre></div><p>Python example:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r>from yaml12 import parse_yaml, Yaml

doc = parse_yaml("{a: b}: c")
assert doc == {Yaml({'a': 'b'}): 'c'}
</code></pre></div><h3 id=mapping-order-is-preserved>Mapping order is preserved
<a href=#mapping-order-is-preserved><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>YAML mappings are ordered. <code>yaml12</code> preserves mapping/dictionary order when parsing and formatting, so the order you see in a YAML file (or emit) round-trips in both R and Python.</p><h3 id=document-streams-and-front-matter>Document streams and front matter
<a href=#document-streams-and-front-matter><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Both packages support multi-document YAML streams with <code>multi = TRUE</code>. When <code>multi = FALSE</code> (the default), parsing stops after the first document, which is handy for extracting YAML front matter from text that continues with non-YAML content.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>yaml</span> <span class=o>&lt;-</span> <span class=s>"</span></span>
<span><span class=s>---</span></span>
<span><span class=s>title: Extracting YAML front matter</span></span>
<span><span class=s>---</span></span>
<span><span class=s>This is technically now the second document in a YAML stream</span></span>
<span><span class=s>"</span></span>
<span><span class=nf><a href=https://rdrr.io/r/utils/str.html>str</a></span><span class=o>(</span><span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html>parse_yaml</a></span><span class=o>(</span><span class=nv>yaml</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; List of 1</span></span>
<span><span class=c>#&gt;  $ title: chr "Extracting YAML front matter"</span></span>
<span></span><span><span class=nf><a href=https://rdrr.io/r/utils/str.html>str</a></span><span class=o>(</span><span class=nf><a href=https://posit-dev.github.io/r-yaml12/reference/parse_yaml.html>parse_yaml</a></span><span class=o>(</span><span class=nv>yaml</span>, multi <span class=o>=</span> <span class=kc>TRUE</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; List of 2</span></span>
<span><span class=c>#&gt;  $ :List of 1</span></span>
<span><span class=c>#&gt;   ..$ title: chr "Extracting YAML front matter"</span></span>
<span><span class=c>#&gt;  $ : chr "This is technically now the second document in a YAML stream"</span></span>
<span></span></code></pre></div><h3 id=performance-and-safety-notes>Performance and safety notes
<a href=#performance-and-safety-notes><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p><code>yaml12</code> is implemented in Rust and written with performance and safety in mind. It avoids unnecessary allocations, copies, and extra traversals where possible. In Python, <code>py-yaml12</code> (imported as <code>yaml12</code>) also releases the GIL for large parses and serializations.</p><p>In typical usage, the R package <code>yaml12</code> is ~2× faster than the <code>yaml</code> package, and the Python package <code>py-yaml12</code> is ≥50× faster than default <code>PyYAML</code> in the benchmarks (
<a href=https://posit-dev.github.io/r-yaml12/articles/benchmarks.html target=_blank rel=noopener>R benchmarks</a>;
<a href=https://posit-dev.github.io/py-yaml12/benchmarks/#read-performance target=_blank rel=noopener>Python benchmarks</a>).</p><p>Tags are preserved by default, and interpreting them (including any kind of evaluation) is always an explicit opt-in via handlers. Plain scalars follow the YAML 1.2 core schema rules for predictable typing.</p><p>In Python, <code>py-yaml12</code> ships prebuilt wheels for common platforms. If you do need to build from source, you&rsquo;ll need a Rust toolchain. In R, <code>yaml12</code> is available from CRAN (including binaries on common platforms).</p><h2 id=wrapping-up>Wrapping up
<a href=#wrapping-up><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>If you work with YAML as a data format for configuration, front matter, or data interchange, we hope <code>yaml12</code> (R) and <code>py-yaml12</code> (Python) help you parse and emit YAML 1.2 predictably. If you run into YAML that doesn&rsquo;t behave as expected, we&rsquo;d love to hear about it in the issue trackers:
<a href=https://github.com/posit-dev/r-yaml12/issues target=_blank rel=noopener>r-yaml12</a> and
<a href=https://github.com/posit-dev/py-yaml12/issues target=_blank rel=noopener>py-yaml12</a>.</p><h2 id=learn-more>Learn more
<a href=#learn-more><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ul><li>R package docs: <a href=https://posit-dev.github.io/r-yaml12/>https://posit-dev.github.io/r-yaml12/</a></li><li>R package on CRAN: <a href="https://cran.r-project.org/package=yaml12">https://cran.r-project.org/package=yaml12</a></li><li>Python package docs: <a href=https://posit-dev.github.io/py-yaml12/>https://posit-dev.github.io/py-yaml12/</a></li><li>Python package on PyPI: <a href=https://pypi.org/project/py-yaml12/>https://pypi.org/project/py-yaml12/</a></li></ul><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Both packages build on the fantastic work in the YAML ecosystem, especially the <code>saphyr</code> Rust crate and the
<a href=https://github.com/yaml/yaml-test-suite target=_blank rel=noopener>yaml-test-suite</a>.</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#install>Install</a></li><li><a href=#quick-start-r>Quick start (R)</a></li><li><a href=#quick-start-python>Quick start (Python)</a></li><li><a href=#why-yaml-12>Why YAML 1.2?</a></li><li><a href=#highlights>Highlights</a></li><li><a href=#wrapping-up>Wrapping up</a></li><li><a href=#learn-more>Learn more</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script src=/js/math-code.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>