<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>rsample 1.3.0</title><meta property="og:title" content="rsample 1.3.0"><meta property="og:description" content="This release brings more flexibilty to the grouping of bootstrap confidence  intervals. It also contains many contributions from the tidyverse developer  day."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2025/04/rsample-1-3-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="rsample 1.3.0 - Tidyverse"><meta property="description" content="This release brings more flexibilty to the grouping of bootstrap confidence  intervals. It also contains many contributions from the tidyverse developer  day."><meta property="og:description" content="This release brings more flexibilty to the grouping of bootstrap confidence  intervals. It also contains many contributions from the tidyverse developer  day."><meta property="og:image" content="https://www.tidyverse.org/blog/2025/04/rsample-1-3-0/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2025/04/rsample-1-3-0/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>rsample 1.3.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2025/04/rsample-1-3-0/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/a-row-of-shelves-filled-with-lots-of-shoes-yZxBkDr73AM>Erik Mclean</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2025/04/03</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/tidymodels/>tidymodels</a>,
<a href=/tags/rsample/>rsample</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Hannah Frick</p><div class=article-content><p>We&rsquo;re thrilled to announce the release of
<a href=https://rsample.tidymodels.org/ target=_blank rel=noopener>rsample</a> 1.3.0. rsample makes it easy to create resamples for assessing model performance. It is part of the tidymodels framework, a collection of R packages for modeling and machine learning using tidyverse principles.</p><p>You can install it from CRAN with:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/utils/install.packages.html>install.packages</a></span><span class=o>(</span><span class=s>"rsample"</span><span class=o>)</span></span></code></pre></div><p>This blog post will walk you through the more flexible grouping for calculating bootstrap confidence intervals and highlight the contributions made by participants of the tidyverse developer day.</p><p>You can see a full list of changes in the
<a href=https://rsample.tidymodels.org/news/index.html#rsample-130 target=_blank rel=noopener>release notes</a>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://rsample.tidymodels.org>rsample</a></span><span class=o>)</span></span></code></pre></div><h2 id=flexible-grouping-for-bootstrap-intervals>Flexible grouping for bootstrap intervals
<a href=#flexible-grouping-for-bootstrap-intervals><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Resampling allows you get an understanding of the variability of an estimate, e.g., a summary statistic of your data. If you want to lean on statistical theory and get confidence intervals for your estimate, you can reach for the bootstrap resampling scheme: calculating your summary statistic on the bootstrap samples enables you to calculate confidence intervals around your point estimate.</p><p>rsample contains a family of <code>int_*()</code> functions to calculate bootstrap confidence intervals of different flavors: percentile intervals, &ldquo;BCa&rdquo; intervals, and bootstrap-t intervals. If you want to dive into the technical details, Chapter 11 of
<a href=https://hastie.su.domains/CASI/ target=_blank rel=noopener>CASI</a> is a good place to start.</p><p>You can calculate the confidence intervals based on a grouping in your data. However, so far, rsample would only let you provide a single grouping variable. With this release, we are extending this functionality to allow a more flexible grouping.</p><p>The motivating application for us was to be able to calculate confidence intervals around multiple model performance metrics, including dynamic metrics for time-to-event models which depend on an evaluation time point. So in this case, the metric is one grouping variable and the evaluation time another. But let&rsquo;s pull back complexity for an example of how the new rsample functionality works!</p><p>We have a dataset with delivery times for orders containing one or more items. We&rsquo;ll do some data wrangling with it, so we are also loading dplyr.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://dplyr.tidyverse.org>dplyr</a></span><span class=o>)</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; Attaching package: 'dplyr'</span></span>
<span></span><span><span class=c>#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt;     filter, lag</span></span>
<span></span><span><span class=c>#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt;     intersect, setdiff, setequal, union</span></span>
<span></span><span><span class=nf><a href=https://rdrr.io/r/utils/data.html>data</a></span><span class=o>(</span><span class=nv>deliveries</span>, package <span class=o>=</span> <span class=s>"modeldata"</span><span class=o>)</span></span>
<span></span>
<span><span class=nv>deliveries</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 10,012 × 31</span></span></span>
<span><span class=c>#&gt;    time_to_delivery  hour day   distance item_01 item_02 item_03 item_04 item_05</span></span>
<span><span class=c>#&gt;               <span style=color:#555;font-style:italic>&lt;dbl&gt;</span> <span style=color:#555;font-style:italic>&lt;dbl&gt;</span> <span style=color:#555;font-style:italic>&lt;fct&gt;</span>    <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>   <span style=color:#555;font-style:italic>&lt;int&gt;</span>   <span style=color:#555;font-style:italic>&lt;int&gt;</span>   <span style=color:#555;font-style:italic>&lt;int&gt;</span>   <span style=color:#555;font-style:italic>&lt;int&gt;</span>   <span style=color:#555;font-style:italic>&lt;int&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span>             16.1  11.9 Thu       3.15       0       0       2       0       0</span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span>             22.9  19.2 Tue       3.69       0       0       0       0       0</span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span>             30.3  18.4 Fri       2.06       0       0       0       0       1</span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span>             33.4  15.8 Thu       5.97       0       0       0       0       0</span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span>             27.2  19.6 Fri       2.52       0       0       0       1       0</span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span>             19.6  13.0 Sat       3.35       1       0       0       1       0</span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span>             22.1  15.5 Sun       2.46       0       0       1       1       0</span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span>             26.6  17.0 Thu       2.21       0       0       1       0       0</span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span>             30.8  16.7 Fri       2.62       0       0       0       0       0</span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span>             17.4  11.9 Sun       2.75       0       2       1       0       0</span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ 10,002 more rows</span></span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ 22 more variables: item_06 &lt;int&gt;, item_07 &lt;int&gt;, item_08 &lt;int&gt;,</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>#   item_09 &lt;int&gt;, item_10 &lt;int&gt;, item_11 &lt;int&gt;, item_12 &lt;int&gt;, item_13 &lt;int&gt;,</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>#   item_14 &lt;int&gt;, item_15 &lt;int&gt;, item_16 &lt;int&gt;, item_17 &lt;int&gt;, item_18 &lt;int&gt;,</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>#   item_19 &lt;int&gt;, item_20 &lt;int&gt;, item_21 &lt;int&gt;, item_22 &lt;int&gt;, item_23 &lt;int&gt;,</span></span></span>
<span><span class=c>#&gt; <span style=color:#555>#   item_24 &lt;int&gt;, item_25 &lt;int&gt;, item_26 &lt;int&gt;, item_27 &lt;int&gt;</span></span></span>
<span></span></code></pre></div><p>Instead of fitting a whole model here, we are calculating a straightforward summary statistic for how much delivery time increases if an item is included in the order. So the item is one grouping factor. As a second one, we are using whether the order was delivered on a weekday or a weekend. Let&rsquo;s start by making that weekend indicator and reshaping the data to make it easier to calculate our summary statistic.</p><p>Note that the name for the weekend indicator column, <code>.weekend</code>, starts with a dot. That is important as it is the convention to signal to rsample that this is an additional grouping variable.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>item_data</span> <span class=o>&lt;-</span> <span class=nv>deliveries</span> <span class=o><a href=https://magrittr.tidyverse.org/reference/pipe.html>%&gt;%</a></span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span>.weekend <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/ifelse.html>ifelse</a></span><span class=o>(</span><span class=nv>day</span> <span class=o><a href=https://rdrr.io/r/base/match.html>%in%</a></span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"Sat"</span>, <span class=s>"Sun"</span><span class=o>)</span>, <span class=s>"weekend"</span>, <span class=s>"weekday"</span><span class=o>)</span><span class=o>)</span> <span class=o><a href=https://magrittr.tidyverse.org/reference/pipe.html>%&gt;%</a></span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/select.html>select</a></span><span class=o>(</span><span class=nv>time_to_delivery</span>, <span class=nv>.weekend</span>, <span class=nf><a href=https://tidyselect.r-lib.org/reference/starts_with.html>starts_with</a></span><span class=o>(</span><span class=s>"item"</span><span class=o>)</span><span class=o>)</span> <span class=o><a href=https://magrittr.tidyverse.org/reference/pipe.html>%&gt;%</a></span></span>
<span>  <span class=nf>tidyr</span><span class=nf>::</span><span class=nf><a href=https://tidyr.tidyverse.org/reference/pivot_longer.html>pivot_longer</a></span><span class=o>(</span><span class=nf><a href=https://tidyselect.r-lib.org/reference/starts_with.html>starts_with</a></span><span class=o>(</span><span class=s>"item"</span><span class=o>)</span>, names_to <span class=o>=</span> <span class=s>"item"</span>, values_to <span class=o>=</span> <span class=s>"value"</span><span class=o>)</span> </span></code></pre></div><p>Next, we are making a small function that calculates the ratio of average delivery times with and without the item included in the order, as a estimate of how much a specific item in an order increases the delivery time.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>relative_increase</span> <span class=o>&lt;-</span> <span class=kr>function</span><span class=o>(</span><span class=nv>data</span><span class=o>)</span> <span class=o>&#123;</span></span>
<span>  <span class=nv>data</span> <span class=o><a href=https://magrittr.tidyverse.org/reference/pipe.html>%&gt;%</a></span></span>
<span>    <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span>includes_item <span class=o>=</span> <span class=nv>value</span> <span class=o>&gt;</span> <span class=m>0</span><span class=o>)</span> <span class=o><a href=https://magrittr.tidyverse.org/reference/pipe.html>%&gt;%</a></span></span>
<span>    <span class=nf><a href=https://dplyr.tidyverse.org/reference/summarise.html>summarize</a></span><span class=o>(</span></span>
<span>      has <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/mean.html>mean</a></span><span class=o>(</span><span class=nv>time_to_delivery</span><span class=o>[</span><span class=nv>includes_item</span><span class=o>]</span><span class=o>)</span>,</span>
<span>      has_not <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/mean.html>mean</a></span><span class=o>(</span><span class=nv>time_to_delivery</span><span class=o>[</span><span class=o>!</span><span class=nv>includes_item</span><span class=o>]</span><span class=o>)</span>,</span>
<span>      .by <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=nv>item</span>, <span class=nv>.weekend</span><span class=o>)</span></span>
<span>    <span class=o>)</span> <span class=o><a href=https://magrittr.tidyverse.org/reference/pipe.html>%&gt;%</a></span></span>
<span>    <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span>estimate <span class=o>=</span> <span class=nv>has</span> <span class=o>/</span> <span class=nv>has_not</span><span class=o>)</span> <span class=o><a href=https://magrittr.tidyverse.org/reference/pipe.html>%&gt;%</a></span></span>
<span>    <span class=nf><a href=https://dplyr.tidyverse.org/reference/select.html>select</a></span><span class=o>(</span>term <span class=o>=</span> <span class=nv>item</span>, <span class=nv>.weekend</span>, <span class=nv>estimate</span><span class=o>)</span></span>
<span><span class=o>&#125;</span></span></code></pre></div><p>We can calculate that on our entire dataset.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf>relative_increase</span><span class=o>(</span><span class=nv>item_data</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 54 × 3</span></span></span>
<span><span class=c>#&gt;    term    .weekend estimate</span></span>
<span><span class=c>#&gt;    <span style=color:#555;font-style:italic>&lt;chr&gt;</span>   <span style=color:#555;font-style:italic>&lt;chr&gt;</span>       <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span> item_01 weekday      1.07</span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span> item_02 weekday      1.02</span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span> item_03 weekday      1.02</span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span> item_04 weekday      1.00</span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span> item_05 weekday      1.00</span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span> item_06 weekday      1.01</span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span> item_07 weekday      1.03</span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span> item_08 weekday      1.01</span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span> item_09 weekday      1.01</span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span> item_10 weekday      1.06</span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ 44 more rows</span></span></span>
<span></span></code></pre></div><p>This is fine, but what we really want here is to get confidence intervals around these estimates!</p><p>So let&rsquo;s make bootstrap samples and calculate our statistic on those.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/base/Random.html>set.seed</a></span><span class=o>(</span><span class=m>1</span><span class=o>)</span></span>
<span><span class=nv>item_bootstrap</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rsample.tidymodels.org/reference/bootstraps.html>bootstraps</a></span><span class=o>(</span><span class=nv>item_data</span>, times <span class=o>=</span> <span class=m>1000</span><span class=o>)</span></span>
<span></span>
<span><span class=nv>item_stats</span> <span class=o>&lt;-</span></span>
<span>  <span class=nv>item_bootstrap</span> <span class=o><a href=https://magrittr.tidyverse.org/reference/pipe.html>%&gt;%</a></span></span>
<span>  <span class=nf><a href=https://dplyr.tidyverse.org/reference/mutate.html>mutate</a></span><span class=o>(</span>stats <span class=o>=</span> <span class=nf>purrr</span><span class=nf>::</span><span class=nf><a href=https://purrr.tidyverse.org/reference/map.html>map</a></span><span class=o>(</span><span class=nv>splits</span>, <span class=o>~</span> <span class=nf><a href=https://rsample.tidymodels.org/reference/as.data.frame.rsplit.html>analysis</a></span><span class=o>(</span><span class=nv>.x</span><span class=o>)</span> <span class=o><a href=https://magrittr.tidyverse.org/reference/pipe.html>%&gt;%</a></span> <span class=nf>relative_increase</span><span class=o>(</span><span class=o>)</span><span class=o>)</span><span class=o>)</span></span></code></pre></div><p>Now we have everything we need to calculate the confidence intervals, stashed into the tibbles in the <code>stats</code> column: an <code>estimate</code>, a <code>term</code> (the primary grouping variable), and our additional grouping variable <code>.weekend</code>, starting with a dot. What&rsquo;s left to do is call one of the <code>int_*()</code> functions and specify which column contains the statistics. Here, we&rsquo;ll calculate percentile intervals with
<a href=https://rsample.tidymodels.org/reference/int_pctl.html target=_blank rel=noopener><code>int_pctl()</code></a>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>item_ci</span> <span class=o>&lt;-</span> <span class=nf><a href=https://rsample.tidymodels.org/reference/int_pctl.html>int_pctl</a></span><span class=o>(</span><span class=nv>item_stats</span>, statistics <span class=o>=</span> <span class=nv>stats</span>, alpha <span class=o>=</span> <span class=m>0.1</span><span class=o>)</span></span>
<span><span class=nv>item_ci</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 54 × 7</span></span></span>
<span><span class=c>#&gt;    term    .weekend .lower .estimate .upper .alpha .method   </span></span>
<span><span class=c>#&gt;    <span style=color:#555;font-style:italic>&lt;chr&gt;</span>   <span style=color:#555;font-style:italic>&lt;chr&gt;</span>     <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>     <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>  <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>  <span style=color:#555;font-style:italic>&lt;dbl&gt;</span> <span style=color:#555;font-style:italic>&lt;chr&gt;</span>     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span> item_01 weekday   1.05      1.07    1.09    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span> item_01 weekend   1.04      1.07    1.10    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span> item_02 weekday   1.00      1.02    1.03    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span> item_02 weekend   0.996     1.01    1.03    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span> item_03 weekday   1.01      1.02    1.04    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span> item_03 weekend   0.970     0.990   1.01    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span> item_04 weekday   0.989     1.00    1.02    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span> item_04 weekend   0.998     1.02    1.03    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span> item_05 weekday   0.987     1.00    1.02    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span> item_05 weekend   0.982     1.00    1.03    0.1 percentile</span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ 44 more rows</span></span></span>
<span></span></code></pre></div><h2 id=tidyverse-developer-day>Tidyverse developer day
<a href=#tidyverse-developer-day><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>At the tidyverse developer day after posit::conf, rsample got a lot of love in form of contributions by various community members. People improved documentation and examples, move deprecations along, tightened checks to support good practice, and upgraded errors and warnings, both in style and content. None of these changes are flashy new features but all of them are essential to rsample working well!</p><p>So for example, leave-one-out (LOO) cross-validation is not a great choice of resampling scheme in most situations. From
<a href=https://www.tmwr.org/resampling#leave-one-out-cross-validation target=_blank rel=noopener>Tidy modeling with R</a>:</p><blockquote><p>For anything but pathologically small samples, LOO is computationally excessive, and it may not have good statistical properties.</p></blockquote><p>It was possible, however, to create implicit LOO samples by using
<a href=https://rsample.tidymodels.org/reference/vfold_cv.html target=_blank rel=noopener><code>vfold_cv()</code></a> with the number of folds set to the number of rows in the data. With a dev day contribution, this now errors:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rsample.tidymodels.org/reference/vfold_cv.html>vfold_cv</a></span><span class=o>(</span><span class=nv>mtcars</span>, v <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/nrow.html>nrow</a></span><span class=o>(</span><span class=nv>mtcars</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#bb0;font-weight:700>Error</span><span style=font-weight:700> in `vfold_cv()`:</span></span></span>
<span><span class=c>#&gt; <span style=color:#bb0>!</span> Leave-one-out cross-validation is not supported by this function.</span></span>
<span><span class=c>#&gt; <span style=color:#b00>✖</span> You set `v` to `nrow(data)`, which would result in a leave-one-out</span></span>
<span><span class=c>#&gt;   cross-validation.</span></span>
<span><span class=c>#&gt; <span style=color:#0bb>ℹ</span> Use `loo_cv()` in this case.</span></span>
<span></span></code></pre></div><p>This is to make users pause and consider if this a good choice for their dataset. If you require LOO, you can still use
<a href=https://rsample.tidymodels.org/reference/loo_cv.html target=_blank rel=noopener><code>loo_cv()</code></a>.</p><p>Error messages in general have been a focus of ours across various tidymodels packages, rsample is no exception. We opened a bunch of issues to tackle all of rsample - and all got closed! Some of these changes are purely internal, upgrading manual formatting to let the cli package do the work. While the error message in most cases doesn&rsquo;t <em>look</em> different, it&rsquo;s a great deal more consistency in formatting.</p><p>For some error messages, the additional functionality in cli makes it easy to improve readability. This error message used to be one block of text, now it comes as three bullet points.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rsample.tidymodels.org/reference/permutations.html>permutations</a></span><span class=o>(</span><span class=nv>mtcars</span>, <span class=nf><a href=https://tidyselect.r-lib.org/reference/everything.html>everything</a></span><span class=o>(</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#bb0;font-weight:700>Error</span><span style=font-weight:700> in `permutations()`:</span></span></span>
<span><span class=c>#&gt; <span style=color:#bb0>!</span> You have selected all columns to permute.</span></span>
<span><span class=c>#&gt; <span style=color:#0bb>ℹ</span> This effectively reorders the rows in the original data without changing the</span></span>
<span><span class=c>#&gt;   data structure.</span></span>
<span><span class=c>#&gt; → Please select fewer columns to permute.</span></span>
<span></span></code></pre></div><p>Changes like these are super helpful to users and developers alike. A big thank you to all the contributors!</p><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Many thanks to all the people who contributed to rsample since the last release!</p><p><a href=https://github.com/agmurray target=_blank rel=noopener>@agmurray</a>,
<a href=https://github.com/brshallo target=_blank rel=noopener>@brshallo</a>,
<a href=https://github.com/ccani007 target=_blank rel=noopener>@ccani007</a>,
<a href=https://github.com/dicook target=_blank rel=noopener>@dicook</a>,
<a href=https://github.com/Dpananos target=_blank rel=noopener>@Dpananos</a>,
<a href=https://github.com/EmilHvitfeldt target=_blank rel=noopener>@EmilHvitfeldt</a>,
<a href=https://github.com/gaborcsardi target=_blank rel=noopener>@gaborcsardi</a>,
<a href=https://github.com/gregor-fausto target=_blank rel=noopener>@gregor-fausto</a>,
<a href=https://github.com/hfrick target=_blank rel=noopener>@hfrick</a>,
<a href=https://github.com/JamesHWade target=_blank rel=noopener>@JamesHWade</a>,
<a href=https://github.com/jttoivon target=_blank rel=noopener>@jttoivon</a>,
<a href=https://github.com/krz target=_blank rel=noopener>@krz</a>,
<a href=https://github.com/laurabrianna target=_blank rel=noopener>@laurabrianna</a>,
<a href=https://github.com/malcolmbarrett target=_blank rel=noopener>@malcolmbarrett</a>,
<a href=https://github.com/MatthieuStigler target=_blank rel=noopener>@MatthieuStigler</a>,
<a href=https://github.com/msberends target=_blank rel=noopener>@msberends</a>,
<a href=https://github.com/nmercadeb target=_blank rel=noopener>@nmercadeb</a>,
<a href=https://github.com/PriKalra target=_blank rel=noopener>@PriKalra</a>,
<a href=https://github.com/seb09 target=_blank rel=noopener>@seb09</a>,
<a href=https://github.com/simonpcouch target=_blank rel=noopener>@simonpcouch</a>,
<a href=https://github.com/topepo target=_blank rel=noopener>@topepo</a>,
<a href=https://github.com/ZWael target=_blank rel=noopener>@ZWael</a>, and
<a href=https://github.com/zz77zz target=_blank rel=noopener>@zz77zz</a>.</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#flexible-grouping-for-bootstrap-intervals>Flexible grouping for bootstrap intervals</a></li><li><a href=#tidyverse-developer-day>Tidyverse developer day</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>