<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>orbital 0.3.0</title><meta property="og:title" content="orbital 0.3.0"><meta property="og:description" content="orbital 0.3.0 is on CRAN! orbital now has classification support."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2025/01/orbital-0-3-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="orbital 0.3.0 - Tidyverse"><meta property="description" content="orbital 0.3.0 is on CRAN! orbital now has classification support."><meta property="og:description" content="orbital 0.3.0 is on CRAN! orbital now has classification support."><meta property="og:image" content="https://www.tidyverse.org/blog/2025/01/orbital-0-3-0/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2025/01/orbital-0-3-0/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>orbital 0.3.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2025/01/orbital-0-3-0/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://www.pexels.com/photo/aerial-view-earth-exploration-flying-60132/>SpaceX</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2025/01/13</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/orbital/>orbital</a>,
<a href=/tags/tidymodels/>tidymodels</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Emil Hvitfeldt</p><div class=article-content><p>We&rsquo;re thrilled to announce the release of
<a href=https://orbital.tidymodels.org/ target=_blank rel=noopener>orbital</a> 0.3.0. orbital lets you predict in databases using tidymodels workflows.</p><p>You can install it from CRAN with:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/utils/install.packages.html>install.packages</a></span><span class=o>(</span><span class=s>"orbital"</span><span class=o>)</span></span></code></pre></div><p>This blog post will cover the highlights, which are classification support and the new augment method.</p><p>You can see a full list of changes in the
<a href=https://orbital.tidymodels.org/news/index.html#orbital-030 target=_blank rel=noopener>release notes</a>.</p><h2 id=classification-support>Classification support
<a href=#classification-support><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The biggest improvement in this version is that
<a href=https://orbital.tidymodels.org/reference/orbital.html target=_blank rel=noopener><code>orbital()</code></a> now works for supported classification models. See
<a href=https://orbital.tidymodels.org/articles/supported-models.html#supported-models target=_blank rel=noopener>vignette</a> for list of all supported models.</p><p>Let&rsquo;s start by fitting a classification model on the <code>penguins</code> data set, using {xgboost} as the engine.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>rec_spec</span> <span class=o>&lt;-</span> <span class=nf>recipe</span><span class=o>(</span><span class=nv>species</span> <span class=o>~</span> <span class=nv>.</span>, data <span class=o>=</span> <span class=nv>penguins</span><span class=o>)</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf>step_unknown</span><span class=o>(</span><span class=nf>all_nominal_predictors</span><span class=o>(</span><span class=o>)</span><span class=o>)</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf>step_dummy</span><span class=o>(</span><span class=nf>all_nominal_predictors</span><span class=o>(</span><span class=o>)</span><span class=o>)</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf>step_impute_mean</span><span class=o>(</span><span class=nf>all_numeric_predictors</span><span class=o>(</span><span class=o>)</span><span class=o>)</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf>step_zv</span><span class=o>(</span><span class=nf>all_predictors</span><span class=o>(</span><span class=o>)</span><span class=o>)</span></span>
<span></span>
<span><span class=nv>lr_spec</span> <span class=o>&lt;-</span> <span class=nf>boost_tree</span><span class=o>(</span><span class=o>)</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf>set_mode</span><span class=o>(</span><span class=s>"classification"</span><span class=o>)</span> <span class=o>|&gt;</span></span>
<span>  <span class=nf>set_engine</span><span class=o>(</span><span class=s>"xgboost"</span><span class=o>)</span></span>
<span></span>
<span><span class=nv>wf_spec</span> <span class=o>&lt;-</span> <span class=nf>workflow</span><span class=o>(</span><span class=nv>rec_spec</span>, <span class=nv>lr_spec</span><span class=o>)</span></span>
<span><span class=nv>wf_fit</span> <span class=o>&lt;-</span> <span class=nf>fit</span><span class=o>(</span><span class=nv>wf_spec</span>, data <span class=o>=</span> <span class=nv>penguins</span><span class=o>)</span></span></code></pre></div><p>With this fitted workflow object, we can call
<a href=https://orbital.tidymodels.org/reference/orbital.html target=_blank rel=noopener><code>orbital()</code></a> on it to create an orbital object.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>orbital_obj</span> <span class=o>&lt;-</span> <span class=nf><a href=https://orbital.tidymodels.org/reference/orbital.html>orbital</a></span><span class=o>(</span><span class=nv>wf_fit</span><span class=o>)</span></span>
<span><span class=nv>orbital_obj</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; <span style=color:#0bb>──</span> <span style=font-weight:700>orbital Object</span> <span style=color:#0bb>──────────────────────────────────────────────────────────────</span></span></span>
<span><span class=c>#&gt; • island = dplyr::if_else(is.na(island), "unknown", island)</span></span>
<span><span class=c>#&gt; • sex = dplyr::if_else(is.na(sex), "unknown", sex)</span></span>
<span><span class=c>#&gt; • island_Dream = as.numeric(island == "Dream")</span></span>
<span><span class=c>#&gt; • island_Torgersen = as.numeric(island == "Torgersen")</span></span>
<span><span class=c>#&gt; • sex_male = as.numeric(sex == "male")</span></span>
<span><span class=c>#&gt; • sex_unknown = as.numeric(sex == "unknown")</span></span>
<span><span class=c>#&gt; • bill_length_mm = dplyr::if_else(is.na(bill_length_mm), 43.92193, bill_l ...</span></span>
<span><span class=c>#&gt; • bill_depth_mm = dplyr::if_else(is.na(bill_depth_mm), 17.15117, bill_dep ...</span></span>
<span><span class=c>#&gt; • flipper_length_mm = dplyr::if_else(is.na(flipper_length_mm), 201, flipp ...</span></span>
<span><span class=c>#&gt; • body_mass_g = dplyr::if_else(is.na(body_mass_g), 4202, body_mass_g)</span></span>
<span><span class=c>#&gt; • island_Dream = dplyr::if_else(is.na(island_Dream), 0.3604651, island_Dr ...</span></span>
<span><span class=c>#&gt; • island_Torgersen = dplyr::if_else(is.na(island_Torgersen), 0.1511628, i ...</span></span>
<span><span class=c>#&gt; • sex_male = dplyr::if_else(is.na(sex_male), 0.4883721, sex_male)</span></span>
<span><span class=c>#&gt; • sex_unknown = dplyr::if_else(is.na(sex_unknown), 0.03197674, sex_unknow ...</span></span>
<span><span class=c>#&gt; • Adelie = 0 + dplyr::case_when((bill_depth_mm &lt; 15.1 | is.na(bill_depth_ ...</span></span>
<span><span class=c>#&gt; • Chinstrap = 0 + dplyr::case_when((island_Dream &lt; 0.5 | is.na(island_Dre ...</span></span>
<span><span class=c>#&gt; • Gentoo = 0 + dplyr::case_when((bill_depth_mm &lt; 15.95 | is.na(bill_depth ...</span></span>
<span><span class=c>#&gt; • .pred_class = dplyr::case_when(Adelie &gt; Chinstrap &amp; Adelie &gt; Gentoo ~ " ...</span></span>
<span><span class=c>#&gt; ────────────────────────────────────────────────────────────────────────────────</span></span>
<span><span class=c>#&gt; 18 equations in total.</span></span>
<span></span></code></pre></div><p>This object contains all the information that is needed to produce predictions. Which we can produce with
<a href=https://rdrr.io/r/stats/predict.html target=_blank rel=noopener><code>predict()</code></a>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/stats/predict.html>predict</a></span><span class=o>(</span><span class=nv>orbital_obj</span>, <span class=nv>penguins</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 344 × 1</span></span></span>
<span><span class=c>#&gt;    .pred_class</span></span>
<span><span class=c>#&gt;    <span style=color:#555;font-style:italic>&lt;chr&gt;</span>      </span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ 334 more rows</span></span></span>
<span></span></code></pre></div><p>The main thing to note here is that the orbital package produces character vectors instead of factors. This is done as a unifying approach since many databases don&rsquo;t have factor types.</p><p>Speaking of databases, you can
<a href=https://rdrr.io/r/stats/predict.html target=_blank rel=noopener><code>predict()</code></a> on an orbital object using tables from databases. Below we create an ephemeral in-memory RSQLite database.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://dbi.r-dbi.org>DBI</a></span><span class=o>)</span></span>
<span><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://rsqlite.r-dbi.org>RSQLite</a></span><span class=o>)</span></span>
<span></span>
<span><span class=nv>con_sqlite</span> <span class=o>&lt;-</span> <span class=nf><a href=https://dbi.r-dbi.org/reference/dbConnect.html>dbConnect</a></span><span class=o>(</span><span class=nf><a href=https://rsqlite.r-dbi.org/reference/SQLite.html>SQLite</a></span><span class=o>(</span><span class=o>)</span>, path <span class=o>=</span> <span class=s>":memory:"</span><span class=o>)</span></span>
<span><span class=nv>penguins_sqlite</span> <span class=o>&lt;-</span> <span class=nf>copy_to</span><span class=o>(</span><span class=nv>con_sqlite</span>, <span class=nv>penguins</span>, name <span class=o>=</span> <span class=s>"penguins_table"</span><span class=o>)</span></span></code></pre></div><p>And we can predict with it like normal. All the calculations are sent to the database for execution.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/stats/predict.html>predict</a></span><span class=o>(</span><span class=nv>orbital_obj</span>, <span class=nv>penguins_sqlite</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># Source:   SQL [?? x 1]</span></span></span>
<span><span class=c>#&gt; <span style=color:#555># Database: sqlite 3.47.1 []</span></span></span>
<span><span class=c>#&gt;    .pred_class</span></span>
<span><span class=c>#&gt;    <span style=color:#555;font-style:italic>&lt;chr&gt;</span>      </span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span> Adelie     </span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ more rows</span></span></span>
<span></span></code></pre></div><p>This works the same with
<a href=https://orbital.tidymodels.org/articles/databases.html target=_blank rel=noopener>many types of databases</a>.</p><p>Classification is different from regression in part because it comes with multiple prediction types. The above example showed the default which is hard classification. You can set the type of prediction you want with the <code>type</code> argument to <code>orbital</code>. For classification models, possible options are <code>"class"</code> and <code>"prob"</code>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nv>orbital_obj_prob</span> <span class=o>&lt;-</span> <span class=nf><a href=https://orbital.tidymodels.org/reference/orbital.html>orbital</a></span><span class=o>(</span><span class=nv>wf_fit</span>, type <span class=o>=</span> <span class=nf><a href=https://rdrr.io/r/base/c.html>c</a></span><span class=o>(</span><span class=s>"class"</span>, <span class=s>"prob"</span><span class=o>)</span><span class=o>)</span></span>
<span><span class=nv>orbital_obj_prob</span></span>
<span><span class=c>#&gt; </span></span>
<span><span class=c>#&gt; <span style=color:#0bb>──</span> <span style=font-weight:700>orbital Object</span> <span style=color:#0bb>──────────────────────────────────────────────────────────────</span></span></span>
<span><span class=c>#&gt; • island = dplyr::if_else(is.na(island), "unknown", island)</span></span>
<span><span class=c>#&gt; • sex = dplyr::if_else(is.na(sex), "unknown", sex)</span></span>
<span><span class=c>#&gt; • island_Dream = as.numeric(island == "Dream")</span></span>
<span><span class=c>#&gt; • island_Torgersen = as.numeric(island == "Torgersen")</span></span>
<span><span class=c>#&gt; • sex_male = as.numeric(sex == "male")</span></span>
<span><span class=c>#&gt; • sex_unknown = as.numeric(sex == "unknown")</span></span>
<span><span class=c>#&gt; • bill_length_mm = dplyr::if_else(is.na(bill_length_mm), 43.92193, bill_l ...</span></span>
<span><span class=c>#&gt; • bill_depth_mm = dplyr::if_else(is.na(bill_depth_mm), 17.15117, bill_dep ...</span></span>
<span><span class=c>#&gt; • flipper_length_mm = dplyr::if_else(is.na(flipper_length_mm), 201, flipp ...</span></span>
<span><span class=c>#&gt; • body_mass_g = dplyr::if_else(is.na(body_mass_g), 4202, body_mass_g)</span></span>
<span><span class=c>#&gt; • island_Dream = dplyr::if_else(is.na(island_Dream), 0.3604651, island_Dr ...</span></span>
<span><span class=c>#&gt; • island_Torgersen = dplyr::if_else(is.na(island_Torgersen), 0.1511628, i ...</span></span>
<span><span class=c>#&gt; • sex_male = dplyr::if_else(is.na(sex_male), 0.4883721, sex_male)</span></span>
<span><span class=c>#&gt; • sex_unknown = dplyr::if_else(is.na(sex_unknown), 0.03197674, sex_unknow ...</span></span>
<span><span class=c>#&gt; • Adelie = 0 + dplyr::case_when((bill_depth_mm &lt; 15.1 | is.na(bill_depth_ ...</span></span>
<span><span class=c>#&gt; • Chinstrap = 0 + dplyr::case_when((island_Dream &lt; 0.5 | is.na(island_Dre ...</span></span>
<span><span class=c>#&gt; • Gentoo = 0 + dplyr::case_when((bill_depth_mm &lt; 15.95 | is.na(bill_depth ...</span></span>
<span><span class=c>#&gt; • .pred_class = dplyr::case_when(Adelie &gt; Chinstrap &amp; Adelie &gt; Gentoo ~ " ...</span></span>
<span><span class=c>#&gt; • norm = exp(Adelie) + exp(Chinstrap) + exp(Gentoo)</span></span>
<span><span class=c>#&gt; • .pred_Adelie = exp(Adelie) / norm</span></span>
<span><span class=c>#&gt; • .pred_Chinstrap = exp(Chinstrap) / norm</span></span>
<span><span class=c>#&gt; • .pred_Gentoo = exp(Gentoo) / norm</span></span>
<span><span class=c>#&gt; ────────────────────────────────────────────────────────────────────────────────</span></span>
<span><span class=c>#&gt; 22 equations in total.</span></span>
<span></span></code></pre></div><p>Notice how we can select both <code>"class"</code> and <code>"prob"</code>. The predictions now include both hard and soft class predictions.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/stats/predict.html>predict</a></span><span class=o>(</span><span class=nv>orbital_obj_prob</span>, <span class=nv>penguins</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 344 × 4</span></span></span>
<span><span class=c>#&gt;    .pred_class .pred_Adelie .pred_Chinstrap .pred_Gentoo</span></span>
<span><span class=c>#&gt;    <span style=color:#555;font-style:italic>&lt;chr&gt;</span>              <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>           <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>        <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span> Adelie             0.709         0.024<span style=text-decoration:underline>5</span>       0.267  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span> Adelie             0.979         0.005<span style=text-decoration:underline>49</span>      0.015<span style=text-decoration:underline>8</span> </span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span> Adelie             0.980         0.005<span style=text-decoration:underline>59</span>      0.014<span style=text-decoration:underline>8</span> </span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ 334 more rows</span></span></span>
<span></span></code></pre></div><p>That works equally well in databases.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://rdrr.io/r/stats/predict.html>predict</a></span><span class=o>(</span><span class=nv>orbital_obj_prob</span>, <span class=nv>penguins_sqlite</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># Source:   SQL [?? x 4]</span></span></span>
<span><span class=c>#&gt; <span style=color:#555># Database: sqlite 3.47.1 []</span></span></span>
<span><span class=c>#&gt;    .pred_class .pred_Adelie .pred_Chinstrap .pred_Gentoo</span></span>
<span><span class=c>#&gt;    <span style=color:#555;font-style:italic>&lt;chr&gt;</span>              <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>           <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>        <span style=color:#555;font-style:italic>&lt;dbl&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span> Adelie             0.709         0.024<span style=text-decoration:underline>5</span>       0.267  </span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span> Adelie             0.989         0.005<span style=text-decoration:underline>54</span>      0.005<span style=text-decoration:underline>60</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span> Adelie             0.979         0.005<span style=text-decoration:underline>49</span>      0.015<span style=text-decoration:underline>8</span> </span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span> Adelie             0.980         0.005<span style=text-decoration:underline>59</span>      0.014<span style=text-decoration:underline>8</span> </span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ more rows</span></span></span>
<span></span></code></pre></div><h2 id=new-augment-method>New augment method
<a href=#new-augment-method><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The users of tidymodels have found the
<a href=https://generics.r-lib.org/reference/augment.html target=_blank rel=noopener><code>augment()</code></a> function to be a handy tool. This function performs predictions and returns them alongside the original data set.</p><p>This release adds
<a href=https://generics.r-lib.org/reference/augment.html target=_blank rel=noopener><code>augment()</code></a> support for orbital objects.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://generics.r-lib.org/reference/augment.html>augment</a></span><span class=o>(</span><span class=nv>orbital_obj</span>, <span class=nv>penguins</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># A tibble: 344 × 8</span></span></span>
<span><span class=c>#&gt;    .pred_class species island    bill_length_mm bill_depth_mm flipper_length_mm</span></span>
<span><span class=c>#&gt;    <span style=color:#555;font-style:italic>&lt;chr&gt;</span>       <span style=color:#555;font-style:italic>&lt;fct&gt;</span>   <span style=color:#555;font-style:italic>&lt;fct&gt;</span>              <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>         <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>             <span style=color:#555;font-style:italic>&lt;int&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span> Adelie      Adelie  Torgersen           39.1          18.7               181</span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span> Adelie      Adelie  Torgersen           39.5          17.4               186</span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span> Adelie      Adelie  Torgersen           40.3          18                 195</span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span> Adelie      Adelie  Torgersen           <span style=color:#b00>NA</span>            <span style=color:#b00>NA</span>                  <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span> Adelie      Adelie  Torgersen           36.7          19.3               193</span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span> Adelie      Adelie  Torgersen           39.3          20.6               190</span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span> Adelie      Adelie  Torgersen           38.9          17.8               181</span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span> Adelie      Adelie  Torgersen           39.2          19.6               195</span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span> Adelie      Adelie  Torgersen           34.1          18.1               193</span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span> Adelie      Adelie  Torgersen           42            20.2               190</span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ 334 more rows</span></span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ 2 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;</span></span></span>
<span></span></code></pre></div><p>The function works for most databases, but for technical reasons doesn&rsquo;t work with all. It has been confirmed to not work work in spark databases or arrow tables.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span><span class=nf><a href=https://generics.r-lib.org/reference/augment.html>augment</a></span><span class=o>(</span><span class=nv>orbital_obj</span>, <span class=nv>penguins_sqlite</span><span class=o>)</span></span>
<span><span class=c>#&gt; <span style=color:#555># Source:   SQL [?? x 8]</span></span></span>
<span><span class=c>#&gt; <span style=color:#555># Database: sqlite 3.47.1 []</span></span></span>
<span><span class=c>#&gt;    .pred_class species island    bill_length_mm bill_depth_mm flipper_length_mm</span></span>
<span><span class=c>#&gt;    <span style=color:#555;font-style:italic>&lt;chr&gt;</span>       <span style=color:#555;font-style:italic>&lt;chr&gt;</span>   <span style=color:#555;font-style:italic>&lt;chr&gt;</span>              <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>         <span style=color:#555;font-style:italic>&lt;dbl&gt;</span>             <span style=color:#555;font-style:italic>&lt;int&gt;</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 1</span> Adelie      Adelie  Torgersen           39.1          18.7               181</span></span>
<span><span class=c>#&gt; <span style=color:#555> 2</span> Adelie      Adelie  Torgersen           39.5          17.4               186</span></span>
<span><span class=c>#&gt; <span style=color:#555> 3</span> Adelie      Adelie  Torgersen           40.3          18                 195</span></span>
<span><span class=c>#&gt; <span style=color:#555> 4</span> Adelie      Adelie  Torgersen           <span style=color:#b00>NA</span>            <span style=color:#b00>NA</span>                  <span style=color:#b00>NA</span></span></span>
<span><span class=c>#&gt; <span style=color:#555> 5</span> Adelie      Adelie  Torgersen           36.7          19.3               193</span></span>
<span><span class=c>#&gt; <span style=color:#555> 6</span> Adelie      Adelie  Torgersen           39.3          20.6               190</span></span>
<span><span class=c>#&gt; <span style=color:#555> 7</span> Adelie      Adelie  Torgersen           38.9          17.8               181</span></span>
<span><span class=c>#&gt; <span style=color:#555> 8</span> Adelie      Adelie  Torgersen           39.2          19.6               195</span></span>
<span><span class=c>#&gt; <span style=color:#555> 9</span> Adelie      Adelie  Torgersen           34.1          18.1               193</span></span>
<span><span class=c>#&gt; <span style=color:#555>10</span> Adelie      Adelie  Torgersen           42            20.2               190</span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ more rows</span></span></span>
<span><span class=c>#&gt; <span style=color:#555># ℹ 2 more variables: body_mass_g &lt;int&gt;, sex &lt;chr&gt;</span></span></span>
<span></span></code></pre></div><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>A big thank you to all the people who have contributed to orbital since the release of v0.3.0:</p><p><a href=https://github.com/EmilHvitfeldt target=_blank rel=noopener>@EmilHvitfeldt</a>,
<a href=https://github.com/joscani target=_blank rel=noopener>@joscani</a>,
<a href=https://github.com/jrosell target=_blank rel=noopener>@jrosell</a>,
<a href=https://github.com/npelikan target=_blank rel=noopener>@npelikan</a>, and
<a href=https://github.com/szimmer target=_blank rel=noopener>@szimmer</a>.</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#classification-support>Classification support</a></li><li><a href=#new-augment-method>New augment method</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>