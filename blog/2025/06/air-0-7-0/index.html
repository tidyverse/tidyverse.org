<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>Air 0.7.0</title><meta property="og:title" content="Air 0.7.0"><meta property="og:description" content="Read all about Air 0.7.0, including: even better Positron support, a new feature we call autobracing, and an official GitHub Action!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2025/06/air-0-7-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="Air 0.7.0 - Tidyverse"><meta property="description" content="Read all about Air 0.7.0, including: even better Positron support, a new feature we call autobracing, and an official GitHub Action!"><meta property="og:description" content="Read all about Air 0.7.0, including: even better Positron support, a new feature we call autobracing, and an official GitHub Action!"><meta property="og:image" content="https://www.tidyverse.org/blog/2025/06/air-0-7-0/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2025/06/air-0-7-0/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>Air 0.7.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2025/06/air-0-7-0/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/photo-of-island-and-thunder-E-Zuyev2XWo>Johannes Plenio</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2025/06/11</span></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Davis Vaughan and Lionel Henry</p><div class=article-content><p>We&rsquo;re very excited to announce
<a href=https://posit-dev.github.io/air/ target=_blank rel=noopener>Air 0.7.0</a>, a new release of our extremely fast R formatter. This post will act as a roundup of releases 0.5.0 through 0.7.0, including: even better Positron support, a new feature called autobracing, and an official GitHub Action! If you haven&rsquo;t heard of Air, read our
<a href=https://www.tidyverse.org/blog/2025/02/air/ target=_blank rel=noopener>announcement blog post</a> first to get up to speed. To install Air, read our
<a href=https://posit-dev.github.io/air/editors.html target=_blank rel=noopener>editors guide</a>.</p><h2 id=positron>Positron
<a href=#positron><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The
<a href=https://open-vsx.org/extension/posit/air-vscode target=_blank rel=noopener>Air extension</a> is now included in
<a href=https://positron.posit.co/ target=_blank rel=noopener>Positron</a> by default, and will automatically keep itself up to date. We&rsquo;ve been working hard to ensure that Air leaves a positive first impression, and we think that having Positron come batteries included with Air really helps with that! Positron now also ships with
<a href=https://docs.astral.sh/ruff/ target=_blank rel=noopener>Ruff</a>, the extremely fast Python formatter and linter, ensuring that you have a great editing experience out of the box, no matter which language you prefer.</p><p>We&rsquo;ve also streamlined the process of adding Air to a new or existing project. With dev usethis, you can now run
<a href=https://usethis.r-lib.org/dev/reference/use_air.html target=_blank rel=noopener><code>usethis::use_air()</code></a> to automatically configure recommended Air settings. In particular, this will:</p><ul><li><p>Create an
<a href=https://posit-dev.github.io/air/configuration.html#configuration-recommendations target=_blank rel=noopener>empty <code>air.toml</code></a>.</p></li><li><p>Create <code>.vscode/settings.json</code> filled with the following settings. This enables <code>Format on Save</code> within your workspace.</p><div class=highlight><pre class=chroma><code class=language-json data-lang=json><span class=p>{</span>
    <span class=nt>&#34;[r]&#34;</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>&#34;editor.formatOnSave&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
        <span class=nt>&#34;editor.defaultFormatter&#34;</span><span class=p>:</span> <span class=s2>&#34;Posit.air-vscode&#34;</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div></li><li><p>Create <code>.vscode/extensions.json</code> filled with the following settings. This automatically prompts contributors that don&rsquo;t have the Air extension to install it when they open your workspace, ensuring that everyone is using the same formatter!</p><div class=highlight><pre class=chroma><code class=language-json data-lang=json><span class=p>{</span>
    <span class=nt>&#34;recommendations&#34;</span><span class=p>:</span> <span class=p>[</span>
        <span class=s2>&#34;Posit.air-vscode&#34;</span>
    <span class=p>]</span>
<span class=p>}</span>
</code></pre></div></li><li><p>Update your <code>.Rbuildignore</code> to exclude Air related configuration, if you&rsquo;re working on an R package.</p></li></ul><p>Once you&rsquo;ve used usethis to configure Air, you can now immediately reformat your entire workspace by running <code>Air: Format Workspace Folder</code> from the Command Palette (accessible via <code>Cmd + Shift + P</code> on Mac/Linux, or <code>Ctrl + Shift + P</code> on Windows). I&rsquo;ve found that this is invaluable for adopting Air in an existing project!</p><p>To summarize, we&rsquo;ve reduced our advice on adding Air to an existing project down to:</p><ul><li><p>Open Positron</p></li><li><p>Run
<a href=https://usethis.r-lib.org/reference/use_air.html target=_blank rel=noopener><code>usethis::use_air()</code></a></p></li><li><p>Run <code>Air: Format Workspace Folder</code></p></li><li><p>Commit, push, and then enjoy using <code>Format on Save</code> forevermore ðŸ˜„</p></li></ul><h2 id=more-editors>More editors!
<a href=#more-editors><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Positron isn&rsquo;t the only editor that&rsquo;s received some love! We now have official documentation for using Air in the following editors:</p><ul><li><p><a href=https://posit-dev.github.io/air/editor-zed.html target=_blank rel=noopener>Zed</a></p></li><li><p><a href=https://posit-dev.github.io/air/editor-neovim.html target=_blank rel=noopener>Neovim</a></p></li><li><p><a href=https://posit-dev.github.io/air/editor-helix.html target=_blank rel=noopener>Helix</a></p></li></ul><p>We&rsquo;re very proud of the fact that Air can be used within any editor, not just RStudio and Positron! This documentation was a community effort - thanks in particular to
<a href=https://github.com/taplasz target=_blank rel=noopener>@taplasz</a>,
<a href=https://github.com/PMassicotte target=_blank rel=noopener>@PMassicotte</a>,
<a href=https://github.com/m-muecke target=_blank rel=noopener>@m-muecke</a>,
<a href=https://github.com/TymekDev target=_blank rel=noopener>@TymekDev</a>, and
<a href=https://github.com/wurli target=_blank rel=noopener>@wurli</a>.</p><h2 id=autobracing>Autobracing
<a href=#autobracing><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Autobracing is the process of adding braces (i.e.Â 
<a href=https://rdrr.io/r/base/Paren.html target=_blank rel=noopener><code>{ }</code></a>) to if statements, loops, and function definitions to create more consistent, readable, and portable code. It looks like this:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>for </span><span class=p>(</span><span class=n>i</span> <span class=n>in</span> <span class=nf>seq_along</span><span class=p>(</span><span class=n>x</span><span class=p>))</span> <span class=n>x[[i]]</span> <span class=o>&lt;-</span> <span class=n>x[[i]]</span> <span class=o>+</span> <span class=m>1L</span>

<span class=c1># Becomes:</span>
<span class=nf>for </span><span class=p>(</span><span class=n>i</span> <span class=n>in</span> <span class=nf>seq_along</span><span class=p>(</span><span class=n>x</span><span class=p>))</span> <span class=p>{</span>
  <span class=n>x[[i]]</span> <span class=o>&lt;-</span> <span class=n>x[[i]]</span> <span class=o>+</span> <span class=m>1L</span>
<span class=p>}</span>

<span class=nf>function</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
  <span class=nf>call_that_spans_lines</span><span class=p>(</span>
    <span class=n>x</span><span class=p>,</span>
    <span class=n>y</span><span class=p>,</span>
    <span class=n>fixed_option</span> <span class=o>=</span> <span class=kc>FALSE</span>
  <span class=p>)</span>

<span class=c1># Becomes:</span>
<span class=nf>function</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=p>{</span>
  <span class=nf>call_that_spans_lines</span><span class=p>(</span>
    <span class=n>x</span><span class=p>,</span>
    <span class=n>y</span><span class=p>,</span>
    <span class=n>fixed_option</span> <span class=o>=</span> <span class=kc>FALSE</span>
  <span class=p>)</span>
<span class=p>}</span>
</code></pre></div><p>It&rsquo;s particularly important to autobrace multiline if statements for <em>portability</em>, which we roughly define as the ability to copy and paste that if statement into any context and have it still parse correctly. Consider the following if statement:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>do_something</span> <span class=o>&lt;-</span> <span class=nf>function</span><span class=p>(</span><span class=n>this</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span> <span class=p>{</span>
  <span class=nf>if </span><span class=p>(</span><span class=n>this</span><span class=p>)</span>
    <span class=nf>do_this</span><span class=p>()</span>
  <span class=n>else</span> 
    <span class=nf>do_that</span><span class=p>()</span>
<span class=p>}</span>
</code></pre></div><p>As written, this is correct R code, but if you were to pull out the if statement and place it in a file at &ldquo;top level&rdquo; and try to run it, you&rsquo;d see a parse error:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>if </span><span class=p>(</span><span class=n>this</span><span class=p>)</span>
  <span class=nf>do_this</span><span class=p>()</span>
<span class=n>else</span> 
  <span class=nf>do_that</span><span class=p>()</span>
<span class=c1>#&gt; Error: unexpected &#39;else&#39;</span>
</code></pre></div><p>In practice, this typically bites you when you&rsquo;re debugging and you send a chunk of lines to the console:</p><video controls autoplay loop muted width=100% src=video/portable-if-statement.mov style="border:2px solid #ccc"></video><p>Air autobraces this if statement to the following, which has no issues with portability:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>do_something</span> <span class=o>&lt;-</span> <span class=nf>function</span><span class=p>(</span><span class=n>this</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span> <span class=p>{</span>
  <span class=nf>if </span><span class=p>(</span><span class=n>this</span><span class=p>)</span> <span class=p>{</span>
    <span class=nf>do_this</span><span class=p>()</span>
  <span class=p>}</span> <span class=n>else</span> <span class=p>{</span>
    <span class=nf>do_that</span><span class=p>()</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h3 id=give-side-effects-some-air>Give side effects some Air
<a href=#give-side-effects-some-air><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>We believe code that create <em>side effects</em> which modify state or affect control flow are important enough to live on their own line. For example, the following
<a href=https://rdrr.io/r/base/stop.html target=_blank rel=noopener><code>stop()</code></a> call is an example of a side effect, so it moves to its own line and is autobraced:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>if </span><span class=p>(</span><span class=nf>anyNA</span><span class=p>(</span><span class=n>x</span><span class=p>))</span> <span class=nf>stop</span><span class=p>(</span><span class=s>&#34;`x` can&#39;t contain missing values.&#34;</span><span class=p>)</span>

<span class=c1># Becomes:</span>
<span class=nf>if </span><span class=p>(</span><span class=nf>anyNA</span><span class=p>(</span><span class=n>x</span><span class=p>))</span> <span class=p>{</span>
  <span class=nf>stop</span><span class=p>(</span><span class=s>&#34;`x` can&#39;t contain missing values.&#34;</span><span class=p>)</span>
<span class=p>}</span>
</code></pre></div><p>You might be thinking, &ldquo;But I like my single line if statements!&rdquo; We do too! Air still allows single line if statements if they look to be used for their <em>value</em> rather than for their <em>side effect</em>. These single line if statements are still allowed:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>x</span> <span class=o>&lt;-</span> <span class=nf>if </span><span class=p>(</span><span class=n>condition</span><span class=p>)</span> <span class=n>this</span> <span class=n>else</span> <span class=n>that</span>

<span class=n>x</span> <span class=o>&lt;-</span> <span class=n>x</span> <span class=o>%||%</span> <span class=nf>if </span><span class=p>(</span><span class=n>condition</span><span class=p>)</span> <span class=n>this</span> <span class=n>else</span> <span class=n>that</span>

<span class=nf>list</span><span class=p>(</span><span class=n>a</span> <span class=o>=</span> <span class=nf>if </span><span class=p>(</span><span class=n>condition</span><span class=p>)</span> <span class=n>this</span> <span class=n>else</span> <span class=n>that</span><span class=p>)</span>
</code></pre></div><p>Similarly, single line function definitions are also still allowed if they don&rsquo;t already have braces and don&rsquo;t exceed the line length:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>add_one</span> <span class=o>&lt;-</span> <span class=nf>function</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=n>x</span> <span class=o>+</span> <span class=m>1</span>

<span class=n>bools</span> <span class=o>&lt;-</span> <span class=nf>map_lgl</span><span class=p>(</span><span class=n>xs</span><span class=p>,</span> <span class=nf>function</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=nf>is.logical</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=nf>length</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>==</span> <span class=m>1L</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=nf>is.na</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
</code></pre></div><p>For the full set of rules, check out our
<a href=https://posit-dev.github.io/air/formatter.html#autobracing target=_blank rel=noopener>documentation on autobracing</a>.</p><h2 id=empty-braces>Empty braces
<a href=#empty-braces><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>You may have noticed the following forced expansion of empty
<a href=https://rdrr.io/r/base/Paren.html target=_blank rel=noopener><code>{}</code></a> in previous versions of Air:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>dummy</span> <span class=o>&lt;-</span> <span class=nf>function</span><span class=p>()</span> <span class=p>{}</span>

<span class=c1># Previously became:</span>
<span class=n>dummy</span> <span class=o>&lt;-</span> <span class=nf>function</span><span class=p>()</span> <span class=p>{</span>
<span class=p>}</span>

<span class=nf>tryCatch</span><span class=p>(</span><span class=n>fn</span><span class=p>,</span> <span class=n>error</span> <span class=o>=</span> <span class=nf>function</span><span class=p>(</span><span class=n>e</span><span class=p>)</span> <span class=p>{})</span>

<span class=c1># Previously became:</span>
<span class=nf>tryCatch</span><span class=p>(</span><span class=n>fn</span><span class=p>,</span> <span class=n>error</span> <span class=o>=</span> <span class=nf>function</span><span class=p>(</span><span class=n>e</span><span class=p>)</span> <span class=p>{</span>
<span class=p>})</span>

<span class=nf>my_fn</span><span class=p>(</span><span class=n>expr</span> <span class=o>=</span> <span class=p>{},</span> <span class=n>option</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span>

<span class=c1># Previously became:</span>
<span class=nf>my_fn</span><span class=p>(</span>
  <span class=n>expr</span> <span class=o>=</span> <span class=p>{</span>
  <span class=p>},</span> 
  <span class=n>option</span> <span class=o>=</span> <span class=kc>TRUE</span>
<span class=p>)</span>
</code></pre></div><p>As of 0.7.0, empty braces
<a href=https://rdrr.io/r/base/Paren.html target=_blank rel=noopener><code>{}</code></a> are now never expanded, which retains the original form of each of these examples.</p><h2 id=skip-configuration><code>skip</code> configuration
<a href=#skip-configuration><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>In
<a href=https://www.tidyverse.org/blog/2025/02/air/#how-can-i-disable-formatting target=_blank rel=noopener>our release post</a>, we detailed how to disable formatting using a <code># fmt: skip</code> comment for a single expression, or a <code># fmt: skip file</code> comment for an entire file. Skip comments are useful for disabling formatting for one-off function calls, but sometimes you may find yourself repeatedly using functions from a domain specific language (DSL) that doesn&rsquo;t follow conventional formatting rules. For example, the igraph package contains a DSL for constructing a graph from a literal representation:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>igraph</span><span class=o>::</span><span class=nf>graph_from_literal</span><span class=p>(</span><span class=n>A</span> <span class=o>+-+</span> <span class=n>B</span> <span class=o>+---+</span> <span class=n>C</span> <span class=o>++</span> <span class=n>D</span> <span class=o>+</span> <span class=n>E</span><span class=p>)</span>
</code></pre></div><p>By default, Air would format this as:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>igraph</span><span class=o>::</span><span class=nf>graph_from_literal</span><span class=p>(</span><span class=n>A</span> <span class=o>+</span> <span class=o>-+</span><span class=n>B</span> <span class=o>+</span> <span class=o>---+</span><span class=n>C</span> <span class=o>+</span> <span class=o>+</span><span class=n>D</span> <span class=o>+</span> <span class=n>E</span><span class=p>)</span>
</code></pre></div><p>If you use <code>graph_from_literal()</code> often, it would be annoying to add <code># fmt: skip</code> comments at every call site. Instead, <code>air.toml</code> now supports a <code>skip</code> field that allows you to specify function names that you never want formatting for. Specifying this would retain the original formatting of the <code>graph_from_literal()</code> call, even without a <code># fmt: skip</code> comment:</p><div class=highlight><pre class=chroma><code class=language-toml data-lang=toml><span class=nx>skip</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;graph_from_literal&#34;</span><span class=p>]</span>
</code></pre></div><p>In the short term, you may also want to use this for
<a href=https://tibble.tidyverse.org/reference/tribble.html target=_blank rel=noopener><code>tibble::tribble()</code></a> calls, i.e.Â <code>skip = ["tribble"]</code>. In the long term, we&rsquo;re hoping to provide more sophisticated tooling for formatting using a
<a href=https://github.com/posit-dev/air/issues/113 target=_blank rel=noopener>specified alignment</a>.</p><h2 id=github-action>GitHub Action
<a href=#github-action><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Air now has an official GitHub Action,
<a href=https://github.com/posit-dev/setup-air target=_blank rel=noopener><code>setup-air</code></a>. This action really only has one job - to get Air installed on your GitHub runner and put on the <code>PATH</code>. The basic usage is:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml>- <span class=k>name</span><span class=p>:</span><span class=w> </span>Install<span class=w> </span>Air<span class=w>
</span><span class=w>  </span><span class=k>uses</span><span class=p>:</span><span class=w> </span>posit-dev/setup-air@v1<span class=w>
</span></code></pre></div><p>If you need to pin a version:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml>- <span class=k>name</span><span class=p>:</span><span class=w> </span>Install<span class=w> </span>Air<span class=w> </span><span class=m>0.4.4</span><span class=w>
</span><span class=w>  </span><span class=k>uses</span><span class=p>:</span><span class=w> </span>posit-dev/setup-air@v1<span class=w>
</span><span class=w>  </span><span class=k>with</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.4.4&#34;</span><span class=w>
</span></code></pre></div><p>From there, you can call Air&rsquo;s CLI in downstream steps. A minimal workflow that errors if any files require formatting might look like:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml>- <span class=k>name</span><span class=p>:</span><span class=w> </span>Install<span class=w> </span>Air<span class=w>
</span><span class=w>  </span><span class=k>uses</span><span class=p>:</span><span class=w> </span>posit-dev/setup-air@v1<span class=w>
</span><span class=w>
</span><span class=w></span>- <span class=k>name</span><span class=p>:</span><span class=w> </span>Check<span class=w> </span>formatting<span class=w>
</span><span class=w>  </span><span class=k>run</span><span class=p>:</span><span class=w> </span>air<span class=w> </span>format<span class=w> </span>.<span class=w> </span>--check<span class=w>
</span></code></pre></div><p>Rather than creating the workflow file yourself, we instead recommend using usethis to pull in our
<a href=https://github.com/posit-dev/setup-air/blob/main/examples/format-suggest.yaml target=_blank rel=noopener>example workflow</a>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>usethis</span><span class=o>::</span><span class=nf>use_github_action</span><span class=p>(</span><span class=n>url</span> <span class=o>=</span> <span class=s>&#34;https://github.com/posit-dev/setup-air/blob/main/examples/format-suggest.yaml&#34;</span><span class=p>)</span>
</code></pre></div><p>This is a special workflow that runs on pull requests. It calls <code>air format</code> and then uses
<a href=https://github.com/reviewdog/action-suggester target=_blank rel=noopener><code>reviewdog/action-suggester</code></a> to push any formatting diffs as GitHub Suggestion comments on your pull request. It looks like this:</p><p><img src=figs/format-suggest-example.png alt></p><p>You can accept all suggestions in a single batch, which will then rerun the format check, along with any other GitHub workflows (like an R package check), so you can feel confident that accepting the changes hasn&rsquo;t broken anything.</p><p>We like this workflow because it provides an easy way for external contributors who aren&rsquo;t using Air to still abide by your formatting rules. The external contributor can even accept the suggestions themselves, so by the time you look at their pull request it&rsquo;s already good to go from a formatting perspective âœ…!</p><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>A big thanks to the 49 users who helped make this release possible by finding bugs, discussing issues, contributing documentation, and writing code:
<a href=https://github.com/adisarid target=_blank rel=noopener>@adisarid</a>,
<a href=https://github.com/aronatkins target=_blank rel=noopener>@aronatkins</a>,
<a href=https://github.com/ateucher target=_blank rel=noopener>@ateucher</a>,
<a href=https://github.com/avhz target=_blank rel=noopener>@avhz</a>,
<a href=https://github.com/aymennasri target=_blank rel=noopener>@aymennasri</a>,
<a href=https://github.com/christophe-gouel target=_blank rel=noopener>@christophe-gouel</a>,
<a href=https://github.com/dkStevensNZed target=_blank rel=noopener>@dkStevensNZed</a>,
<a href=https://github.com/eitsupi target=_blank rel=noopener>@eitsupi</a>,
<a href=https://github.com/ELICHOS target=_blank rel=noopener>@ELICHOS</a>,
<a href=https://github.com/fh-mthomson target=_blank rel=noopener>@fh-mthomson</a>,
<a href=https://github.com/fzenoni target=_blank rel=noopener>@fzenoni</a>,
<a href=https://github.com/gaborcsardi target=_blank rel=noopener>@gaborcsardi</a>,
<a href=https://github.com/grasshoppermouse target=_blank rel=noopener>@grasshoppermouse</a>,
<a href=https://github.com/hadley target=_blank rel=noopener>@hadley</a>,
<a href=https://github.com/idavydov target=_blank rel=noopener>@idavydov</a>,
<a href=https://github.com/j-dobner target=_blank rel=noopener>@j-dobner</a>,
<a href=https://github.com/jacpete target=_blank rel=noopener>@jacpete</a>,
<a href=https://github.com/jeffkeller-einc target=_blank rel=noopener>@jeffkeller-einc</a>,
<a href=https://github.com/jhk0530 target=_blank rel=noopener>@jhk0530</a>,
<a href=https://github.com/joakimlinde target=_blank rel=noopener>@joakimlinde</a>,
<a href=https://github.com/JosephBARBIERDARNAL target=_blank rel=noopener>@JosephBARBIERDARNAL</a>,
<a href=https://github.com/JosiahParry target=_blank rel=noopener>@JosiahParry</a>,
<a href=https://github.com/kkanden target=_blank rel=noopener>@kkanden</a>,
<a href=https://github.com/krlmlr target=_blank rel=noopener>@krlmlr</a>,
<a href=https://github.com/Kupac target=_blank rel=noopener>@Kupac</a>,
<a href=https://github.com/kv9898 target=_blank rel=noopener>@kv9898</a>,
<a href=https://github.com/lcolladotor target=_blank rel=noopener>@lcolladotor</a>,
<a href=https://github.com/lulunac27a target=_blank rel=noopener>@lulunac27a</a>,
<a href=https://github.com/m-muecke target=_blank rel=noopener>@m-muecke</a>,
<a href=https://github.com/maelle target=_blank rel=noopener>@maelle</a>,
<a href=https://github.com/matanhakim target=_blank rel=noopener>@matanhakim</a>,
<a href=https://github.com/njtierney target=_blank rel=noopener>@njtierney</a>,
<a href=https://github.com/novica target=_blank rel=noopener>@novica</a>,
<a href=https://github.com/ntluong95 target=_blank rel=noopener>@ntluong95</a>,
<a href=https://github.com/philibe target=_blank rel=noopener>@philibe</a>,
<a href=https://github.com/PMassicotte target=_blank rel=noopener>@PMassicotte</a>,
<a href=https://github.com/RobinKohrs target=_blank rel=noopener>@RobinKohrs</a>,
<a href=https://github.com/salim-b target=_blank rel=noopener>@salim-b</a>,
<a href=https://github.com/sawelch-NIVA target=_blank rel=noopener>@sawelch-NIVA</a>,
<a href=https://github.com/schochastics target=_blank rel=noopener>@schochastics</a>,
<a href=https://github.com/Sebastian-T-T target=_blank rel=noopener>@Sebastian-T-T</a>,
<a href=https://github.com/stevenpav-helm target=_blank rel=noopener>@stevenpav-helm</a>,
<a href=https://github.com/t-kalinowski target=_blank rel=noopener>@t-kalinowski</a>,
<a href=https://github.com/taplasz target=_blank rel=noopener>@taplasz</a>,
<a href=https://github.com/tbadams45cdm target=_blank rel=noopener>@tbadams45cdm</a>,
<a href=https://github.com/wurli target=_blank rel=noopener>@wurli</a>,
<a href=https://github.com/xx02al target=_blank rel=noopener>@xx02al</a>,
<a href=https://github.com/Yunuuuu target=_blank rel=noopener>@Yunuuuu</a>, and
<a href=https://github.com/yutannihilation target=_blank rel=noopener>@yutannihilation</a>.</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#positron>Positron</a></li><li><a href=#more-editors>More editors!</a></li><li><a href=#autobracing>Autobracing</a></li><li><a href=#empty-braces>Empty braces</a></li><li><a href=#skip-configuration><code>skip</code> configuration</a></li><li><a href=#github-action>GitHub Action</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>