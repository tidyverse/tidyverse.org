<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>broom 0.5.0</title><meta property="og:title" content="broom 0.5.0"><meta property="og:description" content="broom 0.5.0 is on CRAN."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2018/07/broom-0-5-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="broom 0.5.0 - Tidyverse"><meta property="description" content="broom 0.5.0 is on CRAN."><meta property="og:description" content="broom 0.5.0 is on CRAN."><meta property="og:image" content="https://www.tidyverse.org/blog/2018/07/broom-0-5-0/broom-0-5-0-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2018/07/broom-0-5-0/broom-0-5-0-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>broom 0.5.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2018/07/broom-0-5-0/broom-0-5-0-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/vYcH7pI6v1Q>Nagesh Badu</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2018/07/17</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/tidymodels/>tidymodels</a>,
<a href=/tags/broom/>broom</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Alex Hayes</p><div class=article-content><html><style>h2 code{font-size:1em}</style></html><p>I am delighted to announced that
<a href=https://broom.tidyverse.org/ target=_blank rel=noopener>broom</a> 0.5.0 is now available on CRAN. broom 0.5.0 is a major new release featuring changes that affect both users and developers. See the
<a href=https://broom.tidyverse.org/news/ target=_blank rel=noopener>News</a> for a detailed list of changes.</p><p>This release was possible due to RStudio&rsquo;s internship program, which has enabled me (
<a href=https://github.com/alexpghayes/ target=_blank rel=noopener>Alex Hayes</a>) to act as broom&rsquo;s maintainer for the course of the summer. David Robinson continues to steer design decisions. Many thanks to both RStudio and Dave for this opportunity.</p><h2 id=tibble>Tibble output
<a href=#tibble><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>All tidiers should now return <code>tibble</code>s rather than <code>data.frame</code>s. This allows broom to take advantage of the nice tibble print method and the more consistent behavior of tibbles:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>library</span><span class=p>(</span><span class=n>broom</span><span class=p>)</span>

<span class=n>fit</span> <span class=o>&lt;-</span> <span class=nf>lm</span><span class=p>(</span><span class=n>mpg</span> <span class=o>~</span> <span class=n>.,</span> <span class=n>mtcars</span><span class=p>)</span>
<span class=nf>tidy</span><span class=p>(</span><span class=n>fit</span><span class=p>)</span>
</code></pre></div><pre><code>## # A tibble: 11 x 5
##   term        estimate std.error statistic p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
## 1 (Intercept)  12.3      18.7        0.657   0.518
## 2 cyl          -0.111     1.05      -0.107   0.916
## 3 disp          0.0133    0.0179     0.747   0.463
## 4 hp           -0.0215    0.0218    -0.987   0.335
## 5 drat          0.787     1.64       0.481   0.635
## # ... with 6 more rows
</code></pre><p>These changes will mostly likely affect you when you:</p><ul><li>subset with <code>[</code>, which always returns a tibble.</li><li>set rownames on a tibble, which is deprecated.</li><li>use augment methods on models with matrix covariates specified in a formula, which will error.</li></ul><p><code>augment()</code> will error with matrix covariates because tibbles are more strict about their contents than data frames. More details are
<a href=#appendix>available below</a>.</p><p>Deprecated tidiers still return data frames. Tidiers for mixed models also return data frames.</p><h2 id=new-tidiers>New tidiers
<a href=#new-tidiers><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>broom 0.5.0 introduces tidiers for:</p><ul><li><code>lavaan</code> objects from the <code>lavaan</code> package</li><li><code>ivreg</code> objects from the <code>AER</code> package</li><li><code>Kendall</code> objects from the <code>Kendall</code> package</li><li><code>garch</code> objects from the <code>tseries</code> package</li><li><code>irlba</code> lists from the <code>irlba</code> package</li><li><code>durbinWatsonTest</code> objects from the <code>car</code> package</li><li><code>confusionMatrix</code> objects from the <code>caret</code> package</li><li><code>glmnet</code> and <code>cv.glmnet</code> objects from the <code>glmnetUtils</code> package</li><li><code>clm</code> and <code>clmm</code> objects from the <code>ordinal</code> package</li><li><code>svyolr</code> objects from the <code>survey</code> package, and</li><li><code>polr</code> objects from the <code>MASS</code> package.</li></ul><p>In addition to these new tidiers, this release includes fixes for a large number of bugs in existing tidiers.</p><h2 id=new-test-suite>New test suite
<a href=#new-test-suite><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>We are heavily invested in making it easier to contribute to broom, and also in making broom behavior more standardized and consistent. To this end, we&rsquo;ve written new testing infrastructure. At the moment, the new tests mostly ensure tibble output. For example, <code>tidy()</code> output should now pass the following test:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>td</span> <span class=o>&lt;-</span> <span class=nf>tidy</span><span class=p>(</span><span class=n>model</span><span class=p>)</span>
<span class=nf>check_tidy_output</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
</code></pre></div><p>Similar tests exist for <code>glance()</code> and <code>augment()</code>. Stricter versions of these tests are under development for future releases.</p><h2 id=mixed-models-are-moving-to-broommixed>Mixed models are moving to <code>broom.mixed</code>
<a href=#mixed-models-are-moving-to-broommixed><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>As broom&rsquo;s popularity has grown, broom has grown to encompass a fairly broad range of models. Dave and I have little to no experience with many of these models, and while we can fix bugs in the tidying code, we are no longer able to determine what constitutes a reasonable summary for many of these models.</p><p>Our intended solution is to split broom into several packages for tidying model objects. broom will provide tidiers for popular models (and those in <code>base</code> and <code>stats</code>), and then domain experts will manage domain-specific tidying packages. Currently we&rsquo;re working on a spec for all of these sub-packages to implement. With any luck this we&rsquo;ll have a well-written spec to accompany the next release. We&rsquo;d like all of the domain-specific tidying packages to eventually live in
<a href=https://github.com/tidymodels target=_blank rel=noopener>tidymodels</a>, so that users can load a bunch of tools all at once with <code>library(tidymodels)</code>. tidymodels will act as meta-package that gathers together tidyverse compatible tools for modelling. Max Kuhn has migrated a number of his packages to the tidymodels organization, and we plan to move broom in the near future.</p><p>Mixed-model tidiers have long been a bit of a mess in broom. A while back
<a href=https://github.com/bbolker/broom.mixed target=_blank rel=noopener><code>broom.mixed</code></a> forked off to clean them up. broom.mixed is now a pilot for the larger project of splitting broom into domain specific tidying packages. We anticipate that broom.mixed will makes its way onto CRAN in the next several weeks, which will allow us to deprecate mixed model tidiers in broom 0.7.0. Although these models are
<a href=https://broom.tidyverse.org/news/index.html#deprecations target=_blank rel=noopener>not yet deprecated</a>, there is currently no ongoing development work for them. In particular, the tidiers for:</p><ul><li>lme, lme4 and nmle models,</li><li>brms models,</li><li>rstanarm models, and</li><li>mcmc objects</li></ul><p>are one release away from deprecation, and effectively frozen.</p><h2 id=new-suggested-workflow>New suggested workflow
<a href=#new-suggested-workflow><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>When working with many models at the same time, we now recommend using list-columns and a <code>nest()-map()-unnest()</code> workflow. This mirrors similar moves across the rest of the tidyverse. We have updated the
<a href=https://broom.tidyverse.org/articles/kmeans.html target=_blank rel=noopener>kmeans</a>,
<a href=https://broom.tidyverse.org/articles/broom_and_dplyr.html target=_blank rel=noopener>broom and dplyr</a> and
<a href=https://broom.tidyverse.org/articles/bootstrapping.html target=_blank rel=noopener>bootstrapping</a> vignettes to reflect the new workflow. Additional, we&rsquo;ve updated the bootstrapping vignette to use
<a href=https://tidymodels.github.io/rsample/ target=_blank rel=noopener>rsample</a> rather than the now-deprecated <code>bootstrap()</code> function. We no longer recommend the older <code>group_by()-do()</code> workflow.</p><h2 id=new-vignettes-and-documentation>New vignettes and documentation
<a href=#new-vignettes-and-documentation><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The list of available tidiers has been moved out of the README and into the
<a href=https://broom.tidyverse.org/articles/available-methods.html target=_blank rel=noopener>Available Methods</a> vignette.</p><p>We also have two new vignettes that are <strong>strictly works in progress</strong> at the moment. The first covers
<a href=https://broom.tidyverse.org/articles/adding-tidiers.html target=_blank rel=noopener>Adding New Tidiers</a> and seeks to make the barrier of entry for broom contributions as low as possible. The second contains a
<a href=https://broom.tidyverse.org/articles/glossary.html target=_blank rel=noopener>Glossary</a> of terms we are developing for use in an upcoming release of broom. This glossary will standardize argument names across tidiers, and column names across tidy output.</p><p>We have also migrated to a new template-based documentation strategy. Repeated documentation material now lives in <code>roxygen2</code> templates and can easily be added to a new tidy method. For an example of how this works, see
<a href=https://github.com/tidyverse/broom/blob/master/R/aer-tidiers.R target=_blank rel=noopener><code>R/aer-tidiers.R</code></a>.</p><h2 id=deprecations>Deprecations
<a href=#deprecations><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><h3 id=hard-deprecations>Hard deprecations
<a href=#hard-deprecations><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><ul><li><code>inflate()</code> has been removed from <code>broom</code></li><li>Matrix and vector tidiers have been deprecated in favor of <code>tibble::as_tibble()</code> and <code>tibble::enframe()</code></li><li>Dataframe tidiers and rowwise dataframe tidiers have been deprecated</li><li><code>bootstrap()</code> has been deprecated in favor of the
<a href=https://tidymodels.github.io/rsample/ target=_blank rel=noopener><code>rsample</code></a></li></ul><h3 id=soft-deprecations>Soft deprecations
<a href=#soft-deprecations><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>The following functions will be deprecated in the next release of broom:</p><ul><li><code>sp</code> tidying methods (in favor of <code>sf</code>)</li><li><code>tidy.summaryDefault()</code> (in favor of <code>skimr::skim()</code>)</li><li><code>tidy.table()</code> (in favor of <code>tibble::as_tibble()</code>)</li><li>Mixed model and bayesian tidiers</li></ul><h2 id=contributors>Contributors
<a href=#contributors><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Max Kuhn provided advice on dealing with model objects. Mara Averick provided feedback on drafts of this post.</p><p>An additional 38 fantastic contributors offered thoughtful comments on design, wrote bug reports and created PRs. The broom community has been kind, supportive and insighftul and I look forward to working you all again!</p><p><a href=https://github.com/atyre2 target=_blank rel=noopener>@atyre2</a>,
<a href=https://github.com/batpigandme target=_blank rel=noopener>@batpigandme</a>,
<a href=https://github.com/bfgray3 target=_blank rel=noopener>@bfgray3</a>,
<a href=https://github.com/bmannakee target=_blank rel=noopener>@bmannakee</a>,
<a href=https://github.com/briatte target=_blank rel=noopener>@briatte</a>,
<a href=https://github.com/cawoodjm target=_blank rel=noopener>@cawoodjm</a>,
<a href=https://github.com/cimentadaj target=_blank rel=noopener>@cimentadaj</a>,
<a href=https://github.com/dan87134 target=_blank rel=noopener>@dan87134</a>,
<a href=https://github.com/dmenne target=_blank rel=noopener>@dmenne</a>,
<a href=https://github.com/ekatko1 target=_blank rel=noopener>@ekatko1</a>,
<a href=https://github.com/ellessenne target=_blank rel=noopener>@ellessenne</a>,
<a href=https://github.com/erleholgersen target=_blank rel=noopener>@erleholgersen</a>,
<a href=https://github.com/Hong-Revo target=_blank rel=noopener>@Hong-Revo</a>,
<a href=https://github.com/huftis target=_blank rel=noopener>@huftis</a>,
<a href=https://github.com/IndrajeetPatil target=_blank rel=noopener>@IndrajeetPatil</a>,
<a href=https://github.com/jacob-long target=_blank rel=noopener>@jacob-long</a>,
<a href=https://github.com/jarvisc1 target=_blank rel=noopener>@jarvisc1</a>,
<a href=https://github.com/jenzopr target=_blank rel=noopener>@jenzopr</a>,
<a href=https://github.com/jgabry target=_blank rel=noopener>@jgabry</a>,
<a href=https://github.com/jimhester target=_blank rel=noopener>@jimhester</a>,
<a href=https://github.com/josue-rodriguez target=_blank rel=noopener>@josue-rodriguez</a>,
<a href=https://github.com/karldw target=_blank rel=noopener>@karldw</a>,
<a href=https://github.com/kfeilich target=_blank rel=noopener>@kfeilich</a>,
<a href=https://github.com/larmarange target=_blank rel=noopener>@larmarange</a>,
<a href=https://github.com/lboller target=_blank rel=noopener>@lboller</a>,
<a href=https://github.com/mariusbarth target=_blank rel=noopener>@mariusbarth</a>,
<a href=https://github.com/michaelweylandt target=_blank rel=noopener>@michaelweylandt</a>,
<a href=https://github.com/mine-cetinkaya-rundel target=_blank rel=noopener>@mine-cetinkaya-rundel</a>,
<a href=https://github.com/mkuehn10 target=_blank rel=noopener>@mkuehn10</a>,
<a href=https://github.com/mvevans89 target=_blank rel=noopener>@mvevans89</a>,
<a href=https://github.com/nutterb target=_blank rel=noopener>@nutterb</a>,
<a href=https://github.com/ShreyasSingh target=_blank rel=noopener>@ShreyasSingh</a>,
<a href=https://github.com/stephlocke target=_blank rel=noopener>@stephlocke</a>,
<a href=https://github.com/strengejacke target=_blank rel=noopener>@strengejacke</a>,
<a href=https://github.com/topepo target=_blank rel=noopener>@topepo</a>,
<a href=https://github.com/willbowditch target=_blank rel=noopener>@willbowditch</a>,
<a href=https://github.com/WillemSleegers target=_blank rel=noopener>@WillemSleegers</a>, and
<a href=https://github.com/wilsonfreitas target=_blank rel=noopener>@wilsonfreitas</a></p><h2 id=appendix>Additional details on tibbles and <code>augment()</code>
<a href=#appendix><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Data frames allow users to specify columns in a matrix, like so:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>y</span> <span class=o>&lt;-</span> <span class=nf>rnorm</span><span class=p>(</span><span class=m>5</span><span class=p>)</span>
<span class=n>x</span> <span class=o>&lt;-</span> <span class=nf>matrix</span><span class=p>(</span><span class=nf>rnorm</span><span class=p>(</span><span class=m>10</span><span class=p>),</span> <span class=n>nrow</span> <span class=o>=</span> <span class=m>5</span><span class=p>)</span>
<span class=n>df</span> <span class=o>&lt;-</span> <span class=nf>data.frame</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</code></pre></div><p>Tibbles do not:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>library</span><span class=p>(</span><span class=n>tibble</span><span class=p>)</span>

<span class=nf>tibble</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</code></pre></div><pre><code>## Error: Column `x` must be a 1d atomic vector or a list
</code></pre><p>Modelling functions will occasionally create a data frame like this, but since the model frame can&rsquo;t be coerced a tibble method, <code>augment()</code> will fail:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>fit</span> <span class=o>&lt;-</span> <span class=nf>lm</span><span class=p>(</span><span class=n>y</span> <span class=o>~</span> <span class=n>x</span><span class=p>,</span> <span class=n>df</span><span class=p>)</span>
<span class=nf>augment</span><span class=p>(</span><span class=n>fit</span><span class=p>)</span>
</code></pre></div><pre><code>## Error: Column `x` must be a 1d atomic vector or a list
</code></pre><p>In some cases, explicitly passing the original dataset via the <code>data</code> argument can resolve this:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>augment</span><span class=p>(</span><span class=n>fit</span><span class=p>,</span> <span class=n>data</span> <span class=o>=</span> <span class=n>df</span><span class=p>)</span>
</code></pre></div><pre><code>## # A tibble: 5 x 10
##       X1     X2      y .fitted .se.fit   .resid  .hat .sigma   .cooksd
## *  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
## 1  0.617 -0.720 -0.167   0.173   0.341 -0.340   0.661  0.108 1.26     
## 2 -0.164  0.943 -0.389  -0.158   0.291 -0.232   0.480  0.499 0.181    
## 3 -0.434  0.424 -0.339  -0.529   0.390  0.190   0.863  0.300 3.12     
## 4  0.231  0.696  0.148   0.150   0.310 -0.00177 0.545  0.594 0.0000156
## 5  0.663 -0.274  0.704   0.320   0.282  0.384   0.451  0.290 0.418    
## # ... with 1 more variable: .std.resid &lt;dbl&gt;
</code></pre><p>Support for matrix-columns is on the way in dplyr and in a release cycle or two this won&rsquo;t be an issue.</p><p><a href=#tibble>Back to tibble section</a></p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#tibble>Tibble output</a></li><li><a href=#new-tidiers>New tidiers</a></li><li><a href=#new-test-suite>New test suite</a></li><li><a href=#mixed-models-are-moving-to-broommixed>Mixed models are moving to <code>broom.mixed</code></a></li><li><a href=#new-suggested-workflow>New suggested workflow</a></li><li><a href=#new-vignettes-and-documentation>New vignettes and documentation</a></li><li><a href=#deprecations>Deprecations</a></li><li><a href=#contributors>Contributors</a></li><li><a href=#appendix>Additional details on tibbles and <code>augment()</code></a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>