<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>usethis 1.0.0 (and 1.1.0)</title><meta property="og:title" content="usethis 1.0.0 (and 1.1.0)"><meta property="og:description" content="We’re pleased to announce the release of usethis 1.0.0 on CRAN (now 1.1.0, following some small improvements discovered after release). usethis is designed to smooth package-development workflows by automating everything that can be automated. Many of the functions were previously part of devtools, but have been extracted out in their own package to give them more room to grow.
install.packages(&#34;usethis&#34;) R packages Get started by loading usethis and running create_package()."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2017/11/usethis-1.0.0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="usethis 1.0.0 (and 1.1.0) - Tidyverse"><meta property="description" content><meta property="og:description" content><meta property="og:image" content="https://www.tidyverse.org/blog/2017/11/usethis-1.0.0/usethis-1.0.0-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2017/11/usethis-1.0.0/usethis-1.0.0-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>usethis 1.0.0 (and 1.1.0)</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2017/11/usethis-1.0.0/usethis-1.0.0-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/IClZBVw5W5A>Todd Quackenbush</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2017/11/28</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/r-lib/>r-lib</a>,
<a href=/tags/usethis/>usethis</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Hadley Wickham</p><div class=article-content><p>We’re pleased to announce the release of <a href=https://github.com/r-lib/usethis/releases/tag/v1.0.0>usethis 1.0.0</a> on CRAN (now <a href=https://github.com/r-lib/usethis/releases/tag/v1.1.0>1.1.0</a>, following some small improvements discovered after release). usethis is designed to smooth package-development workflows by automating everything that can be automated. Many of the functions were previously part of devtools, but have been extracted out in their own package to give them more room to grow.</p><pre class=r><code>install.packages(&quot;usethis&quot;)</code></pre><div id=r-packages class="section level2"><h2>R packages</h2><p>Get started by loading usethis and running <code>create_package()</code>. For this blog post, I’m going to create a package in a temporary directory, but normally you’d create it somewhere safe!</p><pre class=r><code>library(usethis)

# Create a new package -------------------------------------------------
tmp &lt;- file.path(tempdir(), &quot;mypkg&quot;)
create_package(tmp)
#&gt; Changing active project to mypkg
#&gt; ✔ Creating &#39;R/&#39;
#&gt; ✔ Creating &#39;man/&#39;
#&gt; ✔ Writing &#39;DESCRIPTION&#39;
#&gt; ✔ Writing &#39;NAMESPACE&#39;</code></pre><p>If you’re using RStudio, this will automatically open a new RStudio session. Generally, usethis is tightly integrated with RStudio but should work with other editors too. The fallbacks for non-RStudio editors aren’t as well tested, so please <a href=https://github.com/r-lib/usethis/issues>let us know</a> if you encounter problems.</p><p>(If you find yourself using usethis a lot and don’t want to load it everytime, run <code>use_usethis()</code> and follow the instructions.)</p><p>Notice that the output includes “Changing active project to mypkg”. usethis has the concept of an “active project” which is where all usethis functions will have effect. It is usually the working directory, but is changed automatically by the <code>create_</code> functions, and can be changed manually with <code>proj_set()</code>.</p><p>If you don’t want a package, use <code>create_project()</code> to create a minimal <a href=https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects>RStudio project</a>. usethis is gradually evolving towards supporting more general R “projects” but this is still a work in progress. Please <a href=https://github.com/r-lib/usethis/issues>let us know</a> if you have ideas or discover a problem!</p><div id=code-and-tests class="section level3"><h3>Code and tests</h3><p><code>use_r()</code> will create/edit a script file in <code>R/</code>:</p><pre class=r><code>use_r(&quot;foo&quot;)
#&gt; ● Edit &#39;R/foo.R&#39;</code></pre><p><code>use_test("foo")</code> will set up all the infrastructure you need for <a href=http://r-pkgs.had.co.nz/tests.html>unit testing</a>, and create/edit a test file in <code>tests/teststhat/</code>:</p><pre class=r><code>use_test(&quot;foo&quot;)
#&gt; ✔ Adding &#39;testthat&#39; to Suggests field in DESCRIPTION
#&gt; ✔ Creating &#39;tests/testthat/&#39;
#&gt; ✔ Writing &#39;tests/testthat.R&#39;
#&gt; ✔ Writing &#39;tests/testthat/test-foo.R&#39;
#&gt; ● Edit &#39;tests/testthat/test-foo.R&#39;</code></pre><p>We recommend that you have paired test and source files. If you use RStudio, you can use <code>use_test()</code> to create/edit the test file corresponding to the open source file, and <code>use_r()</code> to create/edit to the source file corresponding to the open test file.</p></div><div id=dependencies class="section level3"><h3>Dependencies</h3><p>To declare that your project has some dependencies, use <code>use_package()</code>:</p><pre class=r><code>use_package(&quot;ggplot2&quot;)
#&gt; ✔ Adding &#39;ggplot2&#39; to Imports field in DESCRIPTION
#&gt; ● Refer to functions with `ggplot2::fun()`
use_package(&quot;dplyr&quot;)
#&gt; ✔ Adding &#39;dplyr&#39; to Imports field in DESCRIPTION
#&gt; ● Refer to functions with `dplyr::fun()`</code></pre><p>Or if you want a dependency on a development version of a package, use <code>use_dev_package()</code>.</p></div><div id=documentation class="section level3"><h3>Documentation</h3><p>Take advantage of these helpers to document your package:</p><ul><li><p><code>use_roxygen_md()</code> sets up <a href=http://r-pkgs.had.co.nz/man.html>roxygen2</a> and enables markdown mode so you can use markdown in your roxygen2 comment blocks.</p></li><li><p><code>use_package_doc()</code> creates a skeleton documentation file for the complete package, taking the advantage of the latest roxygen2 features to minimise duplication between the <code>DESCRIPTION</code> and the documentation.</p></li><li><p><code>use_readme_rmd()</code> creates a <a href=http://r-pkgs.had.co.nz/release.html#important-files><code>README.Rmd</code></a>: use this to describe what your package does and why people should care about it.</p></li><li><p><code>use_news_md()</code> creates a basic <code>NEWS.md</code> for you to record changes.</p></li><li><p><code>use_vignette("vignette-name")</code> sets you up for success by configuring <code>DESCRIPTION</code> and creating a <code>.Rmd</code> template in <code>vignettes/</code></p></li></ul></div><div id=sharing class="section level3"><h3>Sharing</h3><p>If you want to share your code with others, it’s good practice to make the licensing clear. usethis provides helpers for the four most common open source licenses:</p><ul><li><a href=https://choosealicense.com/licenses/mit><code>use_mit_license()</code></a></li><li><a href=https://choosealicense.com/licenses/apache-2.0/><code>use_apl2_license()</code></a></li><li><a href=https://choosealicense.com/licenses/gpl-3.0/><code>use_gpl3_license()</code></a></li><li><a href=https://creativecommons.org/publicdomain/zero/1.0/><code>use_cc0_license()</code></a></li></ul><p>These set the <code>License</code> field in the <code>DESCRIPTION</code> and include the license text in <code>LICENSE.md</code>, which is then added to <code>.Rbuildignore</code>. This allows you to follow licensing best practices while adhering to CRAN’s requirements.</p><p>For this package, I’ll use an MIT license which is simple and permissive:</p><pre class=r><code>use_mit_license(&quot;Hadley Wickham&quot;)
#&gt; ✔ Setting License field in DESCRIPTION to &#39;MIT + file LICENSE&#39;
#&gt; ✔ Writing &#39;LICENSE.md&#39;
#&gt; ✔ Adding &#39;^LICENSE\\.md$&#39; to &#39;.Rbuildignore&#39;
#&gt; ✔ Writing &#39;LICENSE&#39;</code></pre><p>It’s also easy to activate git:</p><pre class=r><code>use_git()
#&gt; ✔ Initialising Git repo
#&gt; ✔ Adding &#39;.Rhistory&#39;, &#39;.RData&#39;, &#39;.Rproj.user&#39; to &#39;./.gitignore&#39;
#&gt; ✔ Adding files and committing</code></pre><p>And publish to GitHub (I’m not going to run this code here!)</p><pre class=r><code>use_github()</code></pre><p>(For this to work, you’ll need to set a <code>GITHUB_PAT</code> environment variable in your <code>~/.Renviron</code>. Follow <a href=http://happygitwithr.com/github-pat.html#step-by-step>Jenny Bryan’s instructions</a>, and use <code>edit_r_environ()</code> to easily access the right file for editing)</p></div></div><div id=browsing class="section level2"><h2>Browsing</h2><p>You can also use usethis to easily create and/or edit important configuration files:</p><ul><li><p>R: <code>edit_r_profile()</code> (R code run on start up), <code>edit_r_environ()</code> (environment variables), and <code>edit_r_makevars()</code> (default configuration for compiled code).</p></li><li><p>Git: <code>edit_git_config()</code> and <code>edit_git_ignore()</code>.</p></li><li><p>RStudio: <code>edit_rstudio_snippets(type)</code> (edit language specific <a href=https://support.rstudio.com/hc/en-us/articles/204463668-Code-Snippets>snippets</a>).</p></li></ul><p>Most functions have a <code>scope</code> argument which can be either “user” or “project”. This lets you control the scope of your changes: either to the current project, or for all projects for the current user (the default).</p><p>Another set of functions lets you quickly jump to important websites:</p><ul><li>CRAN: <code>browse_cran()</code></li><li>GitHub: <code>browse_github()</code>, <code>browse_github_issues()</code>, <code>browse_github_pulls()</code></li><li>Travis <code>browse_travis()</code></li></ul><p>These functions take a package name as the first argument; if not supplied they’ll use the current project.</p></div></div></div><div class=column25><div class="section hideOnMobile"></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script src=/js/math-code.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>