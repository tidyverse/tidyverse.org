<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>usethis 2.0.0</title><meta property="og:title" content="usethis 2.0.0"><meta property="og:description" content="This is a big release aimed at improving usability, especially around Git and GitHub functionality."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2020/12/usethis-2-0-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="usethis 2.0.0 - Tidyverse"><meta property="description" content="This is a big release aimed at improving usability, especially around Git and GitHub functionality."><meta property="og:description" content="This is a big release aimed at improving usability, especially around Git and GitHub functionality."><meta property="og:image" content="https://www.tidyverse.org/blog/2020/12/usethis-2-0-0/thumbnail-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2020/12/usethis-2-0-0/thumbnail-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>usethis 2.0.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2020/12/usethis-2-0-0/thumbnail-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/knzXwBCtEeM>Kiana Bosman</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2020/12/10</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/devtools/>devtools</a>,
<a href=/tags/r-lib/>r-lib</a>,
<a href=/tags/usethis/>usethis</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Jenny Bryan</p><div class=article-content><p>We&rsquo;re ecstatic to announce the release of usethis v2.0.0 (
<a href=https://usethis.r-lib.org/ target=_blank rel=noopener>usethis.r-lib.org</a>). usethis is a package that facilitates interactive workflows for R project creation and development. It&rsquo;s mostly focussed on easing day-to-day package development, but many of its functions are also useful for non-package projects.</p><p>You can install usethis from CRAN with:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf><a href=https://rdrr.io/r/utils/install.packages.html>install.packages</a></span><span class=o>(</span><span class=s>"usethis"</span><span class=o>)</span></code></pre></div><p>This is a major release, involving lots of change under the hood, and yet there are no big, brand new features. Instead, this release is about making more things &ldquo;just work&rdquo; the way you expect. Below, we list many functions and arguments that have been deprecated, because we&rsquo;ve been able to deliver the same functionality (actually, a bit more) with a smaller and simpler user interface.</p><p>This blog post hits a few highlights, mostly relating to Git and GitHub functionality:</p><ul><li>We&rsquo;ve switched to a new package, gert, for Git operations. This resolves some long-standing difficulties around credential-finding and provides more reliable support for both HTTPS and SSH remotes.</li><li>Anything that works for github.com should now work for any
<a href=https://github.com/enterprise target=_blank rel=noopener>GitHub Enterprise</a> deployment.</li><li>GitHub personal access tokens are now handled in the same way as command line Git. This means we can all manage our tokens more securely and, for example, can have different tokens for different hosts.</li><li>We&rsquo;ve added more functionality for working with GitHub pull requests.</li><li>A default branch named <code>main</code> should be fully supported.</li></ul><p>You can see a full list of changes in the
<a href=https://usethis.r-lib.org/news/index.html#usethis-2-0-0-2020-12-10 target=_blank rel=noopener>release notes</a>.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=kr><a href=https://rdrr.io/r/base/library.html>library</a></span><span class=o>(</span><span class=nv><a href=https://usethis.r-lib.org>usethis</a></span><span class=o>)</span></code></pre></div><h2 id=gitgithub--credentials-hosts-and-protocols>Git/GitHub & credentials, hosts, and protocols
<a href=#gitgithub--credentials-hosts-and-protocols><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Usethis has various functions that help with Git-related tasks, which break down into two categories:</p><ol><li><strong>Git</strong> tasks, such as clone, push, and pull. These are things you could do with command line Git.</li><li>Git<strong>Hub</strong> tasks, such as fork, release, and open an issue or pull request. These are things you could do in the browser or with the GitHub API.</li></ol><p>We&rsquo;ve switched from git2r to the gert package for Git operations (<a href=https://docs.ropensci.org/gert/>https://docs.ropensci.org/gert/</a>). We continue to use the gh package for GitHub API work (<a href=https://gh.r-lib.org>https://gh.r-lib.org</a>).</p><p>Many real-world goals can only be accomplished through a mix of Git and GitHub operations, therefore many usethis functions make use of both gert and gh. These packages, in turn, might need your credentials to prove to GitHub that you have the permission to do what you&rsquo;re trying to do.</p><p>If you stop reading here, just know that
<a href=https://usethis.r-lib.org/reference/github-token.html target=_blank rel=noopener><code>gh_token_help()</code></a> is a good way to assess your credential situation:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf><a href=https://usethis.r-lib.org/reference/github-token.html>gh_token_help</a></span><span class=o>(</span><span class=o>)</span>
<span class=c>#&gt; ● GitHub host: <span style=color:#00b>'https://github.com'</span></span>
<span class=c>#&gt; ● Host online: <span style=color:#00b>TRUE</span></span>
<span class=c>#&gt; ● Personal access token for <span style=color:#00b>'https://github.com'</span><span>: </span><span style=color:#00b>'&lt;discovered&gt;'</span></span>
<span class=c>#&gt; <span style=color:#bb0>ℹ</span><span> Call </span><span style=color:#555>`gh::gh_whoami()`</span><span> to see info about your token, e.g. the associated user</span></span>
<span class=c>#&gt; <span style=color:#bb0>ℹ</span><span> To see or update the token, call </span><span style=color:#555>`gitcreds::gitcreds_set()`</span></span>
<span class=c>#&gt; <span style=color:#0b0>✔</span><span> If those results are OK, you are good go to!</span></span>
<span class=c>#&gt; <span style=color:#bb0>ℹ</span><span> Read more in the </span><span style=color:#00b>'Managing Git(Hub) Credentials'</span><span> article:</span></span>
<span class=c>#&gt;   https://usethis.r-lib.org/articles/articles/git-credentials.html</span></code></pre></div><p>You can get even more diagnostic information with
<a href=https://usethis.r-lib.org/reference/git_sitrep.html target=_blank rel=noopener><code>git_sitrep()</code></a>.</p><h3 id=finding-git-credentials>Finding Git credentials
<a href=#finding-git-credentials><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>One of the reasons we switched to the gert package is that it generally discovers the same Git credentials as command line Git, for both the HTTPS and SSH protocols, even on Windows. If things <em>still</em> go sideways, gert&rsquo;s approach to credential finding is mercifully explicit and debuggable<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>This allows usethis to shed some of the workarounds we have needed in the past, to serve as a remedial &ldquo;credential valet&rdquo;. As a result, several functions and arguments are no longer needed and have been deprecated:</p><ul><li>Deprecated functions:<ul><li><a href=https://usethis.r-lib.org/reference/git_credentials.html target=_blank rel=noopener><code>use_git_credentials()</code></a></li><li><a href=https://usethis.r-lib.org/reference/git_credentials.html target=_blank rel=noopener><code>git_credentials()</code></a></li><li><a href=https://usethis.r-lib.org/reference/usethis-defunct.html target=_blank rel=noopener><code>github_token()</code></a></li></ul></li><li>Functions with (deprecated arguments):<ul><li><a href=https://usethis.r-lib.org/reference/create_from_github.html target=_blank rel=noopener><code>create_from_github()</code></a> (<code>auth_token</code>, <code>credentials</code>)</li><li><a href=https://usethis.r-lib.org/reference/use_github.html target=_blank rel=noopener><code>use_github()</code></a> (<code>auth_token</code>, <code>credentials</code>)</li><li><a href=https://usethis.r-lib.org/reference/use_github_links.html target=_blank rel=noopener><code>use_github_links()</code></a> (<code>host</code>, <code>auth_token</code>)</li><li><a href=https://usethis.r-lib.org/reference/use_github_labels.html target=_blank rel=noopener><code>use_github_labels()</code></a>,
<a href=https://usethis.r-lib.org/reference/use_github_labels.html target=_blank rel=noopener><code>use_tidy_labels()</code></a> (<code>repo_spec</code>, <code>host</code>, <code>auth_token</code>)</li><li><a href=https://usethis.r-lib.org/reference/use_github_release.html target=_blank rel=noopener><code>use_github_release()</code></a> (<code>host</code>, <code>auth_token</code>)</li></ul></li></ul><p>If you have any of these in your <code>.Rprofile</code> or muscle memory, you can let go of that now. (We&rsquo;ll say more about <code>host</code>, <code>repo_spec</code>, and <code>auth_token</code> below.)</p><h3 id=host-and-github-enterprise>Host and GitHub Enterprise
<a href=#host-and-github-enterprise><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Many companies and universities run their own instance of GitHub, using a pro product called
<a href=https://github.com/enterprise target=_blank rel=noopener>GitHub Enterprise</a> (GHE), that walks and talks just like github.com. It&rsquo;s been frustrating that many usethis functions didn&rsquo;t <em>quite</em> work for GHE. We had partial support for GHE, by adding a <code>host</code> argument to some functions, but that created new headaches around juggling personal access tokens.</p><p>We&rsquo;ve completely refactored the &ldquo;GitHub host&rdquo; logic in usethis and GHE should be fully supported now. In an existing repo, usethis consults the configured Git remotes, filters for remotes that smell like a GitHub deployment, and deduces the target <code>host</code> and <code>repo_spec</code>, where applicable. As a result, we&rsquo;ve deprecated those arguments in several functions (listed above).</p><p>In
<a href=https://usethis.r-lib.org/reference/use_github.html target=_blank rel=noopener><code>use_github()</code></a> and
<a href=https://usethis.r-lib.org/reference/create_from_github.html target=_blank rel=noopener><code>create_from_github()</code></a>, we still have a <code>host</code> argument, but there are also other ways to specify the <code>host</code>:</p><ul><li>usethis no longer inserts its own opinion about the default <code>host</code>. This means we no longer get in the way of the existing default behaviour of the gh package, which is to consult the <code>GITHUB_API_URL</code> environment variable, if it is set. GitHub Enterprise users will probably want to lean heavily on this environment variable.</li><li>A couple functions now accept a full URL as the <code>repo_spec</code> and, if you do that, we discover the <code>host</code> from the URL.</li></ul><h4 id=give-me-your-full-urls>Give me your full URLs!
<a href=#give-me-your-full-urls><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h4><p>The last point above is a nice quality-of-life improvement even when working on github.com. It means you can copy a URL straight from your browser and, as long as it points somewhere within the target repo, all will be well. For example, if you decide to fork-and-clone Matt Lincoln&rsquo;s clipr package while perusing its issues, you can just copy the URL directly from your browser:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf><a href=https://usethis.r-lib.org/reference/create_from_github.html>create_from_github</a></span><span class=o>(</span><span class=s>"https://github.com/mdlincoln/clipr/issues"</span><span class=o>)</span>
<span class=c>#&gt; ℹ Defaulting to https Git protocol</span>
<span class=c>#&gt; ✓ Setting `fork = TRUE`</span>
<span class=c>#&gt; ✓ Creating '/Users/jenny/Desktop/clipr/'</span>
<span class=c>#&gt; ✓ Forking 'mdlincoln/clipr'</span>
<span class=c>#&gt; ✓ Cloning repo from 'https://github.com/jennybc/clipr.git' into '/Users/jenny/Desktop/clipr'</span>
<span class=c>#&gt; ✓ Setting active project to '/Users/jenny/Desktop/clipr'</span>
<span class=c>#&gt; ℹ Default branch is 'master'</span>
<span class=c>#&gt; ✓ Adding 'upstream' remote: 'https://github.com/mdlincoln/clipr.git'</span>
<span class=c>#&gt; ✓ Pulling changes from 'upstream/master' (default branch of source repo)</span>
<span class=c>#&gt; ✓ Setting remote tracking branch for local 'master' branch to 'upstream/master'</span></code></pre></div><p>URLs are supported by the <code>repo_spec</code> argument of
<a href=https://usethis.r-lib.org/reference/create_from_github.html target=_blank rel=noopener><code>create_from_github()</code></a> and
<a href=https://usethis.r-lib.org/reference/use_tidy_thanks.html target=_blank rel=noopener><code>use_tidy_thanks()</code></a>. In addition to browser URLs, you can also use HTTPS and SSH Git remote URLs.</p><h3 id=personal-access-tokens-pats>Personal access tokens (PATs)
<a href=#personal-access-tokens-pats><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>This diagram shows the different ways that usethis might interact with GitHub:</p><ol><li>As a Git server, via gert, using either the HTTPS or SSH protocol</li><li>As a web service, via gh, using HTTPS (and OAuth)</li></ol><div class=highlight><p><img src=pat-kills-both-birds.png width=80% style=display:block;margin:auto></p></div><p>The cheerful orange ovals indicate why we recommend HTTPS as your Git protocol: Once you set up your GitHub personal access token (PAT), usethis, gert, and gh (and possibly other packages) will all be able to find and use this common credential. (If you are an SSH person, you need to set up a GitHub PAT for work that involves the GitHub API, in addition to the SSH keys needed for Git work.)</p><p>You may have noticed that command line Git remembers your HTTPS credentials, after you&rsquo;ve provided them once<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>. Git has an internal interface for storing and retrieving HTTPS credentials from system-specific helpers, such as the macOS Keychain and Windows Credential Manager. This interface is exposed for use by other applications in the
<a href=https://git-scm.com/docs/git-credential target=_blank rel=noopener><code>git credential</code></a> utility Both gert and gh (and, therefore, usethis) now use this utility to retrieve a PAT suitable for a specific <code>host</code>. It is now possible to attain Git credential nirvana, where command line Git, RStudio, and all your favourite R packages are working with the same credentials.</p><p>In the previous section, we explained how the <code>host</code> is now automatically discovered from Git remotes. And we&rsquo;ve just explained that we now look up the PAT based on the <code>host</code>. Together, this means usethis no longer needs any explicit PAT management and finishes explaining why so many credential-, token-, and host-related functions and arguments have been deprecated. This is also a major reason why GitHub Enterprise &ldquo;just works&rdquo; now.</p><p>The new connection to the system-specific Git credential store also means we no longer need to set <code>GITHUB_PAT</code> in our <code>.Renviron</code> startup files. It is a better security practice anyway to avoid storing such secrets in a plain text file, if better alternatives exist.</p><pre><code>WUT=yo
GITHUB_PAT=xyz  # &lt;-- WE SUGGEST YOU REMOVE THIS LINE FROM .Renviron
OTHER_WEB_SERVICE=super-secret-very-powerful-token
</code></pre><p>The <code>host</code>-specific PAT is now retrieved from the Git credential store upon first need. Note that the PAT <strong>is</strong> still cached in an environment variable for reuse during the remainder of the current R session.</p><p>Our full recommendations for getting and configuring a PAT are in the new vignette
<a href=https://usethis.r-lib.org/articles/articles/git-credentials.html target=_blank rel=noopener>Managing Git(Hub) Credentials</a>.</p><h3 id=git-protocol>Git protocol
<a href=#git-protocol><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>When usethis configures a new Git remote, it must choose a protocol, either HTTPS or SSH. The new default in this situation is HTTPS, because as we explained above, we think HTTPS is the best choice for most users and projects.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf><a href=https://usethis.r-lib.org/reference/git_protocol.html>git_protocol</a></span><span class=o>(</span><span class=o>)</span>
<span class=c>#&gt; <span style=color:#bb0>ℹ</span><span> Defaulting to https Git protocol</span></span>
<span class=c>#&gt; [1] "https"</span></code></pre></div><p>As always, you can specify the default protocol for a single session with
<a href=https://usethis.r-lib.org/reference/git_protocol.html target=_blank rel=noopener><code>use_git_protocol()</code></a> or for all sessions via the <code>usethis.protocol</code> option. Those who prefer SSH may want to set this option in <code>.Rprofile</code> going forward.</p><h2 id=pull-request-helpers>Pull request helpers
<a href=#pull-request-helpers><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The team that maintains the tidyverse and r-lib packages makes heavy use of GitHub pull requests for managing internal and external contributions<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>. The <code>pr_*()</code> family of functions supports pull request workflows, for maintainers and contributors. This family has gained a couple of new functions and some improvements to existing functions:</p><ul><li><p><a href=https://usethis.r-lib.org/reference/pull-requests.html target=_blank rel=noopener><code>pr_resume()</code></a> resumes work on an existing local PR branch. It can be called argument-less, to select a branch interactively.</p><pre><code>&gt; pr_resume()
ℹ No branch specified ... looking up local branches and associated PRs
Which branch do you want to checkout? (0 to exit) 

1: avalcarcel9-add_use_author --&gt; #833 ('@avalcarcel9'): Add use author
2:                 latex-hell
3:                     holder
4:            patch-for-withr

Selection: 
</code></pre></li><li><p><a href=https://usethis.r-lib.org/reference/pull-requests.html target=_blank rel=noopener><code>pr_fetch()</code></a> and
<a href=https://usethis.r-lib.org/reference/pull-requests.html target=_blank rel=noopener><code>pr_view()</code></a> now present a similar interactive choice, when the target PR is not specified or implied.</p></li><li><p><a href=https://usethis.r-lib.org/reference/pull-requests.html target=_blank rel=noopener><code>pr_forget()</code></a> abandons a PR you initiated locally or fetched from GitHub. It only does local clean up and will never delete a remote branch or close a PR.</p></li></ul><p>Other <code>pr_*()</code> functions have nice little improvements, so heavy users should definitely read the
<a href=https://usethis.r-lib.org/news/index.html#changes-to-git-github-functionality target=_blank rel=noopener>full release notes</a>.</p><h2 id=other-goodies>Other goodies
<a href=#other-goodies><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The <code>use_*_license()</code> functions have gotten a general overhaul and also now work for projects, not just for packages. This was part of a bigger effort related to re-licensing some tidyverse/r-lib packages and updating the
<a href=https://r-pkgs.org/license.html target=_blank rel=noopener>licensing chapter of R Packages</a> for its future second edition.</p><p><a href=https://usethis.r-lib.org/reference/browse-this.html target=_blank rel=noopener><code>browse_package()</code></a> and
<a href=https://usethis.r-lib.org/reference/browse-this.html target=_blank rel=noopener><code>browse_project()</code></a> are new additions to the <code>browse_*()</code> family that let the user choose from a list of URLs derived from local Git remotes and DESCRIPTION (local or possibly on CRAN). Implementing these reminded us of how handy the existing <code>browse_*()</code> functions are!</p><pre><code>&gt; browse_package()
Which URL do you want to visit? (0 to exit) 

1: https://github.com/r-lib/usethis        ('origin' remote)
2: https://github.com/avalcarcel9/usethis  ('avalcarcel9' remote)
3: https://usethis.r-lib.org               (URL field in DESCRIPTION)
4: https://github.com/r-lib/usethis        (URL field in DESCRIPTION)
5: https://github.com/r-lib/usethis/issues (BugReports field in DESCRIPTION)

Selection: 0

&gt; browse_package(&quot;gert&quot;)
Which URL do you want to visit? (0 to exit) 

1: https://docs.ropensci.org/gert/      (URL field in DESCRIPTION)
2: https://github.com/r-lib/gert        (URL field in DESCRIPTION)
3: https://libgit2.org                  (URL field in DESCRIPTION)
4: https://github.com/r-lib/gert/issues (BugReports field in DESCRIPTION)

Selection: 0

&gt; browse_cran(&quot;cowsay&quot;)
✓ Opening URL 'https://cran.r-project.org/package=cowsay'

&gt; browse_github(&quot;cpp11&quot;)
✓ Opening URL 'https://github.com/r-lib/cpp11'
</code></pre><p>Here&rsquo;s a sampler of other new features:</p><ul><li>A default Git branch named <code>main</code> now works.
<a href=https://usethis.r-lib.org/reference/git_branch_default.html target=_blank rel=noopener><code>git_branch_default()</code></a> is a new function that tries to discover the default branch from the local or remote Git repo. Internally, it is used everywhere that we previously assumed a default branch named <code>master</code>.</li><li><a href=https://usethis.r-lib.org/reference/use_github_pages.html target=_blank rel=noopener><code>use_github_pages()</code></a> and
<a href=https://usethis.r-lib.org/reference/tidyverse.html target=_blank rel=noopener><code>use_tidy_pkgdown()</code></a> are great for turning on GitHub Pages and for using GitHub Actions to build and deploy a pkgdown site.</li><li>usethis knows that RStudio >= 1.3 stores user preferences in a file, which means that
<a href=https://usethis.r-lib.org/reference/use_blank_slate.html target=_blank rel=noopener><code>use_blank_slate()</code></a> can be used to opt in to the &ldquo;never save to or restore <code>.RData</code>&rdquo; lifestyle, globally, for a user.</li></ul><p>For a full list of changes, see the
<a href=https://usethis.r-lib.org/news/index.html#usethis-2-0-0-2020-12-10 target=_blank rel=noopener>release notes</a>.</p><h2 id=acknowledgements>Acknowledgements
<a href=#acknowledgements><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>We&rsquo;re especially grateful to
<a href=https://github.com/jeroen target=_blank rel=noopener>Jeroen Ooms</a> and
<a href=https://github.com/gaborcsardi target=_blank rel=noopener>Gábor Csárdi</a> for a great deal of behind-the-scenes work in credentials, gert, gh, and gitcreds. This version of usethis would not be possible without coordinated development and CRAN releases across these five packages.</p><p>A big thanks to everyone who helped with this release by reporting bugs, discussing issues, and contributing code:
<a href=https://github.com/albersonmiranda target=_blank rel=noopener>@albersonmiranda</a>,
<a href=https://github.com/andrader target=_blank rel=noopener>@andrader</a>,
<a href=https://github.com/arashHaratian target=_blank rel=noopener>@arashHaratian</a>,
<a href=https://github.com/Athanasiamo target=_blank rel=noopener>@Athanasiamo</a>,
<a href=https://github.com/batpigandme target=_blank rel=noopener>@batpigandme</a>,
<a href=https://github.com/cderv target=_blank rel=noopener>@cderv</a>,
<a href=https://github.com/cstepper target=_blank rel=noopener>@cstepper</a>,
<a href=https://github.com/dmenne target=_blank rel=noopener>@dmenne</a>,
<a href=https://github.com/friep target=_blank rel=noopener>@friep</a>,
<a href=https://github.com/hadley target=_blank rel=noopener>@hadley</a>,
<a href=https://github.com/ijlyttle target=_blank rel=noopener>@ijlyttle</a>,
<a href=https://github.com/jamesmyatt target=_blank rel=noopener>@jamesmyatt</a>,
<a href=https://github.com/jennybc target=_blank rel=noopener>@jennybc</a>,
<a href=https://github.com/jeroen target=_blank rel=noopener>@jeroen</a>,
<a href=https://github.com/jimhester target=_blank rel=noopener>@jimhester</a>,
<a href=https://github.com/jtr13 target=_blank rel=noopener>@jtr13</a>,
<a href=https://github.com/KoderKow target=_blank rel=noopener>@KoderKow</a>,
<a href=https://github.com/krlmlr target=_blank rel=noopener>@krlmlr</a>,
<a href=https://github.com/lionel- target=_blank rel=noopener>@lionel-</a>,
<a href=https://github.com/maelle target=_blank rel=noopener>@maelle</a>,
<a href=https://github.com/malcolmbarrett target=_blank rel=noopener>@malcolmbarrett</a>,
<a href=https://github.com/maurolepore target=_blank rel=noopener>@maurolepore</a>,
<a href=https://github.com/mine-cetinkaya-rundel target=_blank rel=noopener>@mine-cetinkaya-rundel</a>,
<a href=https://github.com/mrcaseb target=_blank rel=noopener>@mrcaseb</a>,
<a href=https://github.com/vinhtantran target=_blank rel=noopener>@vinhtantran</a>, and
<a href=https://github.com/whtns target=_blank rel=noopener>@whtns</a>.</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>gert uses a dedicated, standalone package: <a href=https://docs.ropensci.org/credentials/>https://docs.ropensci.org/credentials/</a> <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>In our experience, on both macOS and Windows, recent Git versions come with credential caching that works out-of-the-box. If this is not your experience, it&rsquo;s a good reason to update Git. <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3 role=doc-endnote><p>In 2019, we handled over 6,000 pull requests in the >180 public package repos owned by the GitHub organisations r-dbi, r-lib, rstudio, tidymodels, and tidyverse. <a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#gitgithub--credentials-hosts-and-protocols>Git/GitHub & credentials, hosts, and protocols</a></li><li><a href=#pull-request-helpers>Pull request helpers</a></li><li><a href=#other-goodies>Other goodies</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>