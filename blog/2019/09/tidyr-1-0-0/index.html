<!doctype html><html><head><!doctype html><html lang=en-us><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/main-site.css><link rel=stylesheet href=/css/fa5-all.css><style type=text/css>body{background-color:#fff;color:#1a1917}a{color:#38577f}a:hover{color:#42709b}a:focus{outline-color:#42709b}.column25-left .sectionTitle a:hover:not(.current),.column16-left .sectionTitle a:hover:not(.current){color:#1a1917}.icon-attribution,.icon-attribution a{color:#1a1917;opacity:75%}#homeContent .band.first{background-color:#fff}#homeContent .band.second{background-color:#fdeba4}#homeContent .band.third{background-color:#fff}#rStudioHeader{background-color:#1a162d;color:#fff}#rStudioHeader .productName{color:#fff}#rStudioHeader .productName:hover,#rStudioHeader .productName:focus{color:#fdeba4}#rStudioHeader #menu .menuItem.a{background-color:#75aadb;color:#fff}#rStudioHeader #menu .menuItem:hover{background-color:#484557;color:#fff}#rStudioHeader #menu .menuItem.current{background-color:#fff;color:#1a162d;text-decoration:none}#rStudioFooter.band{background-color:#767381}#rStudioFooter .bandContent #copyright{color:#e3eef8}table tbody tr:nth-child(even){background-color:#f7faff}table tbody tr:nth-child(odd){background-color:#fff}.latest{border-top:.5em solid <no value>}.event{-moz-box-shadow:0 0 0 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.1);box-shadow:0 0 0 0 rgba(0,0,0,.1)}.section .event{background-color:#eab0c41a}.section .event{border-top:7pt solid #a19ea936}.section .event a{color:#1a162d}.section .event{color:#404040}</style><link rel=stylesheet href=/css/tidyverse.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.71.1"><title>tidyr 1.0.0</title><meta property="og:title" content="tidyr 1.0.0"><meta property="og:description" content="I&rsquo;m very excited to announce the release of tidyr 1.0.0! tidyr provides a set of tools for transforming data frames to and from tidy data, where each variable is a column and each observation is a row. Tidy data is a convention for matching the semantics and structure of your data that makes using the rest of the tidyverse (and many other R packages) much easier.
Install tidyr with:
install.packages(&#34;tidyr&#34;) As you might guess from the version number, this is a major release, and the 1."><meta property="og:type" content="article"><meta property="og:url" content="https://www.tidyverse.org/blog/2019/09/tidyr-1-0-0/"><meta property="twitter:card" content="summary_large_image"><meta property="og:title" content="tidyr 1.0.0 - Tidyverse"><meta property="description" content><meta property="og:description" content><meta property="og:image" content="https://www.tidyverse.org/blog/2019/09/tidyr-1-0-0/tidyr-1-0-0-sq.jpg"><meta name=twitter:image content="https://www.tidyverse.org/blog/2019/09/tidyr-1-0-0/tidyr-1-0-0-wd.jpg"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg><link rel="shortcut icon" href=/images/favicons/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config href=/images/favicons/browserconfig.xml><script type=text/javascript src=/js/jquery-3.5.1.min.js></script><script type=text/javascript src=/js/site.js></script><link rel=icon href=/images/favicon.ico><script type=text/javascript src=/js/clipboard.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin=anonymous></script><script defer data-domain=tidyverse.org,all.tidyverse.org src=https://plausible.io/js/plausible.js></script></head><body><div id=appTidyverseSite class="shrinkHeader alwaysShrinkHeader"><div id=main><div id=rStudioHeader><nav class=band><div class="innards bandContent"><div><a class=productName href=/%20/>Tidyverse</a></div><div id=menu><div id=menuToggler></div><div id=menuItems><a class=menuItem href=/packages/>Packages</a>
<a class="menuItem current" href=/blog/>Blog</a>
<a class=menuItem href=/learn/>Learn</a>
<a class=menuItem href=/help/>Help</a>
<a class=menuItem href=/contribute/>Contribute</a></div></div></div></nav></div><main><div class="band padForHeader pushFooter"><div class=bandContent><div class="full splitColumns withMobileMargins"><div class=column75><h1 class=article-title>tidyr 1.0.0</h1><div class=article-header aria-hidden=true><div class=photo><img src=/blog/2019/09/tidyr-1-0-0/tidyr-1-0-0-wd.jpg></div><div class=photoCredit>Photo by <a href=https://unsplash.com/photos/0yL6nXhn0pI>Victor Garcia</a></div></div><span class=article-date><i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2019/09/13</span><p style=margin-bottom:.5em;margin-top:.85em><i class="fas fa-tags"></i>&nbsp;
<a href=/tags/tidyverse/>tidyverse</a>,
<a href=/tags/tidyr/>tidyr</a></p><p style=margin-top:.5em><i class="fas fa-user-circle fa-fw"></i>&nbsp;
Hadley Wickham</p><div class=article-content><p>I&rsquo;m very excited to announce the release of
<a href=https://tidyr.tidyverse.org target=_blank rel=noopener>tidyr 1.0.0</a>! tidyr provides a set of tools for transforming data frames to and from
<a href=https://tidyr.tidyverse.org/articles/tidy-data.html target=_blank rel=noopener>tidy data</a>, where each variable is a column and each observation is a row. Tidy data is a convention for matching the semantics and structure of your data that makes using the rest of the tidyverse (and many other R packages) much easier.</p><p>Install tidyr with:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>install.packages</span><span class=p>(</span><span class=s>&#34;tidyr&#34;</span><span class=p>)</span>
</code></pre></div><p>As you might guess from the version number, this is a major release, and the 1.0.0 moniker indicates that I&rsquo;m finally happy with the overall interface of the package. This has been a long time coming: it&rsquo;s five years since the first tidyr release, nine years since the first reshape2 release, and fourteen years since the first reshape release!</p><p>This blog post summarises the four major changes to the package:</p><ul><li><p>New <code>pivot_longer()</code> and <code>pivot_wider()</code> provide improved tools for reshaping,
superceding <code>spread()</code> and <code>gather()</code>. The new functions are substantially
more powerful, thanks to ideas from the
<a href="https://CRAN.R-project.org/package=data.table" target=_blank rel=noopener>data.table</a> and
<a href="https://CRAN.R-project.org/package=cdata" target=_blank rel=noopener>cdata</a> packages, and I&rsquo;m
confident that you&rsquo;ll find them easier to use and remember than their
predecessors.</p></li><li><p>New <code>unnest_auto()</code>, <code>unnest_longer()</code>, <code>unnest_wider()</code>, and <code>hoist()</code>
provide new tools for rectangling, converting deeply nested lists into tidy
data frames.</p></li><li><p><code>nest()</code> and <code>unnest()</code> have been changed to match an emerging principle for
the design of <code>...</code> interfaces. Four new functions (<code>pack()</code>/<code>unpack()</code>, and
<code>chop()</code>/<code>unchop()</code>) reveal that nesting is the combination of two simpler
steps.</p></li><li><p>New <code>expand_grid()</code>, a variant of <code>base::expand.grid()</code>. This is a useful
function to know about, but also serves as a good reason to discuss the
important role that
<a href=http://vctrs.r-lib.org/ target=_blank rel=noopener>vctrs</a> plays behind the scenes.
You shouldn&rsquo;t ever <em>have</em> to learn about vctrs, but it brings improvements to
consistency and performance.</p></li></ul><p>As well as implementing the new features, I&rsquo;ve spent considerable time on the documentation, including four major new vignettes:</p><ul><li><p><a href=https://tidyr.tidyverse.org/articles/pivot.html target=_blank rel=noopener><code>vignette("pivot")</code></a>,
<a href=https://tidyr.tidyverse.org/articles/rectangle.html target=_blank rel=noopener><code>vignette("rectangle")</code></a>,
and
<a href=https://tidyr.tidyverse.org/articles/nest.html target=_blank rel=noopener><code>vignette("nest")</code></a>
provide detailed documentation and case studies of pivotting, rectangling,
and nesting respectively.</p></li><li><p><a href=https://tidyr.tidyverse.org/articles/in-packages.html target=_blank rel=noopener><code>vignette("in-packages")</code></a>
provides best practices for using tidyr inside
another package, and detailed advice on working with multiple
versions of tidyr if an interface change has affected your package.</p></li></ul><p>You can see a list of all the other minor bug fixes and improvements in the
<a href=https://tidyr.tidyverse.org/news/index.html#tidyr-1-0-0 target=_blank rel=noopener>release notes</a>. I strongly recommend reading the complete release notes if you&rsquo;re a package developer.</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>library</span><span class=p>(</span><span class=n>tidyr</span><span class=p>)</span>
<span class=nf>library</span><span class=p>(</span><span class=n>dplyr</span><span class=p>)</span>
</code></pre></div><h2 id=pivoting>Pivoting
<a href=#pivoting><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>New
<a href=https://tidyr.tidyverse.org/reference/pivot_longer.html target=_blank rel=noopener><code>pivot_longer()</code></a> and
<a href=https://tidyr.tidyverse.org/reference/pivot_wider.html target=_blank rel=noopener><code>pivot_wider()</code></a> provide modern alternatives to <code>spread()</code> and <code>gather()</code>. They have been carefully redesigned to be easier to learn and remember, and include many new features. <code>spread()</code> and <code>gather()</code> won&rsquo;t go away, but they&rsquo;ve been retired which means that they&rsquo;re no longer under active development.</p><p>The best place to learn about <code>pivot_longer()</code> and <code>pivot_wider()</code> is
<a href=https://tidyr.tidyverse.org/articles/pivot.html target=_blank rel=noopener><code>vignette("pivot")</code></a>, or by watching my presentation to the
<a href="https://www.youtube.com/watch?v=D48JHU4llkk" target=_blank rel=noopener>Vienna R users group</a>. Here I&rsquo;ll quickly show off a few of the coolest new features:</p><ul><li><p><code>pivot_longer()</code> can now separate column names into multiple variables in
a single step. For example, take the <code>who</code> dataset which has column names
that look like <code>new_{diagnosis}_{gender}{age}</code>:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>names</span><span class=p>(</span><span class=n>who</span><span class=p>)</span>
<span class=c1>#&gt;  [1] &#34;country&#34;      &#34;iso2&#34;         &#34;iso3&#34;         &#34;year&#34;        </span>
<span class=c1>#&gt;  [5] &#34;new_sp_m014&#34;  &#34;new_sp_m1524&#34; &#34;new_sp_m2534&#34; &#34;new_sp_m3544&#34;</span>
<span class=c1>#&gt;  [9] &#34;new_sp_m4554&#34; &#34;new_sp_m5564&#34; &#34;new_sp_m65&#34;   &#34;new_sp_f014&#34; </span>
<span class=c1>#&gt; [13] &#34;new_sp_f1524&#34; &#34;new_sp_f2534&#34; &#34;new_sp_f3544&#34; &#34;new_sp_f4554&#34;</span>
<span class=c1>#&gt; [17] &#34;new_sp_f5564&#34; &#34;new_sp_f65&#34;   &#34;new_sn_m014&#34;  &#34;new_sn_m1524&#34;</span>
<span class=c1>#&gt; [21] &#34;new_sn_m2534&#34; &#34;new_sn_m3544&#34; &#34;new_sn_m4554&#34; &#34;new_sn_m5564&#34;</span>
<span class=c1>#&gt; [25] &#34;new_sn_m65&#34;   &#34;new_sn_f014&#34;  &#34;new_sn_f1524&#34; &#34;new_sn_f2534&#34;</span>
<span class=c1>#&gt; [29] &#34;new_sn_f3544&#34; &#34;new_sn_f4554&#34; &#34;new_sn_f5564&#34; &#34;new_sn_f65&#34;  </span>
<span class=c1>#&gt; [33] &#34;new_ep_m014&#34;  &#34;new_ep_m1524&#34; &#34;new_ep_m2534&#34; &#34;new_ep_m3544&#34;</span>
<span class=c1>#&gt; [37] &#34;new_ep_m4554&#34; &#34;new_ep_m5564&#34; &#34;new_ep_m65&#34;   &#34;new_ep_f014&#34; </span>
<span class=c1>#&gt; [41] &#34;new_ep_f1524&#34; &#34;new_ep_f2534&#34; &#34;new_ep_f3544&#34; &#34;new_ep_f4554&#34;</span>
<span class=c1>#&gt; [45] &#34;new_ep_f5564&#34; &#34;new_ep_f65&#34;   &#34;newrel_m014&#34;  &#34;newrel_m1524&#34;</span>
<span class=c1>#&gt; [49] &#34;newrel_m2534&#34; &#34;newrel_m3544&#34; &#34;newrel_m4554&#34; &#34;newrel_m5564&#34;</span>
<span class=c1>#&gt; [53] &#34;newrel_m65&#34;   &#34;newrel_f014&#34;  &#34;newrel_f1524&#34; &#34;newrel_f2534&#34;</span>
<span class=c1>#&gt; [57] &#34;newrel_f3544&#34; &#34;newrel_f4554&#34; &#34;newrel_f5564&#34; &#34;newrel_f65&#34;</span>
</code></pre></div><p>You can now tease apart the variable names in a single step
(i.e. without
<a href=https://tidyr.tidyverse.org/reference/separate.html target=_blank rel=noopener><code>separate()</code></a>))
by supplying a vector of variable names to <code>names_to</code> and a regular
expression to <code>names_pattern</code> (simpler cases might only need <code>names_sep</code>):</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>who</span> <span class=o>%&gt;%</span> <span class=nf>pivot_longer</span><span class=p>(</span>
  <span class=n>cols</span> <span class=o>=</span> <span class=n>new_sp_m014</span><span class=o>:</span><span class=n>newrel_f65</span><span class=p>,</span>
  <span class=n>names_to</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=s>&#34;diagnosis&#34;</span><span class=p>,</span> <span class=s>&#34;gender&#34;</span><span class=p>,</span> <span class=s>&#34;age&#34;</span><span class=p>),</span> 
  <span class=n>names_pattern</span> <span class=o>=</span> <span class=s>&#34;new_?(.*)_(.)(.*)&#34;</span><span class=p>,</span>
  <span class=n>values_to</span> <span class=o>=</span> <span class=s>&#34;count&#34;</span><span class=p>,</span>
  <span class=n>values_drop_na</span> <span class=o>=</span> <span class=kc>TRUE</span>
<span class=p>)</span>
<span class=c1>#&gt; # A tibble: 76,046 x 8</span>
<span class=c1>#&gt;   country     iso2  iso3   year diagnosis gender age   count</span>
<span class=c1>#&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;int&gt;</span>
<span class=c1>#&gt; 1 Afghanistan AF    AFG    1997 sp        m      014       0</span>
<span class=c1>#&gt; 2 Afghanistan AF    AFG    1997 sp        m      1524     10</span>
<span class=c1>#&gt; 3 Afghanistan AF    AFG    1997 sp        m      2534      6</span>
<span class=c1>#&gt; 4 Afghanistan AF    AFG    1997 sp        m      3544      3</span>
<span class=c1>#&gt; 5 Afghanistan AF    AFG    1997 sp        m      4554      5</span>
<span class=c1>#&gt; 6 Afghanistan AF    AFG    1997 sp        m      5564      2</span>
<span class=c1>#&gt; # … with 7.604e+04 more rows</span>
</code></pre></div></li><li><p><code>pivot_longer()</code> can now work with rows that contain multiple observations
(this feature was inspired by data.table&rsquo;s <code>dcast()</code> method). For example,
take the base <code>anscombe</code> dataset. Each row consists of four pairs of
<code>x</code> and <code>y</code> measurements:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>head</span><span class=p>(</span><span class=n>anscombe</span><span class=p>)</span>
<span class=c1>#&gt;   x1 x2 x3 x4   y1   y2    y3   y4</span>
<span class=c1>#&gt; 1 10 10 10  8 8.04 9.14  7.46 6.58</span>
<span class=c1>#&gt; 2  8  8  8  8 6.95 8.14  6.77 5.76</span>
<span class=c1>#&gt; 3 13 13 13  8 7.58 8.74 12.74 7.71</span>
<span class=c1>#&gt; 4  9  9  9  8 8.81 8.77  7.11 8.84</span>
<span class=c1>#&gt; 5 11 11 11  8 8.33 9.26  7.81 8.47</span>
<span class=c1>#&gt; 6 14 14 14  8 9.96 8.10  8.84 7.04</span>
</code></pre></div><p>We can now tidy this in a single step by using the special <code>.value</code>
variable name:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>anscombe</span> <span class=o>%&gt;%</span> 
  <span class=nf>pivot_longer</span><span class=p>(</span>
    <span class=nf>everything</span><span class=p>(),</span>
    <span class=n>names_to</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=s>&#34;.value&#34;</span><span class=p>,</span> <span class=s>&#34;set&#34;</span><span class=p>),</span>
    <span class=n>names_pattern</span> <span class=o>=</span> <span class=s>&#34;(.)(.)&#34;</span>
  <span class=p>)</span> <span class=o>%&gt;%</span> 
  <span class=nf>as_tibble</span><span class=p>()</span>
<span class=c1>#&gt; # A tibble: 44 x 3</span>
<span class=c1>#&gt;   set       x     y</span>
<span class=c1>#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class=c1>#&gt; 1 1        10  8.04</span>
<span class=c1>#&gt; 2 2        10  9.14</span>
<span class=c1>#&gt; 3 3        10  7.46</span>
<span class=c1>#&gt; 4 4         8  6.58</span>
<span class=c1>#&gt; 5 1         8  6.95</span>
<span class=c1>#&gt; 6 2         8  8.14</span>
<span class=c1>#&gt; # … with 38 more rows</span>
</code></pre></div></li><li><p><code>pivot_wider()</code> can now do simple aggregations (<code>reshape2::dcast()</code> fans
rejoice!). For example, take the base <code>warpbreaks</code> dataset (converted to a
tibble to print more compactly):</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>warpbreaks</span> <span class=o>&lt;-</span> <span class=n>warpbreaks</span> <span class=o>%&gt;%</span> <span class=nf>as_tibble</span><span class=p>()</span> <span class=o>%&gt;%</span> <span class=nf>select</span><span class=p>(</span><span class=n>wool</span><span class=p>,</span> <span class=n>tension</span><span class=p>,</span> <span class=n>breaks</span><span class=p>)</span>
<span class=n>warpbreaks</span>
<span class=c1>#&gt; # A tibble: 54 x 3</span>
<span class=c1>#&gt;   wool  tension breaks</span>
<span class=c1>#&gt;   &lt;fct&gt; &lt;fct&gt;    &lt;dbl&gt;</span>
<span class=c1>#&gt; 1 A     L           26</span>
<span class=c1>#&gt; 2 A     L           30</span>
<span class=c1>#&gt; 3 A     L           54</span>
<span class=c1>#&gt; 4 A     L           25</span>
<span class=c1>#&gt; 5 A     L           70</span>
<span class=c1>#&gt; 6 A     L           52</span>
<span class=c1>#&gt; # … with 48 more rows</span>
</code></pre></div><p>This is a designed experiment with nine replicates for every combination of
<code>wool</code> (<code>A</code> and <code>B</code>) and <code>tension</code> (<code>L</code>, <code>M</code>, <code>H</code>). If we attempt to pivot
the levels of <code>wool</code> into the columns, we get a warning and the output
contains list-columns:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>warpbreaks</span> <span class=o>%&gt;%</span> <span class=nf>pivot_wider</span><span class=p>(</span><span class=n>names_from</span> <span class=o>=</span> <span class=n>wool</span><span class=p>,</span> <span class=n>values_from</span> <span class=o>=</span> <span class=n>breaks</span><span class=p>)</span>
<span class=c1>#&gt; Warning: Values in `breaks` are not uniquely identified; output will contain list-cols.</span>
<span class=c1>#&gt; * Use `values_fn = list(breaks = list)` to suppress this warning.</span>
<span class=c1>#&gt; * Use `values_fn = list(breaks = length)` to identify where the duplicates arise</span>
<span class=c1>#&gt; * Use `values_fn = list(breaks = summary_fun)` to summarise duplicates</span>
<span class=c1>#&gt; # A tibble: 3 x 3</span>
<span class=c1>#&gt;   tension           A           B</span>
<span class=c1>#&gt;   &lt;fct&gt;   &lt;list&lt;dbl&gt;&gt; &lt;list&lt;dbl&gt;&gt;</span>
<span class=c1>#&gt; 1 L               [9]         [9]</span>
<span class=c1>#&gt; 2 M               [9]         [9]</span>
<span class=c1>#&gt; 3 H               [9]         [9]</span>
</code></pre></div><p>You can now summarise the duplicates with the <code>values_fn</code> argument:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>warpbreaks</span> <span class=o>%&gt;%</span> 
  <span class=nf>pivot_wider</span><span class=p>(</span>
    <span class=n>names_from</span> <span class=o>=</span> <span class=n>wool</span><span class=p>,</span> 
    <span class=n>values_from</span> <span class=o>=</span> <span class=n>breaks</span><span class=p>,</span>
    <span class=n>values_fn</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=n>breaks</span> <span class=o>=</span> <span class=n>mean</span><span class=p>)</span>
  <span class=p>)</span>
<span class=c1>#&gt; # A tibble: 3 x 3</span>
<span class=c1>#&gt;   tension     A     B</span>
<span class=c1>#&gt;   &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt;</span>
<span class=c1>#&gt; 1 L        44.6  28.2</span>
<span class=c1>#&gt; 2 M        24    28.8</span>
<span class=c1>#&gt; 3 H        24.6  18.8</span>
</code></pre></div></li></ul><p>Learn the full details and see many more examples in
<a href=http://tidyr.tidyverse.org/articles/pivot.html target=_blank rel=noopener><code>vignette("pivot")</code></a>.</p><h2 id=rectangling>Rectangling
<a href=#rectangling><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Rectangling is the art and craft of taking a deeply nested list (often sourced from wild-caught JSON or XML) and taming it into a tidy data set of rows and columns. tidyr 1.0.0 provides four new functions to aid rectangling:</p><ul><li><code>unnest_longer()</code> takes each element of a list-column and makes a new row.</li><li><code>unnest_wider()</code> takes each element of a list-column and makes a new column.</li><li><code>unnest_auto()</code> uses some heuristics to guess whether you want
<code>unnest_longer()</code> or <code>unnest_wider()</code>.</li><li><code>hoist()</code> is similar to <code>unnest_wider()</code> but only plucks out selected
components, and can reach down multiple levels.</li></ul><p>To see them in action, take this small sample from <code>repurrrsive::got_chars</code>. It contains data about three characters from the Game of Thrones:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>characters</span> <span class=o>&lt;-</span> <span class=nf>list</span><span class=p>(</span>
  <span class=nf>list</span><span class=p>(</span>
    <span class=n>name</span> <span class=o>=</span> <span class=s>&#34;Theon Greyjoy&#34;</span><span class=p>,</span>
    <span class=n>aliases</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=s>&#34;Prince of Fools&#34;</span><span class=p>,</span> <span class=s>&#34;Theon Turncloak&#34;</span><span class=p>,</span> <span class=s>&#34;Theon Kinslayer&#34;</span><span class=p>),</span>
    <span class=n>alive</span> <span class=o>=</span> <span class=kc>TRUE</span>
  <span class=p>),</span>
  <span class=nf>list</span><span class=p>(</span>
    <span class=n>name</span> <span class=o>=</span> <span class=s>&#34;Tyrion Lannister&#34;</span><span class=p>,</span>
    <span class=n>aliases</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=s>&#34;The Imp&#34;</span><span class=p>,</span> <span class=s>&#34;Halfman&#34;</span><span class=p>,</span> <span class=s>&#34;Giant of Lannister&#34;</span><span class=p>),</span>
    <span class=n>alive</span> <span class=o>=</span> <span class=kc>TRUE</span>
  <span class=p>),</span>
  <span class=nf>list</span><span class=p>(</span>
    <span class=n>name</span> <span class=o>=</span> <span class=s>&#34;Arys Oakheart&#34;</span><span class=p>,</span>
    <span class=n>alive</span> <span class=o>=</span> <span class=kc>FALSE</span>
  <span class=p>)</span>
<span class=p>)</span>
</code></pre></div><p>To work with the new tidyr rectangling tools, we first put the list into a data frame, creating a list-column:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>got</span> <span class=o>&lt;-</span> <span class=nf>tibble</span><span class=p>(</span><span class=n>character</span> <span class=o>=</span> <span class=n>characters</span><span class=p>)</span>
<span class=n>got</span>
<span class=c1>#&gt; # A tibble: 3 x 1</span>
<span class=c1>#&gt;   character       </span>
<span class=c1>#&gt;   &lt;list&gt;          </span>
<span class=c1>#&gt; 1 &lt;named list [3]&gt;</span>
<span class=c1>#&gt; 2 &lt;named list [3]&gt;</span>
<span class=c1>#&gt; 3 &lt;named list [2]&gt;</span>
</code></pre></div><p>We can then use <code>unnest_wider()</code> to make each element of that list into a column:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>got</span> <span class=o>%&gt;%</span> 
  <span class=nf>unnest_wider</span><span class=p>(</span><span class=n>character</span><span class=p>)</span>
<span class=c1>#&gt; # A tibble: 3 x 3</span>
<span class=c1>#&gt;   name             aliases   alive</span>
<span class=c1>#&gt;   &lt;chr&gt;            &lt;list&gt;    &lt;lgl&gt;</span>
<span class=c1>#&gt; 1 Theon Greyjoy    &lt;chr [3]&gt; TRUE </span>
<span class=c1>#&gt; 2 Tyrion Lannister &lt;chr [3]&gt; TRUE </span>
<span class=c1>#&gt; 3 Arys Oakheart    &lt;???&gt;     FALSE</span>
</code></pre></div><p>Followed by <code>unnest_longer()</code> to turn each alias into its own row:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>got</span> <span class=o>%&gt;%</span> 
  <span class=nf>unnest_wider</span><span class=p>(</span><span class=n>character</span><span class=p>)</span> <span class=o>%&gt;%</span> 
  <span class=nf>unnest_longer</span><span class=p>(</span><span class=n>aliases</span><span class=p>)</span>
<span class=c1>#&gt; # A tibble: 7 x 3</span>
<span class=c1>#&gt;   name             aliases            alive</span>
<span class=c1>#&gt;   &lt;chr&gt;            &lt;chr&gt;              &lt;lgl&gt;</span>
<span class=c1>#&gt; 1 Theon Greyjoy    Prince of Fools    TRUE </span>
<span class=c1>#&gt; 2 Theon Greyjoy    Theon Turncloak    TRUE </span>
<span class=c1>#&gt; 3 Theon Greyjoy    Theon Kinslayer    TRUE </span>
<span class=c1>#&gt; 4 Tyrion Lannister The Imp            TRUE </span>
<span class=c1>#&gt; 5 Tyrion Lannister Halfman            TRUE </span>
<span class=c1>#&gt; 6 Tyrion Lannister Giant of Lannister TRUE </span>
<span class=c1>#&gt; 7 Arys Oakheart    &lt;NA&gt;               FALSE</span>
</code></pre></div><p>Even more conveniently, you can use <code>unnest_auto()</code> to guess which direction a list column should be unnested in. Here it yields the same results as above, and the messages tell you why:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>got</span> <span class=o>%&gt;%</span> 
  <span class=nf>unnest_auto</span><span class=p>(</span><span class=n>character</span><span class=p>)</span> <span class=o>%&gt;%</span> 
  <span class=nf>unnest_auto</span><span class=p>(</span><span class=n>aliases</span><span class=p>)</span>
<span class=c1>#&gt; Using `unnest_wider(character)`; elements have 2 names in common</span>
<span class=c1>#&gt; Using `unnest_longer(aliases)`; no element has names</span>
</code></pre></div><p>Alternatively, you can use <code>hoist()</code> to reach deeply into a data structure and put out just the pieces you need:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>got</span> <span class=o>%&gt;%</span> <span class=nf>hoist</span><span class=p>(</span><span class=n>character</span><span class=p>,</span> 
  <span class=n>name</span> <span class=o>=</span> <span class=s>&#34;name&#34;</span><span class=p>,</span>
  <span class=n>alias</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=s>&#34;aliases&#34;</span><span class=p>,</span> <span class=m>1</span><span class=p>),</span>
  <span class=n>alive</span> <span class=o>=</span> <span class=s>&#34;alive&#34;</span>
<span class=p>)</span>
<span class=c1>#&gt; # A tibble: 3 x 4</span>
<span class=c1>#&gt;   name             alias           alive character       </span>
<span class=c1>#&gt;   &lt;chr&gt;            &lt;chr&gt;           &lt;lgl&gt; &lt;list&gt;          </span>
<span class=c1>#&gt; 1 Theon Greyjoy    Prince of Fools TRUE  &lt;named list [1]&gt;</span>
<span class=c1>#&gt; 2 Tyrion Lannister The Imp         TRUE  &lt;named list [1]&gt;</span>
<span class=c1>#&gt; 3 Arys Oakheart    &lt;NA&gt;            FALSE &lt;named list [0]&gt;</span>
</code></pre></div><p>This syntax provides a more approachable alternative to using <code>purrr::map()</code> inside <code>dplyr::mutate()</code>, as we&rsquo;d previously recommended:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>got</span> <span class=o>%&gt;%</span> <span class=nf>mutate</span><span class=p>(</span>
  <span class=n>name</span> <span class=o>=</span> <span class=n>purrr</span><span class=o>::</span><span class=nf>map_chr</span><span class=p>(</span><span class=n>character</span><span class=p>,</span> <span class=s>&#34;name&#34;</span><span class=p>),</span>
  <span class=n>alias</span> <span class=o>=</span> <span class=n>purrr</span><span class=o>::</span><span class=nf>map_chr</span><span class=p>(</span><span class=n>character</span><span class=p>,</span> <span class=nf>list</span><span class=p>(</span><span class=s>&#34;aliases&#34;</span><span class=p>,</span> <span class=m>1</span><span class=p>),</span> <span class=n>.default</span> <span class=o>=</span> <span class=kc>NA</span><span class=p>),</span>
  <span class=n>alive</span> <span class=o>=</span> <span class=n>purrr</span><span class=o>::</span><span class=nf>map_lgl</span><span class=p>(</span><span class=n>character</span><span class=p>,</span> <span class=s>&#34;alive&#34;</span><span class=p>)</span>
<span class=p>)</span>
</code></pre></div><p>Learn more in
<a href=http://tidyr.tidyverse.org/articles/rectangle.html target=_blank rel=noopener><code>vignette("rectangle")</code></a>.</p><h2 id=nesting>Nesting
<a href=#nesting><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>nest()</code> and <code>unnest()</code> have been updated with new interfaces that are more closely aligned to evolving tidyverse conventions. The biggest change is to their operation with multiple columns:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=c1># old</span>
<span class=n>df</span> <span class=o>%&gt;%</span> <span class=nf>nest</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>)</span>
<span class=c1># new</span>
<span class=n>df</span> <span class=o>%&gt;%</span> <span class=nf>nest</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>))</span>

<span class=c1># old</span>
<span class=n>df</span> <span class=o>%&gt;%</span> <span class=nf>unnest</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>)</span>
<span class=c1># new</span>
<span class=n>df</span> <span class=o>%&gt;%</span> <span class=nf>unnest</span><span class=p>(</span><span class=nf>c</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>))</span>
</code></pre></div><p>I&rsquo;ve done my best to ensure that common uses of <code>nest()</code> and <code>unnest()</code> will continue to work, generating an informative warning telling you precisely how you need to update your code. If this doesn&rsquo;t work, you can use <code>nest_legacy()</code> or <code>unnest_legacy()</code> to access the previous interfaces; see
<a href=https://tidyr.tidyverse.org/articles/in-packages.html#tidyr-v0-8-3---v1-0-0 target=_blank rel=noopener><code>vignette("in-packages")</code></a> for more advice on managing this transition.</p><p>Behind the scenes, I discovered that nesting (and unnesting) can be decomposed into the combination of two simpler operations:</p><ul><li><p><code>pack()</code> and <code>unpack()</code> multiple columns into and out of a data
frame column.</p></li><li><p><code>chop()</code> and <code>unchop()</code> chop up rows into and out of list-columns. It&rsquo;s
a bit like an explicit form of <code>dplyr::group_by()</code>.</p></li></ul><p><img src=/images/tidyr-1-0-0/nest-pack-chop.png width=480 height=352></p><p>This is primarily of internal interest, but it considerably simplifies the implementation of <code>nest()</code>, and you may occasionally find the underlying functions useful when working with exotic data structures.</p><h2 id=expand_grid><code>expand_grid()</code>
<a href=#expand_grid><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><a href=https://tidyr.tidyverse.org/reference/expand_grid.html target=_blank rel=noopener><code>expand_grid()</code></a> completes the existing family of <code>expand()</code>, <code>nesting()</code>, and <code>crossing()</code> with a low-level function that works with vectors:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>expand_grid</span><span class=p>(</span>
  <span class=n>x</span> <span class=o>=</span> <span class=m>1</span><span class=o>:</span><span class=m>3</span><span class=p>,</span>
  <span class=n>y</span> <span class=o>=</span> <span class=kc>letters</span><span class=n>[1</span><span class=o>:</span><span class=m>3</span><span class=n>]</span><span class=p>,</span>
  <span class=n>z</span> <span class=o>=</span> <span class=kc>LETTERS</span><span class=n>[1</span><span class=o>:</span><span class=m>3</span><span class=n>]</span>
<span class=p>)</span>
<span class=c1>#&gt; # A tibble: 27 x 3</span>
<span class=c1>#&gt;       x y     z    </span>
<span class=c1>#&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;</span>
<span class=c1>#&gt; 1     1 a     A    </span>
<span class=c1>#&gt; 2     1 a     B    </span>
<span class=c1>#&gt; 3     1 a     C    </span>
<span class=c1>#&gt; 4     1 b     A    </span>
<span class=c1>#&gt; 5     1 b     B    </span>
<span class=c1>#&gt; 6     1 b     C    </span>
<span class=c1>#&gt; # … with 21 more rows</span>
</code></pre></div><p>Compared to the existing base function <code>expand.grid()</code>, <code>expand_grid()</code>:</p><ul><li>Varies the first element most slowly (not most quickly).</li><li>Never converts strings to factors and doesn&rsquo;t add any additional attributes.</li><li>Returns a tibble, not a data frame.</li><li>Can expand data frames.</li></ul><p>The last feature is quite powerful, as it allows you to generate partial grids:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=n>students</span> <span class=o>&lt;-</span> <span class=nf>tribble</span><span class=p>(</span>
  <span class=o>~</span> <span class=n>school</span><span class=p>,</span> <span class=o>~</span> <span class=n>student</span><span class=p>,</span>
  <span class=s>&#34;A&#34;</span><span class=p>,</span>      <span class=s>&#34;John&#34;</span><span class=p>,</span>
  <span class=s>&#34;A&#34;</span><span class=p>,</span>      <span class=s>&#34;Mary&#34;</span><span class=p>,</span>
  <span class=s>&#34;A&#34;</span><span class=p>,</span>      <span class=s>&#34;Susan&#34;</span><span class=p>,</span>
  <span class=s>&#34;B&#34;</span><span class=p>,</span>      <span class=s>&#34;John&#34;</span>
<span class=p>)</span>
<span class=nf>expand_grid</span><span class=p>(</span><span class=n>students</span><span class=p>,</span> <span class=n>semester</span> <span class=o>=</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span><span class=p>)</span>
<span class=c1>#&gt; # A tibble: 8 x 3</span>
<span class=c1>#&gt;   school student semester</span>
<span class=c1>#&gt;   &lt;chr&gt;  &lt;chr&gt;      &lt;int&gt;</span>
<span class=c1>#&gt; 1 A      John           1</span>
<span class=c1>#&gt; 2 A      John           2</span>
<span class=c1>#&gt; 3 A      Mary           1</span>
<span class=c1>#&gt; 4 A      Mary           2</span>
<span class=c1>#&gt; 5 A      Susan          1</span>
<span class=c1>#&gt; 6 A      Susan          2</span>
<span class=c1>#&gt; 7 B      John           1</span>
<span class=c1>#&gt; 8 B      John           2</span>
</code></pre></div><p>This is made possible by the
<a href=https://vctrs.r-lib.org target=_blank rel=noopener>vctrs</a> package. vctrs is primarily of interest to package developers but I want to talk about it briefly here because I&rsquo;ve been having a lot of fun working with it. It&rsquo;s hard to concisely describe vctrs, but one aspect is carefully defining what a &ldquo;vector&rdquo; is, and providing a set of useful functions that work on all types of vctrs, without any special cases. One interesting finding is that thinking of a data frame as a vector of <em>rows</em> (not columns, as R usually does) is suprisingly useful, and something you can expect to see in more places in the tidyverse in the future.</p><p>Note that when data frame inputs are unnamed, they&rsquo;re automatically unpacked into individual columns in the output. It&rsquo;s also possible to create a column that is itself a data frame, a <strong>df-column</strong>, if you name it:</p><div class=highlight><pre class=chroma><code class=language-r data-lang=r><span class=nf>expand_grid</span><span class=p>(</span><span class=n>student</span> <span class=o>=</span> <span class=n>students</span><span class=p>,</span> <span class=n>semester</span> <span class=o>=</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span><span class=p>)</span>
<span class=c1>#&gt; # A tibble: 8 x 2</span>
<span class=c1>#&gt;   student$school $student semester</span>
<span class=c1>#&gt;   &lt;chr&gt;          &lt;chr&gt;       &lt;int&gt;</span>
<span class=c1>#&gt; 1 A              John            1</span>
<span class=c1>#&gt; 2 A              John            2</span>
<span class=c1>#&gt; 3 A              Mary            1</span>
<span class=c1>#&gt; 4 A              Mary            2</span>
<span class=c1>#&gt; 5 A              Susan           1</span>
<span class=c1>#&gt; 6 A              Susan           2</span>
<span class=c1>#&gt; 7 B              John            1</span>
<span class=c1>#&gt; 8 B              John            2</span>
</code></pre></div><p>Df-columns aren&rsquo;t particularly useful yet, but they provide powerful building blocks for future extensions. For example, we expect a future version of dplyr will support df-columns as a way for <code>mutate()</code> and <code>summarise()</code> to create multiple new columns from a single function call.</p><h2 id=thanks>Thanks
<a href=#thanks><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>A big thanks to all 95 people who help to make this release possible!
<a href=https://github.com/abiyug target=_blank rel=noopener>@abiyug</a>,
<a href=https://github.com/AdvikS target=_blank rel=noopener>@AdvikS</a>,
<a href=https://github.com/ahcyip target=_blank rel=noopener>@ahcyip</a>,
<a href=https://github.com/alexpghayes target=_blank rel=noopener>@alexpghayes</a>,
<a href=https://github.com/aneisse target=_blank rel=noopener>@aneisse</a>,
<a href=https://github.com/apreshill target=_blank rel=noopener>@apreshill</a>,
<a href=https://github.com/atusy target=_blank rel=noopener>@atusy</a>,
<a href=https://github.com/ax42 target=_blank rel=noopener>@ax42</a>,
<a href=https://github.com/banfai target=_blank rel=noopener>@banfai</a>,
<a href=https://github.com/billdenney target=_blank rel=noopener>@billdenney</a>,
<a href=https://github.com/brentthorne target=_blank rel=noopener>@brentthorne</a>,
<a href=https://github.com/brunj7 target=_blank rel=noopener>@brunj7</a>,
<a href=https://github.com/coolbutuseless target=_blank rel=noopener>@coolbutuseless</a>,
<a href=https://github.com/courtiol target=_blank rel=noopener>@courtiol</a>,
<a href=https://github.com/cwickham target=_blank rel=noopener>@cwickham</a>,
<a href=https://github.com/DanielReedOcean target=_blank rel=noopener>@DanielReedOcean</a>,
<a href=https://github.com/DavisVaughan target=_blank rel=noopener>@DavisVaughan</a>,
<a href=https://github.com/dewittpe target=_blank rel=noopener>@dewittpe</a>,
<a href=https://github.com/donboyd5 target=_blank rel=noopener>@donboyd5</a>,
<a href=https://github.com/earowang target=_blank rel=noopener>@earowang</a>,
<a href=https://github.com/eElor target=_blank rel=noopener>@eElor</a>,
<a href=https://github.com/enricoferrero target=_blank rel=noopener>@enricoferrero</a>,
<a href=https://github.com/fresques target=_blank rel=noopener>@fresques</a>,
<a href=https://github.com/garrettgman target=_blank rel=noopener>@garrettgman</a>,
<a href=https://github.com/gederajeg target=_blank rel=noopener>@gederajeg</a>,
<a href=https://github.com/georgevbsantiago target=_blank rel=noopener>@georgevbsantiago</a>,
<a href=https://github.com/giocomai target=_blank rel=noopener>@giocomai</a>,
<a href=https://github.com/gireeshkbogu target=_blank rel=noopener>@gireeshkbogu</a>,
<a href=https://github.com/gorkang target=_blank rel=noopener>@gorkang</a>,
<a href=https://github.com/ha0ye target=_blank rel=noopener>@ha0ye</a>,
<a href=https://github.com/hadley target=_blank rel=noopener>@hadley</a>,
<a href=https://github.com/hplieninger target=_blank rel=noopener>@hplieninger</a>,
<a href=https://github.com/iago-pssjd target=_blank rel=noopener>@iago-pssjd</a>,
<a href=https://github.com/IndrajeetPatil target=_blank rel=noopener>@IndrajeetPatil</a>,
<a href=https://github.com/jackdolgin target=_blank rel=noopener>@jackdolgin</a>,
<a href=https://github.com/japhir target=_blank rel=noopener>@japhir</a>,
<a href=https://github.com/jayhesselberth target=_blank rel=noopener>@jayhesselberth</a>,
<a href=https://github.com/jennybc target=_blank rel=noopener>@jennybc</a>,
<a href=https://github.com/jeroenjanssens target=_blank rel=noopener>@jeroenjanssens</a>,
<a href=https://github.com/jestarr target=_blank rel=noopener>@jestarr</a>,
<a href=https://github.com/jgendrinal target=_blank rel=noopener>@jgendrinal</a>,
<a href=https://github.com/Jim89 target=_blank rel=noopener>@Jim89</a>,
<a href=https://github.com/jl5000 target=_blank rel=noopener>@jl5000</a>,
<a href=https://github.com/jmcastagnetto target=_blank rel=noopener>@jmcastagnetto</a>,
<a href=https://github.com/justasmundeikis target=_blank rel=noopener>@justasmundeikis</a>,
<a href=https://github.com/Kaz272 target=_blank rel=noopener>@Kaz272</a>,
<a href=https://github.com/KenatRSF target=_blank rel=noopener>@KenatRSF</a>,
<a href=https://github.com/koncina target=_blank rel=noopener>@koncina</a>,
<a href=https://github.com/krlmlr target=_blank rel=noopener>@krlmlr</a>,
<a href=https://github.com/kuriwaki target=_blank rel=noopener>@kuriwaki</a>,
<a href=https://github.com/lazappi target=_blank rel=noopener>@lazappi</a>,
<a href=https://github.com/leeper target=_blank rel=noopener>@leeper</a>,
<a href=https://github.com/lionel- target=_blank rel=noopener>@lionel-</a>,
<a href=https://github.com/markdly target=_blank rel=noopener>@markdly</a>,
<a href=https://github.com/martinjhnhadley target=_blank rel=noopener>@martinjhnhadley</a>,
<a href=https://github.com/MatthieuStigler target=_blank rel=noopener>@MatthieuStigler</a>,
<a href=https://github.com/mattwarkentin target=_blank rel=noopener>@mattwarkentin</a>,
<a href=https://github.com/mehrgoltiv target=_blank rel=noopener>@mehrgoltiv</a>,
<a href=https://github.com/meriops target=_blank rel=noopener>@meriops</a>,
<a href=https://github.com/mikemc target=_blank rel=noopener>@mikemc</a>,
<a href=https://github.com/mikmart target=_blank rel=noopener>@mikmart</a>,
<a href=https://github.com/mine-cetinkaya-rundel target=_blank rel=noopener>@mine-cetinkaya-rundel</a>,
<a href=https://github.com/mitchelloharawild target=_blank rel=noopener>@mitchelloharawild</a>,
<a href=https://github.com/mixolydianpink target=_blank rel=noopener>@mixolydianpink</a>,
<a href=https://github.com/mkapplebee target=_blank rel=noopener>@mkapplebee</a>,
<a href=https://github.com/moodymudskipper target=_blank rel=noopener>@moodymudskipper</a>,
<a href=https://github.com/mpaulacaldas target=_blank rel=noopener>@mpaulacaldas</a>,
<a href=https://github.com/Myfanwy target=_blank rel=noopener>@Myfanwy</a>,
<a href=https://github.com/ogorodriguez target=_blank rel=noopener>@ogorodriguez</a>,
<a href=https://github.com/onesandzeroes target=_blank rel=noopener>@onesandzeroes</a>,
<a href=https://github.com/Overlytic target=_blank rel=noopener>@Overlytic</a>,
<a href=https://github.com/paleolimbot target=_blank rel=noopener>@paleolimbot</a>,
<a href=https://github.com/PMassicotte target=_blank rel=noopener>@PMassicotte</a>,
<a href=https://github.com/psychometrician target=_blank rel=noopener>@psychometrician</a>,
<a href=https://github.com/Rekyt target=_blank rel=noopener>@Rekyt</a>,
<a href=https://github.com/romainfrancois target=_blank rel=noopener>@romainfrancois</a>,
<a href=https://github.com/romatik target=_blank rel=noopener>@romatik</a>,
<a href=https://github.com/rubenarslan target=_blank rel=noopener>@rubenarslan</a>,
<a href=https://github.com/SchollJ target=_blank rel=noopener>@SchollJ</a>,
<a href=https://github.com/seabbs target=_blank rel=noopener>@seabbs</a>,
<a href=https://github.com/sethmund target=_blank rel=noopener>@sethmund</a>,
<a href=https://github.com/sfirke target=_blank rel=noopener>@sfirke</a>,
<a href=https://github.com/SimonCoulombe target=_blank rel=noopener>@SimonCoulombe</a>,
<a href=https://github.com/Stephonomon target=_blank rel=noopener>@Stephonomon</a>,
<a href=https://github.com/stufield target=_blank rel=noopener>@stufield</a>,
<a href=https://github.com/tdjames1 target=_blank rel=noopener>@tdjames1</a>,
<a href=https://github.com/thierrygosselin target=_blank rel=noopener>@thierrygosselin</a>,
<a href=https://github.com/tklebel target=_blank rel=noopener>@tklebel</a>,
<a href=https://github.com/tmastny target=_blank rel=noopener>@tmastny</a>,
<a href=https://github.com/trannhatanh89 target=_blank rel=noopener>@trannhatanh89</a>,
<a href=https://github.com/TrentLobdell target=_blank rel=noopener>@TrentLobdell</a>,
<a href=https://github.com/wcmbishop target=_blank rel=noopener>@wcmbishop</a>,
<a href=https://github.com/wulixin target=_blank rel=noopener>@wulixin</a>,
<a href=https://github.com/yutannihilation target=_blank rel=noopener>@yutannihilation</a>, and
<a href=https://github.com/zeehio target=_blank rel=noopener>@zeehio</a>.</p></div></div><div class=column25><div class="section hideOnMobile"><div class=sectionTitle>Contents</div><nav id=TableOfContents><ul><li><a href=#pivoting>Pivoting</a></li><li><a href=#rectangling>Rectangling</a></li><li><a href=#nesting>Nesting</a></li><li><a href=#expand_grid><code>expand_grid()</code></a></li><li><a href=#thanks>Thanks</a></li></ul></nav></div><div class=section></div></div></div></div></div><div id=rStudioFooter class=band><div class=bandContent><div id=copyright>The tidyverse is proudly supported by <a class=rstudioLogo href=https://posit.co/ aria-label="Posit Homepage"></a></div><div id=logos><a href=https://www.tidyverse.org/google_privacy_policy>Privacy policy</a>
<a href=https://github.com/tidyverse class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a><a href=https://twitter.com/hashtag/rstats class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a></div></div></div></div></div><script src=/js/math-code.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');if(window.sessionStorage){var GA_SESSION_STORAGE_KEY='ga:clientId';ga('create','UA-115082821-1',{'storage':'none','clientId':sessionStorage.getItem(GA_SESSION_STORAGE_KEY)});ga(function(tracker){sessionStorage.setItem(GA_SESSION_STORAGE_KEY,tracker.get('clientId'));});}
ga('set','anonymizeIp',true);ga('send','pageview');}</script></body></html></div></div></body></html>